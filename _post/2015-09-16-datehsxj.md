---
title: MySQL Date 函数详解
date: 2015-09-16 10:28:56
tags: 
 - 数据库
categories: 
 - 数据库
---

MySQL 使用下列数据类型在数据库中存储日期或日期/时间值：

-   DATE -- 格式 YYYY-MM-DD
-   DATETIME -- 格式: YYYY-MM-DD HH:MM:SS
-   TIMESTAMP -- 格式: YYYY-MM-DD HH:MM:SS
-   YEAR -- 格式 YYYY 或 YY

下面的表格列出了 MySQL 中最重要的内建日期函数：

+-----------------------------------+-----------------------------------+
| **函数**                          | **描述**                          |
+-----------------------------------+-----------------------------------+
| NOW()                             | 返回当前的日期和时间              |
+-----------------------------------+-----------------------------------+
| CURDATE()                         | 返回当前的日期                    |
+-----------------------------------+-----------------------------------+
| CURTIME()                         | 返回当前的时间                    |
+-----------------------------------+-----------------------------------+
| DATE()                            | 提取日期或日期/时间表达式的日期部分 |
+-----------------------------------+-----------------------------------+
| EXTRACT()                         | 返回日期/时间按的单独部分         |
+-----------------------------------+-----------------------------------+
| DATE\_ADD()                       | 给日期添加指定的时间间隔          |
+-----------------------------------+-----------------------------------+
| DATE\_SUB()                       | 从日期减去指定的时间间隔          |
+-----------------------------------+-----------------------------------+
| DATEDIFF()                        | 返回两个日期之间的天数            |
+-----------------------------------+-----------------------------------+
| DATE\_FORMAT()                    | 用不同的格式显示日期/时间         |
+-----------------------------------+-----------------------------------+

### DATE()

定义和用法

DATE() 函数返回日期或日期/时间表达式的日期部分。

语法

``` 
DATE(date)
```

date 参数是合法的日期表达式。

### EXTRACT()

定义和用法

EXTRACT()
函数用于返回日期/时间的单独部分，比如年、月、日、小时、分钟等等。

语法

``` 
EXTRACT(unit FROM date)
```

*date* 参数是合法的日期表达式。

### DATE\_ADD()和DATE\_SUB()

定义和用法

DATE\_ADD() 函数向日期添加指定的时间间隔。

语法

``` 
DATE_ADD(date,INTERVAL expr type)
DATE_SUB(date,INTERVAL expr type)
```

*date* 参数是合法的日期表达式。*expr* 参数是您希望添加的时间间隔。

### Unit 和Type的值

``` 
MICROSECOND
SECOND
MINUTE
HOUR
DAY
WEEK
MONTH
QUARTER
YEAR
SECOND_MICROSECOND
MINUTE_MICROSECOND
MINUTE_SECOND
HOUR_MICROSECOND
HOUR_SECOND
HOUR_MINUTE
DAY_MICROSECOND
DAY_SECOND
DAY_MINUTE
DAY_HOUR
YEAR_MONTH
```

### DATEDIFF()

定义和用法

DATEDIFF() 函数返回两个日期之间的天数。

语法

``` 
DATEDIFF(date1,date2)
```

*date1* 和 *date2* 参数是合法的日期或日期/时间表达式。

注释：只有值的日期部分参与计算。

### DATE\_FORMAT()

定义和用法

DATE\_FORMAT() 函数用于以不同的格式显示日期/时间数据。

语法

``` 
DATE_FORMAT(date,format)
```

*date* 参数是合法的日期。*format* 规定日期/时间的输出格式。

可以使用的格式有：

+-----------------------------------+-----------------------------------+
| **格式**                          | **描述**                          |
+-----------------------------------+-----------------------------------+
| \%a                               | 缩写星期名                        |
+-----------------------------------+-----------------------------------+
| \%b                               | 缩写月名                          |
+-----------------------------------+-----------------------------------+
| \%c                               | 月，数值                          |
+-----------------------------------+-----------------------------------+
| \%D                               | 带有英文前缀的月中的天            |
+-----------------------------------+-----------------------------------+
| \%d                               | 月的天，数值(00-31)               |
+-----------------------------------+-----------------------------------+
| \%e                               | 月的天，数值(0-31)                |
+-----------------------------------+-----------------------------------+
| \%f                               | 微秒                              |
+-----------------------------------+-----------------------------------+
| \%H                               | 小时 (00-23)                      |
+-----------------------------------+-----------------------------------+
| \%h                               | 小时 (01-12)                      |
+-----------------------------------+-----------------------------------+
| \%I                               | 小时 (01-12)                      |
+-----------------------------------+-----------------------------------+
| \%i                               | 分钟，数值(00-59)                 |
+-----------------------------------+-----------------------------------+
| \%j                               | 年的天 (001-366)                  |
+-----------------------------------+-----------------------------------+
| \%k                               | 小时 (0-23)                       |
+-----------------------------------+-----------------------------------+
| \%l                               | 小时 (1-12)                       |
+-----------------------------------+-----------------------------------+
| \%M                               | 月名                              |
+-----------------------------------+-----------------------------------+
| \%m                               | 月，数值(00-12)                   |
+-----------------------------------+-----------------------------------+
| \%p                               | AM 或 PM                          |
+-----------------------------------+-----------------------------------+
| \%r                               | 时间，12-小时（hh:mm:ss AM 或     |
|                                   | PM）                              |
+-----------------------------------+-----------------------------------+
| \%S                               | 秒(00-59)                         |
+-----------------------------------+-----------------------------------+
| \%s                               | 秒(00-59)                         |
+-----------------------------------+-----------------------------------+
| \%T                               | 时间, 24-小时 (hh:mm:ss)          |
+-----------------------------------+-----------------------------------+
| \%U                               | 周 (00-53) 星期日是一周的第一天   |
+-----------------------------------+-----------------------------------+
| \%u                               | 周 (00-53) 星期一是一周的第一天   |
+-----------------------------------+-----------------------------------+
| \%V                               | 周 (01-53)                        |
|                                   | 星期日是一周的第一天，与 %X 使用  |
+-----------------------------------+-----------------------------------+
| \%v                               | 周 (01-53)                        |
|                                   | 星期一是一周的第一天，与 %x 使用  |
+-----------------------------------+-----------------------------------+
| \%W                               | 星期名                            |
+-----------------------------------+-----------------------------------+
| \%w                               | 周的天   （0=星期日, 6=星期六）   |
+-----------------------------------+-----------------------------------+
| \%X                               | 年，其中的星期日是周的第一天，4   |
|                                   | 位，与 %V 使用                    |
+-----------------------------------+-----------------------------------+
| \%x                               | 年，其中的星期一是周的第一天，4   |
|                                   | 位，与 %v 使用                    |
+-----------------------------------+-----------------------------------+
| \%Y                               | 年，4 位                          |
+-----------------------------------+-----------------------------------+
| \%y                               | 年，2 位                          |
+-----------------------------------+-----------------------------------+
