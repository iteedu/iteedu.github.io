<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->

<!--end of htmlmiddle-->



<h1>13.2.7. SELECT语法</h1>

          
        
      
      
        <dl>
          <dt><a href="join.html">13.2.7.1. 
            JOIN语法</a></dt>
          <dt><a href="../ix01.html">13.2.7.2. 
            UNION语法<br>
            &nbsp;</a></dt>
        </dl>
      
      
      <pre>SELECT
&nbsp;&nbsp;&nbsp; [ALL | DISTINCT | DISTINCTROW ]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [HIGH_PRIORITY]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [STRAIGHT_JOIN]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [SQL_SMALL_RESULT] [SQL_BIG_RESULT] [SQL_BUFFER_RESULT]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [SQL_CACHE | SQL_NO_CACHE] [SQL_CALC_FOUND_ROWS]
&nbsp;&nbsp;&nbsp; <i>select_expr</i>, ...
&nbsp;&nbsp;&nbsp; [INTO OUTFILE &#39;<i>file_name</i>&#39; <i>export_options</i>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | INTO DUMPFILE &#39;<i>file_name</i>&#39;]
&nbsp;&nbsp;&nbsp; [FROM <i>table_references</i>
&nbsp;&nbsp;&nbsp; [WHERE <i>where_definition</i>]
&nbsp;&nbsp;&nbsp; [GROUP BY {<i>col_name</i> | <i>expr</i> | <i>position</i>}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ASC | DESC], ... [WITH ROLLUP]]
&nbsp;&nbsp;&nbsp; [HAVING <i>where_definition</i>]
&nbsp;&nbsp;&nbsp; [ORDER BY {<i>col_name</i> | <i>expr</i> | <i>position</i>}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ASC | DESC] , ...]
&nbsp;&nbsp;&nbsp; [LIMIT {[<i>offset</i>,] <i>row_count</i> | <i>row_count</i> OFFSET <i>offset</i>}]
&nbsp;&nbsp;&nbsp; [PROCEDURE <i>procedure_name</i>(<i>argument_list</i>)]
&nbsp;&nbsp;&nbsp; [FOR UPDATE | LOCK IN SHARE MODE]]</pre>
      <p>SELECT用于恢复从一个或多个表中选择的行，并可以加入UNION语句和子查询。请参见<a href="../ix01.html" title="13.2.7.2. UNION Syntax">13.2.7.2节，“UNION语法<br>
        ”</a>和<a href="subqueries.html" title="13.2.8. Subquery Syntax">13.2.8节，“Subquery语法”</a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        每个<i>select_expr</i>都指示一个您想要恢复的列。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i> table_references</i>指示行从哪个表或哪些表中被恢复。在<a href="join.html" title="13.2.7.1. JOIN Syntax">13.2.7.1节，“JOIN语法”</a>中对该语法进行了说明。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i> where_definition</i>包括关键词WHERE，后面接一个表达式。该表达式指示被选择的行必须满足的条件。</p>
      <p>有的行在计算时未引用任何表。SELECT也可以用于恢复这类行。</p>
      <p>举例说明：</p>
      <pre>mysql&gt; SELECT 1 + 1;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt; 2</pre>
      <p>所有被使用的子句必须按语法说明中显示的顺序严格地排序。例如，一个HAVING子句必须位于GROUP 
        BY子句之后，并位于ORDER BY子句之前。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   使用AS <i>alias_name</i>可以为<i>select_expr</i>给定一个别名。此别名用作表达式的列名，可以用于GROUP 
        BY、ORDER BY或HAVING子句。例如：</p>
      <pre>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; SELECT CONCAT(last_name,&#39;, &#39;,first_name) AS full_name
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-&gt; FROM mytable ORDER BY full_name;</pre>
      <p>在为<i>select_expr</i>给定别名时，AS关键词是自选的。前面的例子可以这样编写：</p>
      <pre>mysql&gt; SELECT CONCAT(last_name,&#39;, &#39;,first_name) full_name
&nbsp;&nbsp;&nbsp; -&gt; FROM mytable ORDER BY full_name;</pre>
      <p>因为AS是自选的，如果您忘记在两个<i>select_expr</i>表达式之间加逗号，则会出现一个小问题：MySQL会把第二个表达式理解为一个别名。例如，在以下语句中，columnb被作为别名对待：</p>
      <pre>mysql&gt; SELECT columna columnb FROM mytable;</pre>
      <p>因此，使用AS明确地指定列的别名，把它作为习惯，是一个良好的操作规范。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        在一个WHERE子句中使用列别名是不允许的，因为当执行WHERE子句时，列值可能还没有被确定。请参见<a href="" title="A.5.4. Problems with Column Aliases">A.5.4节，“与列别名有关的问题”</a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        FROM <i> table_references</i>子句指示行从哪些表中被恢复。如果您命名的表多于一个，则您在进行一个联合操作。要了解有关联合语法的说明，请参见<a href="join.html" title="13.2.7.1. JOIN Syntax">13.2.7.1节，“JOIN语法”</a>。对于每一个被指定的表，您可以自选地指定一个别名。</p>
      <pre>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <i>tbl_name</i> [[AS] <i>alias</i>]
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;[{USE|IGNORE|FORCE} INDEX (<i>key_list</i>)]</pre>
      <p>使用USE INDEX、IGNORE 
        INDEX、FORCE INDEX可以向优化符提示如何选择索引。这部分内容在<a href="join.html" title="13.2.7.1. JOIN Syntax">13.2.7.1节，“JOIN语法”</a>中进行了讨论。</p>
      <p>您可以使用SET 
        max_seeks_for_key=<i>value</i>作为一种替代方法，来促使MySQL优先采用关键字扫描，替代表扫描。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        您可以把当前数据库中的一个表作为<i>tbl_name</i>（在当前数据库中）引用，或作为<i>db_name</i>.<i>tbl_name</i>引用，来明确地指定一个数据库。您可以把一列作为<i>col_name</i>, <i>tbl_name</i>.<i>col_name</i>引用或作为<i>db_name</i>.<i>tbl_name</i>.<i>col_name</i>引用。您不需要对一个列引用指定一个<i>tbl_name</i>或<i>db_name</i>.<i>tbl_name</i>前缀，除非此引用意义不明确。意义不明确时，要求指定明确的列引用格式。有关示例见<a href="create-database.html" title="9.2. Database, Table, Index, Column, and Alias Names">9.2节，“数据库、表、索引、列和别名”</a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    在没有表被引用的情况下，允许您指定DUAL作为一个假的表名。</p>
      <pre>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; SELECT 1 + 1 FROM DUAL;
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; 2</pre>
      <p>有些服务器要求一个FROM子句。DUAL仅用于与这些服务器兼容。如果没有表被引用，则MySQL不要求该子句，前面的语句可以按以下方法编写：</p>
      <pre>mysql&gt; SELECT 1 + 1;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt; 2</pre>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        使用<i>tbl_name</i> AS <i>alias_name</i>或<i>tbl_name 
        alias_name</i>可以为一个表引用起别名：</p>
      <pre>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; SELECT t1.name, t2.salary FROM employee AS t1, info AS t2
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp; WHERE t1.name = t2.name;
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; SELECT t1.name, t2.salary FROM employee t1, info t2
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp; WHERE t1.name = t2.name;</pre>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        在WHERE子句中，您可以使用MySQL支持的所有函数，不过总计（总结）函数除外。请参见<a href="../functions/index.html">第12章：</a><a href="../functions/index.html" title="Chapter 12. Functions and Operators"><i>函数和操作符</i></a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        被选择的用于输出的列可以使用列名称、列别名或列位置被引用到ORDER BY和GROUP 
        BY子句中。列位置为整数，从1开始：</p>
      <pre>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; SELECT college, region, seed FROM tournament
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY region, seed;
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; SELECT college, region AS r, seed AS s FROM tournament
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY r, s;
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; SELECT college, region, seed FROM tournament
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp; ORDER BY 2, 3;</pre>
      <p>要以相反的顺序进行分类，应把DESC（降序）关键字添加到ORDER 
        BY子句中的列名称中。默认值为升序；该值可以使用ASC关键词明确地指定。</p>
      <p>不建议使用列位置，因为该语法已经从SQL标准中删除。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        如果您使用GROUP BY，则输出行根据GROUP 
        BY列进行分类，如同您对相同的列进行了ORDER BY。MySQL对GROUP 
        BY进行了扩展，因此您可以在各列（在子句中进行命名）的后面指定ASC和DESC：</p>
      <pre>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SELECT a, COUNT(b) FROM test_table GROUP BY a DESC</pre>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        MySQL对GROUP BY的使用进行了扩展，允许选择在GROUP 
        BY子句中没有被提到的字段。如果您没有得到预期的结果，请阅读GROUP BY的说明，请参见<a href="" title="12.10. Functions and Modifiers for Use with GROUP BY Clauses">12.10节，“与GROUP BY子句同时使用的函数和修改程序”</a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        GROUP BY允许一个WITH 
        ROLLUP修饰符。请参见<a href="" title="12.10.2. GROUP BY Modifiers">12.10.2节，“GROUP 
        BY修改程序”</a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        HAVING子句基本上是最后使用，只位于被发送给客户端的条目之前，没有进行优化。（LIMIT用于HAVING之后。）</p>
      <p>SQL标准要求HAVING必须引用GROUP 
        BY子句中的列或用于总计函数中的列。不过，MySQL支持对此工作性质的扩展，并允许HAVING因为SELECT清单中的列和外部子查询中的列。</p>
      <p>如果HAVING子句引用了一个意义不明确的列，则会出现警告。在下面的语句中，col2意义不明确，因为它既作为别名使用，又作为列名使用：</p>
      <pre>mysql&gt; SELECT COUNT(col1) AS col2 FROM t GROUP BY col2 HAVING col2 = 2;</pre>
      <p>标准SQL工作性质具有优先权，因此如果一个HAVING列名既被用于GROUP 
        BY，又被用作输出列清单中的起了别名的列，则优先权被给予GROUP BY列中的列。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        HAVING不能用于应被用于WHERE子句的条目。例如，不能编写如下语句：</p>
      <pre>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; SELECT <i>col_name</i> FROM <i>tbl_name</i> HAVING <i>col_name</i> &gt; 0;</pre>
      <p>而应这么编写：</p>
      <pre>mysql&gt; SELECT <i>col_name</i> FROM <i>tbl_name</i> WHERE <i>col_name</i> &gt; 0;</pre>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        HAVING子句可以引用总计函数，而WHERE子句不能引用：</p>
      <pre>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mysql&gt; SELECT user, MAX(salary) FROM users
·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;&nbsp;&nbsp;&nbsp; GROUP BY user HAVING MAX(salary)&gt;10;</pre>
      <p>（在有些较早版本的MySQL中，本语句不运行。）</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        LIMIT子句可以被用于限制被SELECT语句返回的行数。LIMIT取一个或两个数字自变量，自变量必须是非负的整数常数（当使用已预备的语句时除外）。</p>
      <p> 使用两个自变量时，第一个自变量指定返回的第一行的偏移量，第二个自变量指定返回的行数的最大值。初始行的偏移量为0（不是1）：</p>
      <pre>mysql&gt; SELECT * FROM tbl LIMIT 5,10;&nbsp; # Retrieve rows 6-15</pre>
      <p>为了与PostgreSQL兼容，MySQL也支持LIMIT <i>row_count</i> OFFSET <i>offset</i>语法。</p>
      <p> 如果要恢复从某个偏移量到结果集合的末端之间的所有的行，您可以对第二个参数是使用比较大的数。本语句可以恢复从第96行到最后的所有行：</p>
      <pre>mysql&gt; SELECT * FROM tbl LIMIT 95,18446744073709551615;</pre>
      <p>使用1个自变量时，该值指定从结果集合的开头返回的行数：</p>
      <pre>mysql&gt; SELECT * FROM tbl LIMIT 5;&nbsp;&nbsp;&nbsp;&nbsp; # Retrieve first 5 rows</pre>
      <p>换句话说，LIMIT n与LIMIT 
        0,n等价。</p>
      <p>对于已预备的语句，您可以使用位置保持符。以下语句将从tb1表中返回一行：</p>
      <pre>mysql&gt; SET @a=1;
mysql&gt; PREPARE STMT FROM &quot;SELECT * FROM tbl LIMIT ?&quot;;
mysql&gt; EXECUTE STMT USING @a;</pre>
      <p>以下语句将从tb1表中返回第二到第六行：</p>
      <pre>mysql&gt; SET @skip=1; SET @numrows=5;
mysql&gt; PREPARE STMT FROM &quot;SELECT * FROM tbl LIMIT ?, ?&quot;;
mysql&gt; EXECUTE STMT USING @skip, @numrows;</pre>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        SELECT...INTO OUTFILE 
        &#39;<i>file_name</i>&#39;形式的SELECT可以把被选择的行写入一个文件中。该文件被创建到服务器主机上，因此您必须拥有FILE权限，才能使用此语法。<i>file_name</i>不能是一个原有的文件。原有文件会阻止例如“/etc/passwd”的文件和数据库表被销毁。</p>
      <p>SELECT...INTO OUTFILE语句的主要作用是让您可以非常快速地把一个表转储到服务器机器上。如果您想要在服务器主机之外的部分客户主机上创建结果文件，您不能使用SELECT...INTO 
        OUTFILE。在这种情况下，您应该在客户主机上使用比如“mysql –e
        &quot;SELECT ...&quot; &gt; file_name”的命令，来生成文件。</p>
      <p>SELECT...INTO OUTFILE是LOAD 
        DATA INFILE的补语；用于语句的exort_options部分的语法包括部分FIELDS和LINES子句，这些子句与LOAD 
        DATA INFILE语句同时使用。请参见<a href="load-data.html" title="13.2.5. LOAD DATA INFILE Syntax">13.2.5节，“LOAD DATA INFILE语法”</a>。</p>
      <p>FIELDS ESCAPED BY用于控制如何写入特殊字符。如果FIELDS 
        ESCAPED BY字符不是空字符，则被用于在输出中对以下字符设前缀：</p>
      <p> o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        FIELDS ESCAPED BY字符</p>
      <p> o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        FIELDS [OPTIONALLY] ENCLOSED BY字符</p>
      <p> o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        FIELDS TERMINATED BY和LINES 
        TERMINATED BY值的第一个字符</p>
      <p> o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        ASCII 0（在编写时接在转义符后面的是ASCII
        ‘0’，而不是一个零值字节）</p>
      <p>如果FIELDS ESCAPED BY字符是空字符，则没有字符被转义，并且NULL被作为NULL输出，而不是作为\N输出。指定一个空的转义符不是一个好的主意。特别是当您的数据中的字段值包含刚被给予的清单中的字符时，更是如此。</p>
      <p>其原因是您必须对所有FIELDS 
        TERMINATED BY, ENCLOSED BY, ESCAPED BY或LINES 
        TERMINATED BY字符进行转义，才能可靠地读取文件并返回。ASCII NUL被转义，以便更容易地使用调页程序观看。</p>
      <p>生成的文件不必符合SQL语法，所以没有其它的字符需要被转义。</p>
      <p>在下面的例子中，生成一个文件，各值用逗号隔开。这种格式可以被许多程序使用。</p>
      <pre>SELECT a,b,a+b INTO OUTFILE &#39;/tmp/result.text&#39;
FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&quot;&#39;
LINES TERMINATED BY &#39;\n&#39;
FROM test_table;</pre>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        如果您使用INTO DUMPFILE代替INTO 
        OUTFILE，则MySQL只把一行写入到文件中，不对任何列或行进行终止，也不执行任何转义处理。如果您想要把一个BLOB值存储到文件中，则这个语句是有用的。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        注释：任何由INTO OUTFILE或INTO 
        DUMPFILE创建的文件都可以被服务器主机上的所有用户编写。原因是，MySQL服务器不能创建这样的文件，即文件的所有者不是该文件运行时所属的用户（任何时候，您都不能出于此原因或出于其它原因把mysqld作为根段运行）。该文件必须是全局可写的，这样您就可以操作其中的内容。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        有的过程应在结果集合内处理数据。PROCEDURE子句用于对这些过程进行命名。要了解示例，请参见<a href="" title="27.3.1. Procedure Analyse">27.3.1节，“步骤分析”</a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        存储引擎使用页面或行锁。如果您对存储引擎使用FOR UPDATE，则受到查询检验的行会被进行写锁定，直到当前事务结束为止。使用LOCK 
        IN SHARE MODE可以设置一个共享锁。共享锁可以防止其它事务更新或删除被检验的行。请参见<a href="" title="15.2.10.5. Locking Reads SELECT ... FOR UPDATE and SELECT ... LOCK IN SHARE MODE">15.2.10.5节，“锁定读取SELECT ... FOR UPDATE和SELECT ... LOCK IN SHARE MODE”</a>。</p>
      <p>在SELECT关键词的后面，您可以使用许多选项。这些选项可以影响语句的运行。</p>
      <p>ALL, DISTINCT和DISTINCTROW选项指定是否重复行应被返回。如果这些选项没有被给定，则默认值为ALL（所有的匹配行被返回）。DISTINCT和DISTINCTROW是同义词，用于指定结果集合中的重复行应被删除。</p>
      <p>HIGH_PRIORITY, STRAIGHT_JOIN和以SQL_为开头的选项是MySQL相对于标准SQL的扩展。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        HIGH_PRIORITY给予SELECT更高的优先权，高于用于更新表的语句。您应该只对查询使用HIGH_PRIORITY。查询速度非常快，而且立刻被执行。SELECT 
        HIGH_PRIORITY查询在表被锁定用于读取时被发出。即使有一个新的语句正在等待表变为空闲，查询也会运行。</p>
      <p>HIGH_PRIORITY不能和SELECT语句同时使用。SELECT语句是UNION的一部分。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        STRAIGHT_JOIN用于促使优化符把表联合在一起，顺序按照这些表在FROM子句中排列的顺序。如果优化符联合表时顺序不佳，您可以使用STRAIGHT_JOIN来加快查询的速度。请参见<a href="" title="7.2.1. EXPLAIN Syntax (Get Information About a SELECT)">7.2.1节，“EXPLAIN语法（获取关于SELECT的信息）”</a>。STRAIGHT_JOIN也可以被用于<i>table_references</i>清单中。请参见<a href="join.html" title="13.2.7.1. JOIN Syntax">13.2.7.1节，“JOIN语法”</a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        SQL_BIG_RESULT可以与GROUP 
        BY或DISTINCT同时使用，来告知优化符结果集合有很多行。在这种情况下，MySQL直接使用以磁盘为基础的临时表（如果需要的话）。在这种情况下，MySQL还会优先进行分类，不优先使用临时表。临时表对于GROUP 
        BY组分带有关键字。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        SQL_BUFFER_RESULT促使结果被放入一个临时表中。这可以帮助MySQL提前解开表锁定，在需要花费较长时间的情况下，也可以帮助把结果集合发送到客户端中。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        SQL_SMALL_RESULT可以与GROUP 
        BY或DISTINCT同时使用，来告知优化符结果集合是较小的。在此情况下，MySAL使用快速临时表来储存生成的表，而不是使用分类。在MySQL 
        5.1中，通常不需要这样。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        SQL_CALC_FOUND_ROWS告知MySQL计算有多少行应位于结果集合中，不考虑任何LIMIT子句。行的数目可以使用SELECT 
        FOUND_ROWS()恢复。请参见<a href="insert.html" title="12.9.3. Information Functions">12.9.3节，“信息函数”</a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        如果您正在使用一个query_cache_type值，值为2或DEMAND，则SQL_CACHE告知MySQL把查询结果存储在查询缓存中。对于使用UNION的查询或子查询，本选项会影响查询中的所有SELECT。请参见<a href="select.html" title="5.13. The MySQL Query Cache">5.13节，“MySQL查询高速缓冲”</a>。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        SQL_NO_CACHE告知MySQL不要把查询结果存储在查询缓存中。请参见<a href="select.html" title="5.13. The MySQL Query Cache">5.13节，“MySQL查询高速缓冲”</a>。对于一个使用UNION或子查询的查询，本选项会影响查询中的SELECT。</p>
      
        
          
            
              


<!--start of htmlend-->
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->