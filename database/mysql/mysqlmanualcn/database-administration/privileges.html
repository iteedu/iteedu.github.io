<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->

<!--end of htmlmiddle-->



<h1> 5.7.2.&nbsp;权限系统工作原理</h1>

          
        
      
      
      <p> MySQL权限系统保证所有的用户只执行允许做的事情。当你连接MySQL服务器时，你的身份由<i>你从那儿连接的主机</i>和<i>你指定的用户名</i>来决定。连接后发出请求后，系统根据你的身份和你想做什么来授予权限。</p>
      <p>MySQL在认定身份中考虑你的主机名和用户名字，是因为几乎没有原因假定一个给定的用户在因特网上属于同一个人。例如，从office.com连接的用户joe不一定和从elsewhere.com连接的joe是同一个人。MySQL通过允许你区分在不同的主机上碰巧有同样名字的用户来处理它：你可以对joe从office.com进行的连接授与一个权限集，而为joe从elsewhere.com的连接授予一个不同的权限集。</p>
      <p> MySQL存取控制包含2个阶段：</p>
      <ul type="disc">
        <li>阶段1：服务器检查是否允许你连接。</li>
        <li>阶段2：假定你能连接，服务器检查你发出的每个请求。看你是否有足够的权限实施它。例如，如果你从数据库表中选择(select)行或从数据库删除表，服务器确定你对表有SELECT权限或对数据库有DROP权限。</li>
      </ul>
      <p>如果连接时你的权限被更改了(通过你和其它人)，这些更改不一定立即对你发出的下一个语句生效。详情参见<a href="privilege-changes.html" title="5.7.7. When Privilege Changes Take Effect">5.7.7节，“权限更改何时生效”</a>。</p>
      <p>服务器在mysql数据库的
        授权表中保存权限信息(即在mysql数据库中)。当MySQL服务器启动时将这些表的内容读入内存，在<a href="privilege-changes.html" title="5.7.7. When Privilege Changes Take Effect">5.7.7节，“权限更改何时生效”</a>的环境下重新读取它们。访问控制决策取决于内存中的
        授权表的份数。</p>
      <p>一般情况，你通过GRANT和REVOKE语句间接来操作
        授权表的内容，设置账户并控制个人的权限。参见<a href="adding-users.html" title="13.5.1.3. GRANT and REVOKE Syntax">13.5.1.3节，“GRANT和REVOKE语法”</a>。下面讨论了
        授权表的结构以及服务器与客户端交互操作时如何使用其内容。</p>
      <p>服务器在存取控制的两个阶段使用mysql数据库中的user、db和host表，这些授权表中的列如下：</p>
      <table border="1" cellpadding="0" style="margin-left: -.4pt" id="table8">
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>表名</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> user</td>
          <td><p> db</td>
          <td><p> host</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> 列范围</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Host</td>
          <td><p> Host</td>
          <td><p> Host</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> User</td>
          <td><p> Db</td>
          <td><p> Db</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Password</td>
          <td><p> User</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> 权限列</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Select_priv</td>
          <td><p> Select_priv</td>
          <td><p> Select_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Insert_priv</td>
          <td><p> Insert_priv</td>
          <td><p> Insert_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Update_priv</td>
          <td><p> Update_priv</td>
          <td><p> Update_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Delete_priv</td>
          <td><p> Delete_priv</td>
          <td><p> Delete_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Index_priv</td>
          <td><p> Index_priv</td>
          <td><p> Index_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Alter_priv</td>
          <td><p> Alter_priv</td>
          <td><p> Alter_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Create_priv</td>
          <td><p> Create_priv</td>
          <td><p> Create_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Drop_priv</td>
          <td><p> Drop_priv</td>
          <td><p> Drop_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Grant_priv</td>
          <td><p> Grant_priv</td>
          <td><p> Grant_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Create_view_priv</td>
          <td><p> Create_view_priv</td>
          <td><p> Create_view_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Show_view_priv</td>
          <td><p> Show_view_priv</td>
          <td><p> Show_view_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Create_routine_priv</td>
          <td><p> Create_routine_priv</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Alter_routine_priv</td>
          <td><p> Alter_routine_priv</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> References_priv</td>
          <td><p> References_priv</td>
          <td><p> References_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> &nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Reload_priv</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Shutdown_priv</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Process_priv</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> File_priv</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Show_db_priv</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Super_priv</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Create_tmp_table_priv</td>
          <td><p> Create_tmp_table_priv</td>
          <td><p> Create_tmp_table_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Lock_tables_priv</td>
          <td><p> Lock_tables_priv</td>
          <td><p> Lock_tables_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Execute_priv</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Repl_slave_priv</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> Repl_client_priv</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> 安全列</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> ssl_type</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> ssl_cipher</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> x509_issuer</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> x509_subject</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> 资源控制列</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> max_questions</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> max_updates</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> max_connections</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="172" style="width:129.0pt;padding:.75pt .75pt .75pt .75pt"><p> max_user_connections</td>
          <td><p>&nbsp;</td>
          <td><p>&nbsp;</td>
        </tr>
      </table>
      <p>对存取控制的第二阶段(请求证实)，服务器执行请求验证以确保每个客户端有充分的权限满足各需求。除了user、db和host授权表，如果请求涉及表，服务器可以另外参考tables_priv和columns_priv表。tables_priv和columns_priv表可以对表和列提供更精确的权限控制。这些表的列如下：</p>
      <table border="1" cellpadding="0" style="margin-left: -.4pt" id="table9">
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>表名</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p> tables_priv</td>
          <td><p> columns_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> 范围列</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p> Host</td>
          <td><p> Host</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p> Db</td>
          <td><p> Db</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p> User</td>
          <td><p> User</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p> Table_name</td>
          <td><p> Table_name</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td><p> Column_name</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> 权限列</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p> Table_priv</td>
          <td><p> Column_priv</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p> Column_priv</td>
          <td><p>&nbsp;</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> 其它列</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p> Timestamp</td>
          <td><p> Timestamp</td>
        </tr>
        <tr>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>&nbsp;</td>
          <td width="103" style="width:77.25pt;padding:.75pt .75pt .75pt .75pt"><p> Grantor</td>
          <td><p>&nbsp;</td>
        </tr>
      </table>
      <p>Timestamp和Grantor列当前还未使用，这儿不再进一步讨论。</p>
      <p>为了对涉及保存程序的请求进行验证，服务器将查阅procs_priv表。该表具有以下列：</p>
      <table border="1" cellpadding="0" id="table10">
        <tr>
          <td><p>表名</td>
          <td><p> procs_priv</td>
        </tr>
        <tr>
          <td><p> 范围列</td>
          <td><p> Host</td>
        </tr>
        <tr>
          <td><p>&nbsp;</td>
          <td><p> Db</td>
        </tr>
        <tr>
          <td><p>&nbsp;</td>
          <td><p> User</td>
        </tr>
        <tr>
          <td><p>&nbsp;</td>
          <td><p> Routine_name</td>
        </tr>
        <tr>
          <td><p>&nbsp;</td>
          <td><p> Routine_type</td>
        </tr>
        <tr>
          <td><p> 权限列</td>
          <td><p> Proc_priv</td>
        </tr>
        <tr>
          <td><p> 其它列</td>
          <td><p> Timestamp</td>
        </tr>
        <tr>
          <td><p>&nbsp;</td>
          <td><p> Grantor</td>
        </tr>
      </table>
      <p>Routine_type列为ENUM列，值为&#39;FUNCTION&#39;或&#39;PROCEDURE&#39;，表示行所指的程序类型。该列允许为同名函数和程序单独授权。</p>
      <p>Timestamp和Grantor列当前还未使用，这儿不再进一步讨论。</p>
      <p>每个授权表包含范围列和权限列：</p>
      <p style="text-indent: -21.0pt; margin-left: 21.0pt;   "> l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        范围列决定表中每个条目（行）的范围，即，行适用的上下文。例如,
        一个user表行的Host和User值为&#39;thomas.loc.gov&#39;和&#39;bob&#39;，将被用于证实来自主机thomas.loc.gov的bob对服务器的连接。同样，一个db表行的Host、User和Db列的值是&#39;thomas.loc.gov&#39;、&#39;bob&#39;和&#39;reports&#39;将用在bob从主机thomas.loc.gov联接访问reports数据库的时候。tables_priv和columns_priv表包含范围列，指出每个行适用的表或表/列的组合。procs_priv范围列指出每个行适用的保存程序。</p>
      <p style="margin-left: 27.0pt;   "> 对于检查存取的用途，比较Host值是忽略大小写的。User、Password、Db和Table_name值是区分大小写的。Column_name值在MySQL3.22.12或以后版本是忽略大小写的。</p>
      <p style="text-indent: -21.0pt; margin-left: 21.0pt;   "> l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        
        权限列指出由一个表行授予的权限，即，可实施什么操作。服务器组合各种的授权表的信息形成一个用户权限的完整描述。为此使用的规则在<a href="request-access.html" title="5.7.6. Access Control, Stage 2: Request Verification">5.7.6节，“访问控制, 阶段2：请求核实”</a>描述。</p>
      <p>范围列包含字符串，如下所述；每个列的默认值是空字符串：</p>
      <table border="1" cellpadding="0" id="table11">
        <tr>
          <td width="116"><p>列名</td>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p>类型</td>
        </tr>
        <tr>
          <td width="116"><p> Host</td>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> CHAR(60)</td>
        </tr>
        <tr>
          <td width="116"><p> User</td>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> CHAR(16)</td>
        </tr>
        <tr>
          <td width="116"><p> Password</td>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> CHAR(16)</td>
        </tr>
        <tr>
          <td width="116"><p> Db</td>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> CHAR(64)</td>
        </tr>
        <tr>
          <td width="116"><p> Table_name</td>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> CHAR(64)</td>
        </tr>
        <tr>
          <td width="116"><p> Column_name</td>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> CHAR(64)</td>
        </tr>
        <tr>
          <td width="116"><p> Routine_name</td>
          <td width="69" style="width:51.75pt;padding:.75pt .75pt .75pt .75pt"><p> CHAR(64)</td>
        </tr>
      </table>
      <p>为了访问检查目的，Host值的比较对大小写不敏感。User、Password、Db和Table_name值对大小写敏感。Column_name值对大小写不敏感。</p>
      <p> 在user、db和host表中，所有权限列于单独的列内，被声明为ENUM(&#39;N&#39;,&#39;Y&#39;) 
        DEFAULT &#39;N&#39;。换句话说，每一个权限都可以被禁用和启用，并且
        默认是禁用。</p>
      <p>在tables_priv、columns_priv和procs_priv表中，权限列被声明为SET列。这些列的值可以包含该表控制的权限的组合：</p>
      <table border="1" cellpadding="0" id="table12">
        <tr>
          <td><p>表名</td>
          <td><p>列名</td>
          <td><p> 可能的设置元素</td>
        </tr>
        <tr>
          <td><p> tables_priv</td>
          <td><p> Table_priv</td>
          <td><p> &#39;Select&#39;, &#39;Insert&#39;, &#39;Update&#39;, &#39;Delete&#39;, 
              &#39;Create&#39;, &#39;Drop&#39;, &#39;Grant&#39;, &#39;References&#39;, &#39;Index&#39;, &#39;Alter&#39;</td>
        </tr>
        <tr>
          <td><p> tables_priv</td>
          <td><p> Column_priv</td>
          <td><p> &#39;Select&#39;, &#39;Insert&#39;, &#39;Update&#39;, 
              &#39;References&#39;</td>
        </tr>
        <tr>
          <td><p> columns_priv</td>
          <td><p> Column_priv</td>
          <td><p> &#39;Select&#39;, &#39;Insert&#39;, &#39;Update&#39;, 
              &#39;References&#39;</td>
        </tr>
        <tr>
          <td><p> procs_priv</td>
          <td><p> Proc_priv</td>
          <td><p> &#39;Execute&#39;, &#39;Alter Routine&#39;, &#39;Grant&#39;</td>
        </tr>
      </table>
      <p>简单地说，服务器使用这样的授权表：</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        user表范围列决定是否允许或拒绝到来的连接。对于允许的连接，user表授予的权限指出用户的全局(超级用户)权限。这些权限适用于服务器上的<em>all</em>数据库。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        db表范围列决定用户能从哪个主机存取哪个数据库。权限列决定允许哪个操作。授予的数据库级别的权限适用于数据库和它的表。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        当你想要一个给定的db表行应用于若干主机时，db和host表一起使用。例如，如果你想要一个用户能在你的网络从若干主机使用一个数据库，在用户的db表行的Host值设为空值，然后将那些主机的每一个移入host表。这个机制详细描述在<a href="request-access.html" title="5.7.6. Access Control, Stage 2: Request Verification">5.7.6节，“访问控制, 阶段2：请求核实”</a>。</p>
      <p> 注释：host表不受GRANT和REVOKE语句的影响。大多数MySQL安装根本不需要使用该表。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        
        tables_priv和columns_priv表类似于db表，但是更精致：它们在表和列级应用而非在数据库级。授予表级别的权限适用于表和所有它的列。授予列级别的权限只适用于专用列。</p>
      <p> ·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        
        procs_priv表适用于保存的程序。授予程序级别的权限只适用于单个程序。</p>
      <p> 管理权限(例如RELOAD或SHUTDOWN等等)仅在user表中被指定。这是因为管理性操作是服务器本身的操作并且不是特定数据库，因此没有理由在其他授权表中列出这样的权限。事实上，只需要查询user表来决定你是否执行一个管理操作。 </p>
      <p> FILE权限也仅在user表中指定。它不是管理性权限，但你在服务器主机上读或写文件的能力与你正在存取的数据库无关。</p>
      <p> 当mysqld服务器启动时，将授权表的内容读入到内存中。你可以通过FLUSH 
        PRIVILEGES语句或执行mysqladmin flush-privileges或mysqladmin 
        reload命令让它重新读取表。对授权表的更改生效在<a href="privilege-changes.html" title="5.7.7. When Privilege Changes Take Effect">5.7.7节，“权限更改何时生效”</a>描述。 </p>
      <p> 当你修改授权表的内容时，确保你按你想要的方式更改权限设置是一个好主意。要检查给定账户的权限，使用SHOW 
        GRANTS语句。例如，要检查Host和User值分别为pc84.example.com和bob的账户所授予的权限，应通过语句：</p>
      <p>&nbsp; </p>
      <p> mysql&gt;  SHOW GRANTS FOR &#39;bob&#39;@&#39;pc84.example.com&#39;;</p>
      <p>一个有用的诊断工具是mysqlaccess脚本，由Carlier 
        Yves 提供给MySQL分发。使用--help选项调用mysqlaccess查明它怎样工作。注意：mysqlaccess仅用user、db和host表检查存取。它不检查tables_priv、columns_priv或procs_priv表中指定的表、列和程序级权限。</p>
      <p>对于诊断权限相关的问题的其它帮助，参见<a href="access-denied.html" title="5.7.8. Causes of Access denied Errors">5.7.8节，“拒绝访问错误的原因”</a>。对于安全问题常规建议，参见<a href="security.html" title="5.6. General Security Issues">5.6节，“一般安全问题”</a>。
    
    
      
        
          
            


<!--start of htmlend-->
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->