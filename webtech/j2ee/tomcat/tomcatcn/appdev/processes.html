<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->


<table border="0" width="100%" cellspacing="4"><!--HEADER SEPARATOR--><tr><!--LEFT SIDE NAVIGATION--><td width="20%" valign="top" nowrap="true"><p><strong>Links</strong></p><ul><li><a href="../index.html" tppabs="http://tomcat.jaxwiki.org/index.html">Docs Home</a></li></ul><p><strong>Contents</strong></p><ul><li><a href="index.html" tppabs="http://tomcat.jaxwiki.org/appdev/index.html">Contents</a></li><li><a href="introduction.html" tppabs="http://tomcat.jaxwiki.org/appdev/introduction.html">Introduction</a></li><li><a href="installation.html" tppabs="http://tomcat.jaxwiki.org/appdev/installation.html">Installation</a></li><li><a href="deployment.html" tppabs="http://tomcat.jaxwiki.org/appdev/deployment.html">Deployment</a></li><li><a href="source.html" tppabs="http://tomcat.jaxwiki.org/appdev/source.html">Source Code</a></li><li><a href="index.html" tppabs="http://tomcat.jaxwiki.org/appdev/processes.html">Processes</a></li><li><a href="sample/index.html" tppabs="http://tomcat.jaxwiki.org/appdev/sample/">Example App</a></li></ul></td><!--RIGHT SIDE MAIN BODY--><td width="80%" valign="top" align="left"><table border="0" width="100%" cellspacing="4"><tr><td align="left" valign="top"><h1>应用开发人员指南</h1><h2>开发过程(Development Processes)</h2></td></tr></table><table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Development Processes"><strong>Development Processes</strong></a></font></td></tr><tr><td><blockquote>

<p>尽管可以采取多种形式来进行应用开发, 这个手册提议以一种标准样本处理方式来利用Tomcat产生web应用程序。以下部分着重强调了作为编程开发人员将执行的命令和任务。只要你有一个适当的源代码控制系统，以及内部条文规定什么人在什么时间内做哪一部分工作，那么当你有多个程序员一起开发程序时，这种基本的处理方法应该行得通。</p>

<p>下面对于工作程序的描述是假设你将使用CVS作为源代码控制系统，以及你已经配置好了相关CVS贮藏库的通路。关于使用和配置CVS的说明超出了本手册的范围。如果你使用不同的源代码控制环境，你要自己弄清楚那个系统的相关命令。</p>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="One-Time Setup of Ant and Tomcat for Development"><strong>One-Time Setup of Ant and Tomcat for Development</strong></a></font></td></tr><tr><td><blockquote>

<p>为了使用和管理员(<em>Manager</em>)网络程序相互作用的特别Ant任务，你需要执行一次以下的任务(不管你计划要开发多少个web程序)。</p>
<ul>
<li><em>配置Ant custom tasks</em> 。关于Ant custom tasks 的实施代码是在一个叫做$CATALINA_HOME/server/<code>lib</code>/catalina-ant.jar的JAR文件里，它必须被复制到ant安装目录的lib目录中。 <br><br></li>
<li><em>定义一个或多个Tomcat用户</em>。管理员(<em>Manager</em>)这个网络程序有安全限制，它要求用户必须注册登记(logged in)，并具有Manager指派的安全职责。
怎样定义这些用户依赖于你在Tomcat's <code>conf/server.xml</code>文件里配置的领域(Realm)——更多信息请参看<a href="../realm-howto.html" tppabs="http://tomcat.jaxwiki.org/realm-howto.html">Realm Configuration HOW-TO</a>。管理员(Manager)可以定义任何数目的用户(任何用户名称和密码)。 <br><br></li>
</ul>

</blockquote></td></tr></table>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Create Project Source Code Directory"><strong>Create Project Source Code Directory</strong></a></font></td></tr><tr><td><blockquote>

<p>第一步就是要产生一个新的项目源目录，并客户化需要使用的<code>build.xml</code> 和<code>build.properties</code> 文件。关于目录结构(directory structure)在<a href="source.html" tppabs="http://tomcat.jaxwiki.org/appdev/source.html">上一章</a>有描述，或者你可以使用<a href="sample/index.html" tppabs="http://tomcat.jaxwiki.org/appdev/sample/">sample application</a>作为一个起始点。</p>

<p>产生一个项目源目录，并把它定义在你的CVS 贮藏库之内。这可以通过下面这样一系列命令来实现，这里<code>{project}</code>是指你储存在CVS 贮藏库中project的名称，{username}是指你的登录用户名称。</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>cd {my home directory} 
mkdir myapp   &amp;lt;-- Assumed "project source directory" 
cd myapp 
mkdir docs 
mkdir src 
mkdir web 
mkdir web/WEB-INF 
cvs import -m "Initial Project Creation" {project} \ 
   {username} start</pre></td><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>现在, 我们来执行一次checkout这个新项目，以核实它在CVS里被正确地产生了。</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>cd .. 
mv myapp myapp.bu 
cvs checkout {project}</pre></td><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>再次, 你将需要产生和登记一个初始版本的 <code><code>build.xml</code></code> script来用作软件开发。要简易快捷地开始，你可以在这个手册里的<a href="build.xml.txt" tppabs="http://tomcat.jaxwiki.org/appdev/build.xml.txt">basic build .xml 文件</a>基础上产生build.xml，或者从头开始编码它。</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>cd {my home directory} 
cd myapp 
emacs build.xml      &amp;lt;-- if you want a real editor :-) 
cvs add build.xml 
cvs commit</pre></td><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>直到你执行CVS commit之前, 你的这些变动还是局限在你自己的开发目录。Committing使得共用同一CVS 贮藏库的同组的其它开发人员可以看得见你的这些更改。</p>

<p>下一步就是要把<code><code>build.xml</code></code> script里命名的Ant属性(<em>properties</em>)客户化。这需要在你的项目的上层目录产生一个叫做<code>build.properties</code>的文件。Tomcat支持的属性(properties)被列出在样本build.xml script的注释中。至少，你必须定义<code>catalina.home</code>的属性，这个属性指出了Tomcat 5 被安装在哪里以及管理员程序里的用户名称和密码。你的编码也许象这样:</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>
# Context path to install this application on
app.path=/hello

# Tomcat 5 installation directory
catalina.home=/usr/local/apache-tomcat-5.5

# Manager webapp username and password
manager.username=myusername
manager.password=mypassword
</pre></td><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>通常，你<strong>不</strong>要把这个<code>build.properties</code> 文件存入CVS 贮藏库, 因为它对每个开发人员的工作环境来说都是特定的。</p>

<p>现在, 产生初始版本的网络应用调度描述符(web application deployment descriptor)。你可以在<a href="web.xml.txt.html" tppabs="http://tomcat.jaxwiki.org/appdev/web.xml.txt">basic web. xml 文件</a>基础上产生<code>web.xml</code>，或者从头编码它。</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>cd {my home directory} 
cd myapp/web/WEB-INF 
emacs web.xml 
cvs add web.xml 
cvs commit</pre></td><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>注意，这只是一个web.xml 文件的例子。Servlet 规范里对调度描述符(deployment descriptor)文件有完整的定义。</blockquote></td></tr></table>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Edit Source Code and Pages"><strong>Edit Source Code and Pages</strong></a></font></td></tr><tr><td><blockquote>

<p>Edit/build/test(编辑/建造/测试)是开发和维护中最常见的活动。以下一般性原则适用。如源代码组织(<a href="source.html" tppabs="http://tomcat.jaxwiki.org/appdev/source.html">Source Organization</a>)所描述，新产生的源文件应该被放在项目源目录之下适当的subdirectory。</p>

<p>当你要把其他开发人员的工作加入到你的开发目录时，就让CVS执行下面的任务：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>cd {my home directory} 
cd myapp 
cvs update -dP</pre></td><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>要产生一个新文件，到相关的目录产生这个文件并在CVS注册(register)它。当你(在创建和测试成功之后)对它的内容感到满意，你就把这个新文件commit给贮藏库。例如，下面来产生一个新的JSP页面：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>cd {my home directory} 
cd myapp/web      &amp;lt;-- Ultimate destination is document root 
emacs mypage.jsp 
cvs add mypage.jsp 
... build and test the application ... 
cvs commit</pre></td><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>被定义在包裹(packages)里的源代码必须要被组织成一个和包裹名称相对映的目录阶层(在<strong>src/</strong> subdirectory之下)。 例如，一个叫做<code>com.mycompany.mypackage.MyClass.java</code> 的Java类，必须被存放在文件<code>src&amp;#47;com&amp;#47;mycompany&amp;#47;mypackage&amp;#47;MyClass.java</code> 里面。不论你什么时候产生一个新的子目录，别忘记去CVS注册</p>

<p>要编辑一个现有源文件, 你一般只是开始编辑并且测试, 当程序全都能正常运作后再把这个被改变的文件commit。虽然CVS可能被配置成要求你"check out" 或"lock" 你将修改的文件，但通常我们不这样做。</p>

</blockquote></td></tr></table>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Build the Web Application"><strong>Build the Web Application</strong></a></font></td></tr><tr><td><blockquote>

<p>当你准备好编译你的程序时, 发布以下命令(通常, 你打开一个指向项目源目录的shell窗口，这样一来只需要使用最后一句命令)：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>cd {my home directory} 
cd myapp      &amp;lt;-- Normally leave a window open here 
ant</pre></td><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>Ant工具会在你的<code>build.xml</code>文件执行缺省"compile"目标,从而编译任何新的或更新过的Java 代码。如果这是你在"build clean"后第一次编译，它将导致所有的程序被重新编译(recompiled)一次。</p>

<p>要强制执行重新编译全部程序，应用下面的命令：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>cd {my home directory} 
cd myapp 
ant all</pre></td><td bgcolor="#023264" width="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="../images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>在checking in 更改之前这样做是个非常好的习惯，这样可以确保不会产生一些Javac的conditional检查没有捕捉住的任何微妙问题。</p>

</blockquote></td></tr></table>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Test Your Web Application"><strong>Test Your Web Application</strong></a></font></td></tr><tr><td><blockquote>

<p>要测试你的程序,你要把它安装在Tomcat 之下。最快捷的方法就是使用样本<code>build.xml</code> script里的用户Ant任务。也许可以象这样使用这些命令：</p>
<ul>
<li><em>按需要启动Tomcat 5</em>。如果Tomcat 5 已经不在运行，你需要按常规启动它。<br><br></li>
<li><em>编译你的程序</em>。使用这个<code><code>ant</code> compile</code>命令(或者仅仅ant，因为这是缺省命令)。确准没有编辑错误。<br><br></li>
<li><em>安装程序</em>。使用<code>ant install</code> 命令。这个命令告诉Tomcat立刻在context path 上运行你的程序，<code>app.path</code> build 属性里对context path有定义。Tomcat<strong>不</strong>要被重新启动就能生效。<br><br></li>
<li><em>测试程序</em>。使用你的浏览器或者其它测试工具, 测试你的程序的功能。<br><br></li>
<li><em>根据必要修改(modify)和重建(rebuild)</em>。当你发现需要进行更改时,去原始的源代码文件(original <strong>source</strong> files)进行修改,而不是在output build 目录,然后再使用<code>ant compile</code>命令。这就保证了你的变动能在以后被保存下来(通过<code>cvs commit</code>)—— output build 目录根据需要会被删除和被再创造。<br><br></li>
<li><em>重新装载你的程序</em>。Tomcat自动地识别JSP页面里的变化，但它将继续使用老版本的servlet 或 JavaBean classes直到你的程序被重新装载为止。你能通过执行<code>ant reload</code>命令使其发生。<br><br></li>
<li><em>完成所有过程后删除你的程序</em>。当你完成所有过程之后，使用<code>ant remove</code> 命令把你的程序从现场执行(live execution)中删除。</li>
</ul>

<p>当你完成测试后，别忘记把更改过的文件commit到源代码贮藏库去！</p>

</blockquote></td></tr></table>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Creating a Release"><strong>Creating a Release</strong></a></font></td></tr><tr><td><blockquote>

<p>当你完成了添加新功能到你的程序中去，又测试了所有的东西，下面就可以产生一个distributable 版本的网络程序了，这个版本可被调度到生产服务器(production server)上去。以下通常的步骤是需要的：</p>
<ul>
<li>从项目源目录里发出<code>ant all</code> 命令，来最后一次rebuild 所有程序。<br><br></li>
<li>使用<code>cvs tag</code> 命令为所有在发行版里所用到的源文件产生一个标识符(identifier)。这允许你在以后可以可靠地(从源代码文件)重新产生一个发行版本。</li>
<li>发出<code>ant dist</code>命令来产生一个可发布的网络应用档案(WAR)文件，和包含对应的源代码的JAR文件。<br><br></li>
<li>根据你们公司(组织)使用的标准发行规程，用<strong>tar</strong>或者<strong>zip</strong>共用程序包装这个<code>dist</code>目录里的内容。</li>
</ul>

</blockquote></td></tr></table>


</blockquote></td></tr></table></td></tr><!--FOOTER SEPARATOR--><!--PAGE FOOTER--><tr><td colspan="2"><div align="center"><font color="#525D76" size="-1"><em>
        
        </em></font></div></td></tr></table>

<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->