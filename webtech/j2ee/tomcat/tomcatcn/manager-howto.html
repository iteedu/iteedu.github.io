<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->


<table border="0" width="100%" cellspacing="4"><!--HEADER SEPARATOR--><tr><!--LEFT SIDE NAVIGATION--><td width="20%" valign="top" nowrap="true"><p><strong>链接</strong></p><ul><li><a href="index.html" tppabs="http://tomcat.jaxwiki.org/index.html">文档首页</a></li></ul><p><strong>用户手册</strong></p><ul><li><a href="introduction.html" tppabs="http://tomcat.jaxwiki.org/introduction.html">1) 介绍</a></li><li><a href="setup.html" tppabs="http://tomcat.jaxwiki.org/setup.html">2) 安装</a></li><li><a href="appdev/index.html" tppabs="http://tomcat.jaxwiki.org/appdev/index.html">3) 第一个web应用</a></li><li><a href="deployer-howto.html" tppabs="http://tomcat.jaxwiki.org/deployer-howto.html">4) 部署</a></li><li><a href="manager-howto.html" tppabs="http://tomcat.jaxwiki.org/manager-howto.html">5) 管理</a></li><li><a href="realm-howto.html" tppabs="http://tomcat.jaxwiki.org/realm-howto.html">6) 权限管理 - 域(Realms)</a></li><li><a href="security-manager-howto.html" tppabs="http://tomcat.jaxwiki.org/security-manager-howto.html">7) 安全管理器</a></li><li><a href="jndi-resources-howto.html" tppabs="http://tomcat.jaxwiki.org/jndi-resources-howto.html">8) JNDI 资源</a></li><li><a href="jndi-datasource-examples-howto.html" tppabs="http://tomcat.jaxwiki.org/jndi-datasource-examples-howto.html">9) JDBC 数据源</a></li><li><a href="class-loader-howto.html" tppabs="http://tomcat.jaxwiki.org/class-loader-howto.html">10) 类加载</a></li><li><a href="jasper-howto.html" tppabs="http://tomcat.jaxwiki.org/jasper-howto.html">11) JSPs</a></li><li><a href="ssl-howto.html" tppabs="http://tomcat.jaxwiki.org/ssl-howto.html">12) SSL</a></li><li><a href="ssi-howto.html" tppabs="http://tomcat.jaxwiki.org/ssi-howto.html">13) SSI</a></li><li><a href="cgi-howto.html" tppabs="http://tomcat.jaxwiki.org/cgi-howto.html">14) CGI</a></li><li><a href="proxy-howto.html" tppabs="http://tomcat.jaxwiki.org/proxy-howto.html">15) 与代理器整合</a></li><li><a href="mbeans-descriptor-howto.html" tppabs="http://tomcat.jaxwiki.org/mbeans-descriptor-howto.html">16) MBean 描述</a></li><li><a href="default-servlet.html" tppabs="http://tomcat.jaxwiki.org/default-servlet.html">17) 默认 Servlet</a></li><li><a href="cluster-howto.html" tppabs="http://tomcat.jaxwiki.org/cluster-howto.html">18) 集群</a></li><li><a href="balancer-howto.html" tppabs="http://tomcat.jaxwiki.org/balancer-howto.html">19) 负载均衡</a></li><li><a href="connectors.html" tppabs="http://tomcat.jaxwiki.org/connectors.html">20) 连接器</a></li><li><a href="monitoring.html" tppabs="http://tomcat.jaxwiki.org/monitoring.html">21) 监控 与 管理</a></li><li><a href="logging.html" tppabs="http://tomcat.jaxwiki.org/logging.html">22) 日志</a></li><li><a href="apr.html" tppabs="http://tomcat.jaxwiki.org/apr.html">23) APR</a></li></ul><p><strong>参考</strong></p><ul><li><a href="config/index.html" tppabs="http://tomcat.jaxwiki.org/config/index.html">Apache Tomcat 配置</a></li></ul><p><strong>Apache Tomcat 开发</strong></p><ul><li><a href="building.html" tppabs="http://tomcat.jaxwiki.org/building.html">构建</a></li><li><a href="balancer-howto.html" tppabs="http://tomcat.jaxwiki.org/changelog.html">修订记录</a></li><li><a href="status.html" tppabs="http://tomcat.jaxwiki.org/status.html">状态</a></li><li><a href="developers.html" tppabs="http://tomcat.jaxwiki.org/developers.html">开发者</a></li><li><a href="catalina/funcspecs/index.html" tppabs="http://tomcat.jaxwiki.org/catalina/funcspecs/index.html">性能说明.</a></li><li><a href="catalina/docs/api/index.html" tppabs="http://tomcat.jaxwiki.org/catalina/docs/api/index.html">Apache Tomcat Javadocs</a></li><li><a href="jasper/docs/api/index.html" tppabs="http://tomcat.jaxwiki.org/jasper/docs/api/index.html">Apache Jasper Javadocs</a></li><li><a href="architecture/index.html" tppabs="http://tomcat.jaxwiki.org/architecture/index.html">体系架构</a></li></ul></td><!--RIGHT SIDE MAIN BODY--><td width="80%" valign="top" align="left"><table border="0" width="100%" cellspacing="4"><tr><td align="left" valign="top"><h1>Apache Tomcat 5.5 Servlet/JSP 容器</h1><h2>Manager App HOW-TO</h2></td></tr></table><table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Table of Contents"><strong>Table of Contents</strong></a></font></td></tr><tr><td><blockquote>

<p><a href="#Introduction">简介</a><br>配置管理员程序存取(<a href="#Configuring Manager Application Access">
Configuring Manager Application Access</a>)<br>被支持的管理员命令(<a href="#Supported Manager Commands">Supported Manager Commands</a>)<br>
<blockquote>远程部署新的应用程序(<a href="#Deploy A New Application Remotely">Deploy A New Application Remotely</a>)<br>从局部路径部署新的应用程序(<a href="#Deploy A New Application from a Local Path">Deploy A New Application from a Local Path</a>)<br>列出当前被部署的应用程序（<a href="#List Currently Deployed Applications">
List Currently Deployed Applications</a>）<br>重新装载现有的应用程序(<a href="#Reload An Existing Application">Reload An Existing Application</a>)<br>列出OS和Java虚拟器(JVM)的属性(<a href="#List OS and JVM Properties">List OS and JVM Properties</a>)<br>列出可用的全球性JNDI资源(<a href="#List Available Global JNDI Resources">
List Available Global JNDI Resources</a>)<br>列出可用的安全性功能(<a href="#List Available Security Roles">List Available Security Roles</a>)<br>Session统计(<a href="#Session Statistics">Session Statistics</a>)<br>启动一个现有的应用程序(<a href="#Start an Existing Application">Start an Existing Application</a>)<br>停止运行一个现有的应用程序(<a href="#Stop an Existing Application">Stop an Existing Application</a>)<br>反部署一个现有的应用程序(<a href="#Undeploy an Existing Application">
Undeploy an Existing Application</a>)<br>
</blockquote>使用Ant执行管理员命令(<a href="#Executing Manager Commands With Ant">
Executing Manager Commands With Ant</a>)<br>使用JMX代理Servlet(<a href="#Using the JMX Proxy Servlet">
Using the JMX Proxy Servlet</a>)<br>
<blockquote>什么是JMX代理Servlet?(<a href="#What is JMX Proxy Servlet">What is JMX Proxy Servlet?</a>)<br>查询命令(<a href="#JMX Query command">Query command</a>)<br>设置命令(<a href="#JMX Set command">Set command</a>)<br>
</blockquote>
</p>

</blockquote></td></tr></table><table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Introduction"><strong>Introduction</strong></a></font></td></tr><tr><td><blockquote>

<p>在许多生产环境(production environments)里，这种能力很重要，那就是在不需要关闭和重新启动整个容器的情况下能够部署一个新的web程序，或者反部署一个现有的程序。另外, 你能要求一个现有应用程序再装载它自己，既使你还没有在Tomcat 5服务器配置文件里声明它是可以被重新装载的(<code>reloadable</code>)。</p>

<p>为了支持这种能力，Tomcat 5包含了一个web程序(默认安装在context path <code>/manager</code>上),它支持以下这些功能:</p>
<ul>
<li>从上载的(uploaded)WAR文件内，把新的web程序部署到指定的context path上去。</li>
<li>Deploy a new web application, on a specified context path, from the
    server file system.</li>
<li>列出当前部署的web程序，以及这些web程序的活跃着的sessions。</li>
<li>重新装载现有的web程序，以反映出<code>/WEB-INF/classes</code> 或 <code>/WEB-INF/lib</code> 里内容的更改。</li>
<li>列出OS和Java虚拟器(JVM)属性值(property values)。</li>
<li>列出可使用的全球性JNDI资源, 供给正在准备&amp;lt;ResourceLink&amp;gt；套嵌在&amp;lt;Context&amp;gt 的元素；部署描述的开发工具使用。</li>
<li>列出用户数据库里定义的可用安全性功能。</li>
<li>启动运行一个被停止了的程序(让它可再被使用)。</li>
<li>停止一个现有的程序(这样它就变成不可被使用)，但是不undeploy它。</li>
<li>Undeploy a deployed web application and delete its document base
    directory (unless it was deployed from file system).</li>
</ul>

<p>有两种方式来配置Manager网络应用程序<code>Context</code>：<ul>
<li>把<code>manager.xml</code> context配置文件安装在$CATALINA_HOME/conf/[enginename]/[hostname]文件夹里。</li>
<li>在Tomcat <code>server.xml</code> 配置文件的主机配置(<code>Host</code> configuration)中来配置the Manager <code>Context</code>。下面是一个例子：<pre>&amp;lt;Context path="/manager" debug="0" privileged="true" 
docBase="/usr/local/kinetic/tomcat5/server/webapps/manager"&amp;gt; 
&amp;lt;/Context&amp;gt;</pre>
</li>
</ul>
</p>

<p>如果你把Tomcat配置成可支持多个网站，你就需要为每一个网站单独配置一个管理员(Manager)。</p>

<p>有三种方法来使用管理员(manager)网络应用程序：<ul>
<li>作为使用在浏览器上用户接口(user interface)的程序。下面是一个关于URL的例子，这里你可以用你的网站的名字来取代局部主机(<code>localhost</code>): <code>http://localhost/manager/html/</code>。</li>
<li>作为一个使用HTTP(超文本传输协议)请求的小版本程序，它只适合系统管理员用于scripts设置。命令作为这个request URI的一部分给出，并且反应(responses)是那种容易被解析(parsed)和处理的简单文本的形式。更多信息参看被支持的管理员命令(<a href="#Supported Manager Commands">
Supported Manager Commands</a>)。</li>
<li>作为<em>Ant</em>(1.4以及其后版本)建造工具的一套简易的task定义。更多信息请参看<a href="#Executing Manager Commands With Ant">Executing Manager Commands With ant</a> 。</li>
</ul>
</p>

<p>Tomcat 5的未来版本将包括下面这些形式的管理功能:<ul>
<li>作为网络服务，这样Tomcat管理就很容易地整合到远程/或者非Java的管理环境中去。</li>
<li>作为一种具有较好user interface的网络程序(建立在网络服务过程的顶层)，可方便Tomcat通过web浏览器进行管理。</li>
</ul>
</p>

</blockquote></td></tr></table><table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Configuring Manager Application Access"><strong>Configuring Manager Application Access</strong></a></font></td></tr><tr><td><blockquote>

    <blockquote><em>
    <p>在下面的描述中使用变量名$CATALINA_HOME来代指Tomcat5所安装的目录地址,这是一个基础目录(base directory),其他的相关路径由它而派生。不过，如果你已经把Tomcat设置成多个体实例(multiple instances),并且设立了一个$CATALINA_BASE目录，那么你就应使用$CATALINA_BASE而不是$CATALINA_HOME作为参照。</p>
    </em></blockquote>

<p>如果Tomcat里的默认设置允许互联网上的任何人在你的服务器上执行管理员程序(the Manager application)，那就相当不安全了。因此，管理员程序要求每一个使用它的人通过使用带有管理员(<strong>manager</strong>)角色的用户名称和密码证实它们自己的身份。更进一步，在默认的用户文件中(<conf>$CATALINA_HOME/conf/tomcat-users.xml</conf>)没有用户名称被指派这个角色。因此，以默认的形式是完全不可能访问管理员程序的。</p>

<p>为了能进入管理员程序进行存取，你必须产生一个新的用户名称/密码组合，并把它们与管理员(<strong><strong>manager</strong></strong>)角色联系在一起，或者把管理员(manager)角色添加给现有的用户名称/密码组合。在什么确切的地方做上面这些工作依赖于你使用了哪个<code>Realm</code> implementation ：</p>
<ul>
<li><em>MemoryRealm</em> ——别如果你还没有客户化$CATALINA_HOME/conf/server.xml，就选择另外一个文件，Tomcat 5默认选用存放在<code>$CATALINA_HOME/conf/tomcat-users.xml</code>里的一个XML-格式的文件，它可以由任何文字编辑器(text editor)来编辑。这个文件为每一个<code>用户</code>包括了一个XML 
&amp;lt;user&amp;gt;，它看上去可能象这样： 
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>&amp;lt;user name="craigmcc" password="secret" roles="standard,manager" /&amp;gt;</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>它定义了用于个人登录使用的用户名称和密码，以及他(她)们相关联的<code>角色</code>名称。你可以给现有的一个或多个用户添加&ldquo;管理员(<strong>manager</strong>)&rdquo;<code>角色</code>，或者产生具有管理员<code>角色</code>的新用户。</li>
<li><em>JDBCRealm</em> —— 关于用户以及其角色的信息被存放在数据库里，通过JDBC(Java数据库连接)进行存取。按照你使用的工作环境里的标准手续来给一个或多个现有用户添加&ldquo;管理员(<strong>manager</strong>)"职责，或者产生一个或多个具有管理员角色的新用户。</li>
<li><em>JNDIRealm</em> —— 关于用户以及其角色的信息被存放在目录服务器上，通过LDAP进行存取。按照你使用的工作环境里的标准手续来给一个或多个现有用户添加&ldquo;管理员(<strong>manager</strong>)&rdquo;职责，或者产生一个或多个具有管理员角色的新用户。</li>
</ul>

<p>当你第一次试图发布一个下个章节将要描述的Manager命令时，你会被要求用BASIC认证来登入。不管你输入什么用户名称和密码，只要它们是能被用户数据库识别的具有管理员(<strong>manager</strong>)角色的用户就行。</p>

<p>除了密码制约之外，在远程IP地址或主机上增加<code>RemoteAddrValve</code>或者<code>RemoteHostValve</code>也可以对管理员网络程序进行限制。下面的例子是通过IP地址对进出局部主机(localhost)进行限制:<pre>&amp;lt;Context path="/manager" debug="0" privileged="true" 
docBase="/usr/local/kinetic/tomcat5/server/webapps/manager"&amp;gt; 
&amp;lt;Valve className="org.apache.catalina.valves.RemoteAddrValve" 
allow="127.0.0.1"/&amp;gt; 
&amp;lt;/Context&amp;gt;</pre>
</p>
</blockquote></td></tr></table><table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Supported Manager Commands"><strong>Supported Manager Commands</strong></a></font></td></tr><tr><td><blockquote>

<p>管理员程序的所有命令都是由象这样的单个request URI指定(它的格式如下):</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://{host}:{port}/manager/{command}?{parameters}</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
<p>这里<code>{host}</code>和<code>{port}</code>代表主机名称和Tomcat运行的端口(port)数目，<code>{command}</code>代表你想要执行的管理员命令，<code>{parameters}</code>代表那个命令特有的查询参数。在下面的说明里，把主机和端口适当地客户化以便进行安装。</p>

<p>多数命令接受以下一个或多个查询参量:</p>
<ul>
<li>路径(<strong>path</strong>)——你将要处理的网络应用程序的上下文路径(包括前面的&ldquo;/&rdquo;)。要选择the ROOT网络应用程序，指定"/"。<strong>注意</strong>——不可能仅仅在管理员程序自身就能执行管理命令。</li>
<li>网络应用程序档案(<strong>war</strong>)—— 网络应用程序档案文件的统一资源定位器(URL)，包含网络程序的目录的路径名称，或者是一个Context configuration ".xml" 文件。你可以以下面任何格式使用URLs:<ul>
    <li><strong>file:/absolute/path/to/a/directory</strong> ——这是通向包含未包装版的网络程序目录的绝对路径。这个目录可以附加在你指定的context path上，而不需要任何改变。</li>
    <li><strong>file:/absolute/path/to/a/webapp.war</strong> —— 这是通向网络应用档案(WAR)文件的绝对路径。这仅仅对<code>/deploy</code> 命令有效，也是这个命令唯一被接受的格式。 </li>
    <li><strong>jar:file:/absolute/path/to/a/warfile.war!/</strong> —— 这是通向局部网络应用档案(WAR)文件的URL。你可以使用任何对<code>JarURLConnection</code> class有效的语法来代指一整个JAR文件。</li>
    <li><strong>file:/absolute/path/to/a/context.xml</strong> —— 这是通向网络应用上下文配置 ".xml"文件的绝对路径，这个".xml"文件包含有上下文配置元素。</li>
    <li><strong>directory</strong> (目录)—— 主机的应用基础目录中各种web程序内容的子目录名称。</li>
    <li><strong>webapp.war</strong> —— 这是网络程序war文件的名称，它被放置在主机的应用基础目录上。</li>
    </ul></li>
</ul>

<p>每个命令都会产生一个<code>text/plain</code> 形式的反应(response)(例如，简单的ASCII而没有HTML修饰)，使它能容易地被人或机器阅读。反应(response)的第一行通常以<code>OK</code>(可以)或者<code>FAIL</code>(失败)开始，表明了这个请求命令被成功执行与否。如果出现失败，第一行的剩余部分会描述你所遇到的问题。下面将描述一些命令及其额外的信息。</p>

<p><em>Internationalization Note</em>(国际化注意事项):管理员程序从资源束(resource bundles)里查看消息字串(message strings)，所以有可能这些字串已被翻译过以适用于你的工作平台。下面的例子显示的是英文版的消息(messages)。</p>

<blockquote><em>
<p><strong>警告</strong>：以前使用的命令 <code>/install</code> 和 <code>/remove</code> 不再被使用了。它们现在等同于<code>/deploy</code> 和 <code>/undeploy</code>命令，在以后的发行版中可能会被删除掉。</p>
</em></blockquote>

<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Deploy A New Application Remotely"><strong>Deploy A New Application Remotely</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/deploy?path=/foo</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>上装(Upload)在HTTP PUT request里特指的WAR文件，然后把它安装在相应的虚拟主机(virtual host)的<code>appBase</code>目录上，在路径请求参数特指的context <code><code>path</code></code> 上启动运行。如果没有指定路径，那么目录名称或者不带有.war 扩展名的WAR文件名称就被当作路径。这个应用程序在以后可以通过使用<code>/undeploy</code> 被取消部署(相关的程序目录也会被删除)。</p>

<p>这个.WAR 文件可以通过在<code>/META-INF/context.xml</code>里包含一个上下文配置XML 文件来包括 Tomcat特指的部署配置。</p>

<p>URL参数包括：<ul>
<li>更新(<code>update</code>)：当被设置为正确(true)时，已有的更新参数会被首先取消部署。默认值是被设为错误(false)。</li>
<li>标志(<code>tag</code>)：指定一个标志名称，这样允许把版本数目与被部署的网络程序相关联。以后可以只用标志(tag)就可以重新部署这个版本的程序。</li>
</ul>
</p>

<p><strong>注意</strong> —— 这个命令在逻辑上和<code>/undeploy</code>命令相反。</p>

<p>如果安装和启动成功，你会收到象下面这种回应：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>OK - Deployed application at context path /foo</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>否则,回应(response)将是以<code>FAIL</code>为首的一段错误消息。产生错误的可能原因包括：</p>
<ul>
<li><em>应用程序已经存在于path /foo</em><blockquote>
    <p>所有当前运行的网络程序的context paths 必须是独特（彼此不同）的。因此，你必须取消部署现有的使用这个context path的网络程序，或者为新程序选择一个不同的context path 。<code>update</code>参数必须指定为URL上的一个参数，为避免错误，把参数值设为<code>true</code> 。这样，在部署新程序前会对现有程序执行取消部署。</p>
    </blockquote></li>
<li><em>遇到异常</em><blockquote>
    <p>当试图启动新程序时，遇到了异常。详细问题去查看Tomcat 5日志(logs)，不过通常的解释多为在语法分析(parsing)<code>/WEB-INF/web.xml</code> 文件时遇到问题，或者是在初始化程序事件(event)监听器(listeners)或过滤器(filters)遇到了缺失的类(missing 
classes)。</p>
    </blockquote></li>
<li><em>指定的上下文路径是无效的</em><blockquote>
    <p>Context path必须以一个slash符号开始。使用"/"代指ROOT网络应用程序。</p>
    </blockquote></li>
<li><em>没有指定上下文路径</em><blockquote><code>路径</code>参数是必需的。</blockquote></li>
</ul>

</blockquote></td></tr></table>

<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Deploy A New Application from a Local Path"><strong>Deploy A New Application from a Local Path</strong></a></font></td></tr><tr><td><blockquote>

<p>安装和启动一个新的网络程序，把它和特定的上下文<code>路径</code>相连(这个上下文<code>路径</code>不能被其他网络程序使用)。这个命令(指deploy)与<code>/undeploy</code> 命令在逻辑意义上相反。</p>

<p>有许多种不同的办法来使用deploy命令:</p>

<h3>部署一个以前被部署过的网络程序版本</h3>

<p>这可以用来部署一个以前版本的网络程序，这个程序曾被使用标志(<code>tag</code>)属性部署过。注意，管理员程序的工作目录必须包含以前部署过的WARs；删除它会使得这里的部署失败。<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/deploy?path=/footoo&amp;amp;tag=footag</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
</p>

<h3>通过URL部署一个目录或者WAR</h3>

<p>部署Tomcat服务器上的网络程序目录或者".<code>war</code>"<code>文件</code>。如果没有指定路径(<code>path</code>)，那么目录名称或者不带有".war"扩展名的WAR<code>文件</code>名称就被当作路径。网络应用程序档案(war)参数为每个目录或WAR<code>文件</code>指定了URL(包括<code>文件</code>: scheme)。关于URL指向WAR<code>文件</code>的语法在Javadocs页面<code>java.net.JarURLConnection</code>  class里有描述。只能使用那些指向全部(entire)WAR<code>文件</code>的URL。</p>

<p>在下面的这个例子里，位于Tomcat服务器<code>/path/to/foo</code>目录里的网络程序被部署为一个名叫<code>/footoo</code> 的网络程序context。<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/deploy?path=/footoo&amp;amp;war=file:/path/to/foo</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
</p>

<p>在下面的这个例子里，位于Tomcat服务器上的".war"文件<code>/<code>path</code>/to<code>/bar</code>.war</code>被部署为一个名叫/bar 的网络程序context。注意，这里没有path参数，所以在默认的情况下，context path指向不带有".war"扩展名的网络应用程序档案文件。<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/deploy?war=jar:file:/path/to/bar.war!/</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
</p>

<h3>在主机的appBase部署一个目录或War文件</h3>

<p>在主机的appBase目录里部署一个网络程序目录或".war"文件。如果没有指定路径(<code>path</code>)，那么目录名或者不带有".war"扩展符的WAR文件名称就被当作路径。</p>

<p>在下面的这个例子里，位于Tomcat服务器主机appBase目录下的子目录<code>foo</code>里面的网络程序被部署为叫作<code>/foo</code> 的网络程序context。注意，这里没有<code>path</code>参数，所以在默认的情况下，context path指向网络程序目录名。<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/deploy?war=foo</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
</p>

<p>在下面的这个例子里，位于Tomcat服务器主机appBase目录里的".war"文件<code>bar.war</code>被部署为名叫<code>/bartoo</code> 的网络程序context。<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/deploy?path=/bartoo&amp;amp;war=bar.war</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
</p>

<h3>使用上下文语境配置".xml"文件进行部署</h3>

<p>如果主机(Host) deployXML旗标被设置为正确(true)，你可以用上下文语境配置".xml"文件，或者".war"文件，或者程序目录来部署你的网络程序。当使用上下文语境配置".xml"文件来部署网络程序时，不需要使用context <code>path</code>。</p>

<p>一个上下文语境配置".xml"文件可包括有效的网络程序上下文XML文件，就象在Tomcat <code>server.xml</code> 配置文件里被配置过一样。下面是个示例：<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>&amp;lt;Context path="/foobar" docBase="/path/to/application/foobar" 
debug="0"&amp;gt; 

&amp;lt;!-- Link to the user database we will get roles from --&amp;gt; 
&amp;lt;ResourceLink name="users" global="UserDatabase" 
type="org.apache.catalina.UserDatabase"/&amp;gt; 

&amp;lt;/Context&amp;gt;</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
</p>

<p>当可任选的网络应用程序档案(<code>war</code>)参数被设置指向一个web程序的".war"文件或目录的URL时,它会取代任何在上下文配置".xml"文件里配置的docBase 。</p>

<p>这里是使用上下文语境配置".xml"文件部署一个应用程序的例子。<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/deploy?config=file:/path/context.xml</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
</p>

<p>这个例子是使用上下文语境配置".xml"文件和一个位于服务器上的".war"文件来部署一个应用程序。<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/deploy?config=file:/path/context.xml&amp;amp;war=jar:file:/path/bar.war!/</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
</p>

<h3>部署注意事项</h3>

<p>如果主机(Host)配置为unpackWARs=true ，并且你部署了一个war文件，那么，这个war文件就会被unpacked到主机的appBase目录上。</p>

<p>如果war文件或者目录被安装到主机的appBase目录上，并且主机被配置为autoDeploy=true 或者liveDeploy=true ，那么Context path 必须与目录名或不带有".war"扩展符的war文件名相配。</p>

<p>因为安全原因，当不可靠用户来管理网络程序时，主机的deployXML旗标可以设置为false 。这就使不可靠用户不能够使用配置XML文件来部署web程序，也不能部署位于主机appBase之外的目录或".war"文件。</p>


<h3>部署回应</h3>

<p>如果安装和启动成功，你会收到象下面这种回应：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>OK - Deployed application at context path /foo</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>否则,回应(response)将是以<code>FAIL</code>为首的一段错误消息。产生错误的可能原因包括：</p>
<ul>
<li><em>应用程序已经存在于path /foo</em><blockquote>
    <p>所有当前运行的网络程序的context paths 必须是独特（彼此不同）的。因此，你必须取消部署现有的使用这个context path的网络程序，或者为新程序选择一个不同的context path 。<code>update</code>参数必须指定为URL上的一个参数，为避免错误，把参数值设为<code>true</code> 。这样，在部署新程序前会对现有程序执行取消部署。</p>
    </blockquote></li>
<li><em>文档base不存在或者是一个不可读取的目录</em><blockquote>
    <p>由网络应用程序档案(<code><code>war</code></code>)参数指定的URL必须识别这个服务器上包含"unpacked"版本的网络程序目录，或者包含这个程序的网络应用程序档案(WAR)的绝对URL。修正这个网络应用程序档案(war)参数指定值。</p>
    </blockquote></li>
<li><em>遇到异常</em><blockquote>
    <p>当试图启动新程序时，遇到了异常。详细问题去查看Tomcat 5日志(logs)，不过通常的解释多为在语法分析(parsing)<code>/WEB-INF/web.xml</code> 文件时遇到问题，或者是在初始化程序事件(event)监听器(listeners)或过滤器(filters)遇到了缺失的类(missing 
classes)。</p>
    </blockquote></li>
<li><em>指定的程序URL无效</em><blockquote>
    <p>你为目录或网络程序指定的URL是无效的。这样的URL必须以&ldquo;<code>file:</code>&rdquo;开始，为WAR文件提供的URL必须以".war"结束。</p>
    </blockquote></li>
<li><em>指定的上下文路径是无效的</em><blockquote>
    <p>Context path必须以一个slash符号开始。使用"/"代指ROOT网络应用程序。</p>
    </blockquote></li>
<li><em>上下文路径必须与目录名或WAR文件名相配</em><blockquote>如果war文件或者目录被安装到主机的appBase目录上，并且主机被配置为autoDeploy=true 或者liveDeploy=true ，那么Context path 必须与目录名或不带有".war"扩展符的war文件名相配。</blockquote></li>
<li><em>只有在主机网络程序目录里的web程序才能被安装</em><blockquote>如果主机的deployXML旗标被设为false，要是试图部署位于主机appBase目录之外的网络程序目录或".war"文件，就会出现错误。</blockquote></li>
</ul>

</blockquote></td></tr></table>

<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="List Currently Deployed Applications"><strong>List Currently Deployed Applications</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/list</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>列出所有当前被部署过的程序的context paths，当前状态(<code>运行中的</code>或<code>停止的</code>)，以及活动会话(active sessions)数目。在启动Tomcat后马上出现的典型回应可能象这样：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>OK - Listed applications for virtual host localhost 
/webdav:running:0 
/examples:running:0 
/manager:running:0 
/:running:0</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

</blockquote></td></tr></table>

<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Reload An Existing Application"><strong>Reload An Existing Application</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/reload?path=/examples</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>向一个现有的程序发出信号去把它自己关闭然后再重新装载。当程序的context不能够被重新装载，但你<code>/WEB-INF/classes</code>目录中有更新过的类或属性文件，或者在<code>/WEB-INF/lib</code>目录中添加或更新过jar文件，上面这个办法就很有用。</p>
<p><strong>注意</strong> —— <code>/WEB-INF/web.xml</code> 网络程序配置文件不能在被重新装载时被再次读取。如果你更改了web.xml文件，你必须停止运行，然后再启动网络程序。</p>

<p>如果这个命令成功，你会看到象下面这样的回应：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>OK - Reloaded application at context path /examples</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>否则,回应(response)将是以<code>FAIL</code>为首的一段错误消息。产生错误的可能原因包括：</p>
<ul>
<li><em>遇到异常</em><blockquote>
    <p>当试图重新启动网络程序时，遇到了异常。详细问题去查看Tomcat 5日志(logs)。</p>
    </blockquote></li>
<li><em>指定的上下文路径是无效的</em><blockquote>
    <p>Context path必须以一个slash符号开始。使用"/"代指ROOT网络应用程序。</p>
    </blockquote></li>
<li><em>path /foo 上没有存在context</em><blockquote>
    <p>在你指定的context path上没有被部署过的程序。</p>
    </blockquote></li>
<li><em>没有指定上下文路径</em><blockquote><code>路径</code>参数是必需的。</blockquote></li>
<li><em>在path /foo上部署的WAR文件不支持重新装载</em><blockquote>目前，当网络程序从一个WAR文件直接被部署时，程序的重新装载(拾起classes 或 <code>web.xml</code>文件里的更改)就不被支持。重新装载仅仅适用于那些从未包装目录那里部署的程序。如果你在使用WAR文件，要拾起(pick up)那些更改，你应该先<code>un<code><code>deploy</code></code></code>(旧的文件)，然后再deploy这个程序，或者以<code>update</code>的参数来部署这个程序。</blockquote></li>
</ul>

</blockquote></td></tr></table>

<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="List OS and JVM Properties"><strong>List OS and JVM Properties</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/serverinfo</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>列出关于Tomcat版本，OS, 和 JVM属性的信息。</p>

<p>如果出现错误，回应(response)将是以<code>FAIL</code>开头的一段错误消息。产生错误的可能原因包括：</p>
<ul>
<li><em>遇到异常</em><blockquote>
    <p>在枚举系统属性时，遇到了异常。详细问题去查看Tomcat 5日志(logs)。</p>
    </blockquote></li>
</ul>

</blockquote></td></tr></table>

<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="List Available Global JNDI Resources"><strong>List Available Global JNDI Resources</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/resources[?type=xxxxx]</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>列出可用于上下文配置文件资源链接(resource links)的全球性JNDI资源。如果你指定类型请求参数(<code><code>type</code></code> request parameter)，参数值必须是你所感兴趣的资源类型中完全合格的Java class name(例如，你得要指定<code>javax.sql.DataSource</code> 来取得所有可用的JDBC数据源的名称)。如果你没有指定类型请求参数，所有类型的资源将被返回。</p>

<p>依赖于类型请求参数(<code>type</code> request parameter)被指定与否，通常回应的第一行会是这样：</p>
<pre>OK - Listed global resources of all types</pre>
<p>or</p>
<pre>OK - Listed global resources of type xxxxx</pre>
<p>然后是每一行对应一个资源。每一行由以冒号(":")为界限的如下区域组成：</p>
<ul>
<li><code>全球性</code>资源名称(<em>Global Resource Name</em>) —— <code>全球性</code>JNDI资源的名称，它将被用在&amp;lt;ResourceLink&amp;gt;元素的<code>全球性</code>属性中。</li>
<li>全球性资源类型(<em>Global Resource Type</em>)—— 全球性JNDI资源的完全合格的Java class 名称。</li>
</ul>

<p>如果出现错误，回应(response)将是以<code>FAIL</code>开头的一段错误消息。产生错误的可能原因包括：</p>
<ul>
<li><em>遇到异常</em><blockquote>
    <p>在枚举全球性JNDI资源时，遇到了异常。详细问题去查看Tomcat 5日志(logs)。</p>
    </blockquote></li>
<li><em>全球性JNDI资源不存在</em><blockquote>
    <p>你在运行的Tomcat服务器没有被配置全球性JNDI资源。</p>
    </blockquote></li>
</ul>


</blockquote></td></tr></table>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="List Available Security Roles"><strong>List Available Security Roles</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/roles</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>列出在<code>org.apache.catalina.UserDatabase</code>资源里的安全性能名称(以及相应的描述)，这个资源与Manager网络程序里web.xml文件中的<code>用户</code>资源索引相链连。例如，这通常会被那些想要产生 &amp;lt;security-role-ref&amp;gt;元素的部署工具使用，而&amp;lt;security-role-ref&amp;gt;元素是用来映射网络程序里的安全性能名称和容器里实际上被定义的角色名称的。 </p>

<p>在默认的情况下，<code>用户</code>资源索引指向全球性<code>UserDatabase</code>资源。如果你选择让每个虚拟器使用不同的<code>用户</code>数据库，你应该修改默认的<code>manager.xml</code> 配置文件里的&amp;lt;ResourceLink&amp;gt; 元素，让它指向这个虚拟器的全球性<code>用户</code>数据库资源。</p>

<p>当这个命令被执行后，回应的第一行是这样的：</p>
<pre>OK - Listed security roles</pre>
<p>然后是每一行对应一个安全性能。每一行由以冒号(":")为界限的如下区域组成：</p>
<ul>
<li>安全性能名称(<em>Security Role Name</em>)——用户数据库里Tomcat所知道的安全性能名称。</li>
<li>描述(<em>Description</em>)——关于这个安全性能的描述(对于产生选定功能的用户界面有用)</li>
</ul>

<p>如果出现错误，回应(response)将是以<code>FAIL</code>开头的一段错误消息。产生错误的可能原因包括：</p>
<ul>
<li><em>Cannot resolve user database reference</em> —— 一个JNDI错误，阻止了成功查询<code>org.apache.catalina.UserDatabase</code> 资源。关于这类错误，请查看Tomcat log 文件的stack trace 。</li>
<li><em>No user database is available</em> —— 你还没有为<code>用户</code>资源配置一个可以指向适当的<code>用户</code>数据库实例(instance)的资源索引。检查一下你的<code>manager.xml</code>文件，确保你为这个资源产生了一个适合的&amp;lt;ResourceLink&amp;gt;或&amp;lt;ResourceParams&amp;gt;元素。 </li>
</ul>

</blockquote></td></tr></table>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Session Statistics"><strong>Session Statistics</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/sessions?path=/examples</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>显示一个网络程序的默认session timeout，以及在实际timeout时间十分钟左右范围里的活动sessions数目。例如，在重新启动Tomcat和执行<code>/examples</code>程序里的一个JSP样本以后，你可能会得到象下面这样的东西：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>OK - Session information for application at context path /examples 
Default maximum session inactive interval 30 minutes 
30 - &amp;lt;40 minutes:1 sessions</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

</blockquote></td></tr></table>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Start an Existing Application"><strong>Start an Existing Application</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/start?path=/examples</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>向一个被停止运行的程序发出重新启动的信号，使它可以再被使用。停止和启动(这两个命令)是有用处的，例如，在你的程序所必需的数据库临时unavailable时。通常停止运行依赖于这个数据库的程序，比起让用户不断地遇到数据库异常要好一些。</p>

<p>如果这个命令成功，你会看到象下面这样的回应：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>OK - Started application at context path /examples</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>否则,回应(response)将是以<code>FAIL</code>为首的一段错误消息。产生错误的可能原因包括：</p>
<ul>
<li><em>遇到异常</em><blockquote>
    <p>当试图启动网络程序时，遇到了异常。详细问题去查看Tomcat 5日志(logs)。</p>
    </blockquote></li>
<li><em>指定的上下文路径是无效的</em><blockquote>
    <p>Context path必须以一个slash符号开始。使用"/"代指ROOT网络应用程序。</p>
    </blockquote></li>
<li><em>path /foo 上没有存在context</em><blockquote>
    <p>在你指定的context path上没有被部署过的程序。</p>
    </blockquote></li>
<li><em>没有指定上下文路径</em><blockquote><code>路径</code>参数是必需的。</blockquote></li>
</ul>

</blockquote></td></tr></table>

<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Stop an Existing Application"><strong>Stop an Existing Application</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/stop?path=/examples</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>向一个现有的程序发出信号，使它自己变成不能被使用，但让它还是被部署着。当一个程序被停止运行，任何一个进来的请求都会看到一个HTTP错误404，而且在执行list applications命令时，这个程序会显示为"stopped"。</p>

<p>如果这个命令成功，你会看到象下面这样的回应：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>OK - Stopped application at context path /examples</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>否则,回应(response)将是以<code>FAIL</code>为首的一段错误消息。产生错误的可能原因包括：</p>
<ul>
<li><em>遇到异常</em><blockquote>
    <p>当试图停止运行网络程序时，遇到了异常。详细问题去查看Tomcat 5日志(logs)。</p>
    </blockquote></li>
<li><em>指定的上下文路径是无效的</em><blockquote>
    <p>Context path必须以一个slash符号开始。使用"/"代指ROOT网络应用程序。</p>
    </blockquote></li>
<li><em>path /foo 上没有存在context</em><blockquote>
    <p>在你指定的context path上没有被部署过的程序。</p>
    </blockquote></li>
<li><em>没有指定上下文路径</em><blockquote><code>路径</code>参数是必需的。</blockquote></li>
</ul>

</blockquote></td></tr></table>


<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Undeploy an Existing Application"><strong>Undeploy an Existing Application</strong></a></font></td></tr><tr><td><blockquote>

<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/undeploy?path=/examples</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p><font color="red">警告</font>：这个命令将会删除存在于虚拟主机<code>appBase</code>
目录下的(典型名称叫做"webapps")任何web程序内容。也会删除源代码.WAR文件，
如果存在的话。这个appBase目录的内容或者是从未包装的程序部署过来的，
或者是.WAR 扩展而来的，它还包括$CATALINA_HOME/conf/[enginename]/[hostname]/ 目录里的XML Context定义。
如果你仅仅只想让程序停止工作，你就使用<code>/stop</code>命令。</p>

<p>向一个现有的程序发出关闭信息，把它自己从Tomcat里删除(这就使得这个context path以后可以被再使用)。另外，存在于虚拟主机<code>appBase</code>目录(典型名称 "webapps")上的文件根目录(document root directory)也被删除掉了。这个命令在逻辑上和<code>/deploy</code> 命令相反。</p>

<p>如果这个命令成功，你会看到象下面这样的回应：</p>
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>OK - Undeployed application at context path /examples</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>

<p>否则,回应(response)将是以<code>FAIL</code>为首的一段错误消息。产生错误的可能原因包括：</p>
<ul>
<li><em>遇到异常</em><blockquote>
    <p>当试图取消部署网络程序时，遇到了异常。详细问题去查看Tomcat 5日志(logs)。</p>
    </blockquote></li>
<li><em>指定的上下文路径是无效的</em><blockquote>
    <p>Context path必须以一个slash符号开始。使用"/"代指ROOT网络应用程序。</p>
    </blockquote></li>
<li><em>path /foo 上没有存在context</em><blockquote>
    <p>在你指定的context path上没有被部署过的程序。</p>
    </blockquote></li>
<li><em>没有指定上下文路径</em><blockquote><code>路径</code>参数是必需的。</blockquote></li>
</ul>

</blockquote></td></tr></table>

</blockquote></td></tr></table><table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Executing Manager Commands With Ant"><strong>Executing Manager Commands With Ant</strong></a></font></td></tr><tr><td><blockquote>

<p>除了象上面所讲的可以通过HTTP请求来执行Manager命令，Tomcat 5还包括了一套使用方便的<em>Ant</em>(1.4及其后版本)构造工具的任务定义。为了能够使用这些命令，你必须进行下面的操作设置：</p>
<ul>
<li>从<a href="" tppabs="http://ant.apache.org/">http://ant.apache.org</a>下载Ant的binary distribution 。你必须使用<strong>1.4</strong>或其后版本。</li>
<li>把Ant distribution 安装在一个方便的目录(在这个说明的其余部分被称作ANT_HOME)。</li>
<li>把文件<code>server/lib/catalina-ant.jar</code>从Tomcat 5安装复制到Ant的library目录($ANT_HOME/lib)。 </li>
<li>把$ANT_HOME/bin目录添加到<code>PATH</code>环境变量中。 </li>
<li>在Tomcat具有管理员(<code>manager</code>)角色的用户数据库里至少配置一个用户名/密码组合。</li>
</ul>

<p>要在Ant里使用客户化的任务，你必须事先用&amp;lt;taskdef&amp;gt;元素对它们进行声明。因此，你的<code>build.xml</code>文件看起来会象这样：</p>

<table border="1">
<tr><td><pre>&amp;lt;project name="My Application" default="compile" basedir="."&amp;gt; 

&amp;lt;!-- Configure the directory into which the web application is built --&amp;gt; 
&amp;lt;property name="build" value="${basedir}/build"/&amp;gt; 

&amp;lt;!-- Configure the context path for this application --&amp;gt; 
&amp;lt;property name="path" value="/myapp"/&amp;gt; 

&amp;lt;!-- Configure properties to access the Manager application --&amp;gt; 
&amp;lt;property name="url" value="http://localhost:8080/manager"/&amp;gt; 
&amp;lt;property name="username" value="myusername"/&amp;gt; 
&amp;lt;property name="password" value="mypassword"/&amp;gt; 

&amp;lt;!-- Configure the custom Ant tasks for the Manager application --&amp;gt; 
&amp;lt;taskdef name="deploy" classname="org.apache.catalina.ant.DeployTask"/&amp;gt; 
&amp;lt;taskdef name="list" classname="org.apache.catalina.ant.ListTask"/&amp;gt; 
&amp;lt;taskdef name="reload" classname="org.apache.catalina.ant.ReloadTask"/&amp;gt; 
&amp;lt;taskdef name="resources" classname="org.apache.catalina.ant.ResourcesTask"/&amp;gt; 
&amp;lt;taskdef name="roles" classname="org.apache.catalina.ant.RolesTask"/&amp;gt; 
&amp;lt;taskdef name="start" classname="org.apache.catalina.ant.StartTask"/&amp;gt; 
&amp;lt;taskdef name="stop" classname="org.apache.catalina.ant.StopTask"/&amp;gt; 
&amp;lt;taskdef name="undeploy" classname="org.apache.catalina.ant.UndeployTask"/&amp;gt; 

&amp;lt;!-- Executable Targets --&amp;gt; 
&amp;lt;target name="compile" description="Compile web application"&amp;gt; 
&amp;lt;!-- ... construct web application in ${build} subdirectory, and 
generated a ${path}.war ... --&amp;gt; 
&amp;lt;/target&amp;gt; 

&amp;lt;target name="deploy" description="Install web application" 
depends="compile"&amp;gt; 
&amp;lt;deploy url="${url}" username="${username}" password="${password}" 
path="${path}" war="${build}${path}.war"/&amp;gt; 
&amp;lt;/target&amp;gt; 

&amp;lt;target name="reload" description="Reload web application" 
depends="compile"&amp;gt; 
&amp;lt;reload url="${url}" username="${username}" password="${password}" 
path="${path}"/&amp;gt; 
&amp;lt;/target&amp;gt; 

&amp;lt;target name="undeploy" description="Remove web application"&amp;gt; 
&amp;lt;undeploy url="${url}" username="${username}" password="${password}" 
path="${path}"/&amp;gt; 
&amp;lt;/target&amp;gt; 

&amp;lt;/project&amp;gt;</pre></td></tr>
</table>

<p>现在，你可以执行象<code>ant deploy</code>这样的命令向运行的Tomcat实例部署应用程序，或者用<code>ant reload</code>来告诉Tomcat对程序进行重新装载。请注意，在<code><code>build.xml</code></code>文件中大多数有趣的参数值都被定义为可被替换的属性，这样一来你可以从命令行来替代(override)它们的参数值。例如，你可能认为把真实管理员密码写在build.xml的源代码里会对安全性能造成危险。为避免这样，你可以忽略密码这个属性，然后从命令行来指定它：</p>
<pre>ant -Dpassword=secret deploy</pre>

<table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Tasks output capture"><strong>Tasks output capture</strong></a></font></td></tr><tr><td><blockquote>

<p>使用<em>Ant</em> <strong>1.6.2</strong>或其后版本，Catalina tasks在属性文件或外部文件里提供捕捉它们的输出信息的选项。 它们直接支持下列<code>&lt;redirector&gt;</code>类型attributes的下属属性：</p>

<table border="1" cellpadding="2" cellspacing="0">
<tbody>
<tr>
<td valign="top"><b>属性</b></td>
<td valign="top"><b>描述</b></td>
<td align="center" valign="top"><b>是否必要</b></td>
</tr>
<tr>
<td valign="top">output</td>
<td valign="top">向其进行输出的文件名。如果error stream没有被重新指向一个文件或属性，那么它就出现在这里。</td>
<td align="center" valign="top">No</td>
</tr>
<tr>
<td valign="top">error</td>
<td valign="top">标准的错误信息输出命令应该指向这个文件。</td>
<td align="center" valign="top">No</td>
</tr>
<tr>
<td valign="top">logError</td>
<td valign="top">This attribute is used when you wish to see
error output in Ant's log and you are redirecting output to a
file/property. The error output will not be included in the output
file/property. If you redirect error with the <i>error</i> or <i>errorProperty</i>
attributes, this will have no effect.</td>
<td align="center" valign="top">No</td>
</tr>
<tr>
<td valign="top">append</td>
<td valign="top">输出和错误文件是否应该被附加上或被overwritten。默认设置是<code>false</code>。</td>
<td align="center" valign="top">No</td>
</tr>
<tr>
<td valign="top">createemptyfiles</td>
<td valign="top">即使在输出和错误文件是empty时，它是否应该被产生。默认设置是<code>true</code>。</td>
<td align="center" valign="top">No</td>
</tr>
<tr>
<td valign="top">outputproperty</td>
<td valign="top">The name of a property in which the output of
the command should be stored. Unless the error stream is redirected to
a separate file or stream, this property will include the error output.</td>
<td align="center" valign="top">No</td>
</tr>
<tr>
<td valign="top">errorproperty</td>
<td valign="top">The name of a property in which the standard
error of the command should be stored.</td>
<td align="center" valign="top">No</td>
</tr>
</tbody>
</table>

<p>A couple of additional attributes can also be specified:
</p>
<table border="1" cellpadding="2" cellspacing="0">
<tbody>
<tr>
<td valign="top"><b>属性</b></td>
<td valign="top"><b>描述</b></td>
<td align="center" valign="top"><b>是否必要</b></td>
</tr>
<tr>
<td valign="top">alwaysLog</td>
<td valign="top">This attribute is used when you wish to see the
output you are capturing, appearing also in the Ant's log. It must not be
used unless you are capturing task output.
Defaults to <code>false</code>.
<em>This attribute will be supported directly by <code>&lt;redirector&gt;</code>
in Ant 1.6.3</em></td>
<td align="center" valign="top">No</td>
</tr>
<tr>
<td valign="top">failonerror</td>
<td valign="top">This attribute is used when you wish to avoid that
any manager command processing error terminates the ant execution. Defaults to <code>true</code>.
It must be set to <code>false</code>, if you want to capture error output,
otherwise execution will terminate before anything can be captured.
<br>
This attribute acts only on manager command execution,
any wrong or missing command attribute will still cause Ant execution termination.
</td>
<td align="center" valign="top">No</td>
</tr>
</tbody>
</table>

<p>They also support the embedded <code>&lt;redirector&gt;</code> element
in which you can specify
its full set of attributes, but <code>input</code>, <code>inputstring</code> and 
<code>inputencoding</code> that, even if accepted, are not used because they have
no meaning in this context.
Refer to <a href="" tppabs="http://ant.apache.org/">ant manual</a> for details on 
<code>&lt;redirector&gt;</code> element attributes.
</p>

<p>
Here is a sample build file extract that shows how this output redirection support
can be used:
</p>

<table border="1">
<tr><td><pre>
	&lt;target name="manager.deploy"
		depends="context.status"
		if="context.notInstalled"&gt;
		&lt;deploy url="${mgr.url}"
			username="${mgr.username}"
			password="${mgr.password}"
			path="${mgr.context.path}"
			config="${mgr.context.descriptor}"/&gt;
	&lt;/target&gt;

	&lt;target name="manager.deploy.war"
		depends="context.status"
		if="context.deployable"&gt;
		&lt;deploy url="${mgr.url}"
			username="${mgr.username}"
			password="${mgr.password}"
			update="${mgr.update}"
			path="${mgr.context.path}"
			war="${mgr.war.file}"/&gt;
	&lt;/target&gt;
	
	&lt;target name="context.status"&gt;
		&lt;property name="running" value="${mgr.context.path}:running"/&gt;
		&lt;property name="stopped" value="${mgr.context.path}:stopped"/&gt;
	
		&lt;list url="${mgr.url}"
			outputproperty="ctx.status"
			username="${mgr.username}"
			password="${mgr.password}"&gt;
		&lt;/list&gt;
		
		&lt;condition property="context.running"&gt;
			&lt;contains string="${ctx.status}" substring="${running}"/&gt;
		&lt;/condition&gt;
		&lt;condition property="context.stopped"&gt;
			&lt;contains string="${ctx.status}" substring="${stopped}"/&gt;
		&lt;/condition&gt;
		&lt;condition property="context.notInstalled"&gt;
			&lt;and&gt;
				&lt;isfalse value="${context.running}"/&gt;
				&lt;isfalse value="${context.stopped}"/&gt;
			&lt;/and&gt;
		&lt;/condition&gt;
		&lt;condition property="context.deployable"&gt;
			&lt;or&gt;
				&lt;istrue value="${context.notInstalled}"/&gt;
				&lt;and&gt;
					&lt;istrue value="${context.running}"/&gt;
					&lt;istrue value="${mgr.update}"/&gt;
				&lt;/and&gt;
				&lt;and&gt;
					&lt;istrue value="${context.stopped}"/&gt;
					&lt;istrue value="${mgr.update}"/&gt;
				&lt;/and&gt;
			&lt;/or&gt;
		&lt;/condition&gt;
		&lt;condition property="context.undeployable"&gt;
			&lt;or&gt;
				&lt;istrue value="${context.running}"/&gt;
				&lt;istrue value="${context.stopped}"/&gt;
			&lt;/or&gt;
		&lt;/condition&gt;
	&lt;/target&gt;
</pre></td></tr>
</table>

<p><strong>WARNING:</strong> even if it doesn't make many sense, and is always a bad idea,
calling a Catalina task more than once,
badly set Ant tasks depends chains may cause that a task be called
more than once in the same Ant run, even if not intended to. A bit of caution should be exercised when you are
capturing output from that task, because this could lead to something unexpected:
<ul>
<li>when capturing in a property you will find in it only the output from the <em>first</em> call, because
Ant properties are immutable and once set they cannot be changed,
</li>
<li>when capturing in a file, each run will overwrite it and you will find in it only the <em>last</em> call
output, unless you are using the <code>append="true"</code> attribute, in which case you will
see the output of each task call appended to the file.
</li>
</ul>
</p>

</blockquote></td></tr></table>

</blockquote></td></tr></table><table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Using the JMX Proxy Servlet"><strong>Using the JMX Proxy Servlet</strong></a></font></td></tr><tr><td><blockquote>

  <table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="What is JMX Proxy Servlet"><strong>What is JMX Proxy Servlet</strong></a></font></td></tr><tr><td><blockquote>JMX Proxy Servlet是用来获取和设置Tomcat内部组织的轻型代理。(或者任何通过MBean被exposed过的类)。 它的用法对客户来说不方便，但是它的UI对于整合命令行scripts来监督和改变Tomcat内部组织很有帮助。你可以用代理来做两件事：获取信息和设置信息。你必须对JMX有个基本了解才能真正理解JMX Proxy Servlet。如果你不知道JMX是什么，那你就会感到迷惑。</blockquote></td></tr></table>

  <table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="JMX Query command"><strong>JMX Query command</strong></a></font></td></tr><tr><td><blockquote>以这种形式：<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://webserver/manager/jmxproxy/?qry=STUFF</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>这里<code>STUFF</code>是你想要执行的查询(query)。例如，这里是一些你想要运行的查询(queries)：<ul>
      <li>qry=*%3Atype%3DRequestProcessor%2C* --&gt; type=RequestProcessor 找出所有的可以处理请求以及汇报它们的状态的 workers 。</li>
      <li>qry=*%3Aj2eeType=Servlet%2c* --&amp;gt; 
j2eeType=Servlet 会返回所有装载的servlets。</li>
      <li>qry=Catalina%3Atype%3DEnvironment%2Cresourcetype%3DGlobal%2Cname%3DsimpleValue --&amp;gt; 
Catalina:type=Environment,resourcetype=Global,name=simpleValue 
由所给出的名字查看一个特定的MBean。</li>
    </ul>你得要真正试一试这些查询(queries)才能真正知道它的能力。如果你没有提供<code>qry</code>参数，那么所有的MBeans就会被显示出来。我们极力建议你先去读一读tomcat源代码并弄懂JMX规范，这样你就会更好地理解你运行的那些queries了。</blockquote></td></tr></table>

  <table border="0" cellspacing="0" cellpadding="2" width="100%"><tr><td bgcolor="#828DA6"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="JMX Set command"><strong>JMX Set command</strong></a></font></td></tr><tr><td><blockquote>你可以查询一个MBean,现在是"搅乱"Tomcat内部组织的时候了! 这个set命令的一般形式是:<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://webserver/manager/jmxproxy/?set=BEANNAME&amp;amp;att=MYATTRIBUTE&amp;amp;val=NEWVALUE</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>这样,你必须提供三个请求参数:<ol>
      <li><code>set</code>: 完整的bean名字</li>
      <li><code>att</code>: 你想要改变的特性(attribute)</li>
      <li><code>val</code>: 新的值</li>
    </ol>如果所有都顺利，机器就会说OK，不然就会出现一段错误消息。例如，我们想要打开<code>ErrorReportValve</code>的排错(debugging)功能，下面将把debugging值设为10:<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/jmxproxy/ 
?set=Catalina%3Atype%3DValve%2Cname%3DErrorReportValve%2Chost%3Dlocalhost&amp;amp;att=debug&amp;amp;val=10</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>所得结果是(YMMV):<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>Result: ok</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>如果我传送一个坏的值，就会看到下面这种情况。这里我是使用的URL，我把debugging值设为'cowbell':<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>http://localhost:8080/manager/jmxproxy/ 
?set=Catalina%3Atype%3DValve%2Cname%3DErrorReportValve%2Chost%3Dlocalhost&amp;amp;att=debug&amp;amp;val=cowbell</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>当试着执行它时，结果是：<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>Error: java.lang.NumberFormatException: For input string: "cowbell"</pre></td><td bgcolor="#023264" width="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="images/void.gif" tppabs="http://tomcat.jaxwiki.org/images/void.gif" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
  </blockquote></td></tr></table>


</blockquote></td></tr></table></td></tr><!--FOOTER SEPARATOR--><!--PAGE FOOTER--><tr><td colspan="2"><div align="center"><font color="#525D76" size="-1"><em>
        
        </em></font></div></td></tr></table>

<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->