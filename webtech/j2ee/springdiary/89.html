<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->



<div class="lpindex"><a href="index.html">首页</a><a href="88.html"> 上一页</a><a href="90.html"> 下一页</a></div>
<h1>Hessian、 Burlap </h1>
<p>Hessian、Burlap是由Caucho Technology（http://www.caucho.com/）所提出，透过HTTP实现的远 程服务。 
Hessian是将物件以中性的二进位讯息使用HTTP进行传送，而不若RMI使用Java的序列化格式，由  于该二进位讯息是中性的，因此不受限于某种程式语言所实现的客户端或伺服端，二进位资料在  传输时所需的频宽较小是其优点。 </p>
<p> Burlap则是将物件以XML文件格式进行传送，XML文件且有较高的可读性，只要应用程式可以剖  析XML文件就可以解读所接收的讯息，当然也不受限于某种语言所实现的客户端与伺服端。 </p>
<p>在Spring中使用Hessian及Burlap的方法是类似的，由于Hessian、Burlap是透过HTTP传送，所以在 使用它们时要搭配  Spring Web框架来使用，也就是使用到DispatcherServlet，举个实际的例子来  示范如何使用Hessian，以 RMI  介绍的RMI例子来说，可以直接使用已撰写好的ISomeService、 SomeServiceImpl，而伺服端要在 web.xml中配置DispatcherServlet： </p>
<h5> •      web.xml</h5>
<pre class="code">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee"xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
	→ http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd" version="2.4"&gt;
	&lt;session-config&gt;
		&lt;session-timeout&gt;
			30
		&lt;/session-timeout&gt;
	&lt;/session-config&gt;
	&lt;servlet&gt;
		&lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;
		&lt;servlet-class&gt;
			org.springframework.web.servlet.DispatcherServlet
		&lt;/servlet-class&gt;
		&lt;init-param&gt;
			&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
			&lt;param-value&gt;/WEB-INF/service-config.xml&lt;/param-value&gt;
		&lt;/init-param&gt;
		&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
	&lt;/servlet&gt;
	&lt;servlet-mapping&gt;
		&lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;
		&lt;url-pattern&gt;*.service&lt;/url-pattern&gt;
	&lt;/servlet-mapping&gt;
&lt;/web-app&gt;</pre>
<p> 在 Hessian 的伺服端这边，使用 org.springframework.remoting.caucho.HessianServiceExporter 来发 布服务： </p>
<h5> •      service‐config.xml</h5>
<pre class="code">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE beans PUBLIC "-//SPRING/DTD BEAN/EN"
"http://www.springframework.org/dtd/spring-beans.dtd"&gt;
&lt;beans&gt;
	&lt;bean id="urlMapping" class="org.springframework.web.servlet.
		→ handler.SimpleUrlHandlerMapping"&gt;
		&lt;property name="mappings"&gt;
			&lt;props&gt;
				&lt;prop key="/some.service"&gt;serviceExporter&lt;/prop&gt;
			&lt;/props&gt;
		&lt;/property&gt;
	&lt;/bean&gt;
	&lt;bean id="viewResolver" class="org.springframework.web.servlet.
		→ view.InternalResourceViewResolver"&gt;
		&lt;property name="prefix"&gt;
			&lt;value&gt;/WEB-INF/jsp/&lt;/value&gt;
		&lt;/property&gt;
		&lt;property name="suffix"&gt;
			&lt;value&gt;.jsp&lt;/value&gt;
		&lt;/property&gt;
	&lt;/bean&gt;
	&lt;bean id="someService" class="onlyfun.caterpillar.SomeServiceImpl"/&gt;
	&lt;bean id="serviceExporter" class="org.springframework.remoting.
		→ caucho.HessianServiceExporter"&gt;
		&lt;property name="service"&gt;
			&lt;ref bean="someService"/&gt;
		&lt;/property&gt;
		&lt;property name="serviceInterface"&gt;
			&lt;value&gt;onlyfun.caterpillar.ISomeService&lt;/value&gt;
		&lt;/property&gt;
	&lt;/bean&gt;
&lt;/beans&gt;</pre>
<p> 注意到在 SimpleUrlHandlerMapping 的设置上，请求 some.service 的会转发给 serviceExporter，在 这边您不 用注册服务名称，也就是没有&quot;serviceName&quot;属性， Hessian、Burlap 不需要，如果您  使 用  的 是  Burlap   ， 则 设 定 上 在 serviceExporter  的 &quot;class&quot;  属 性 只 要 改 用 org.springframework.remoting.caucho.BurlapServiceExporter 类别即可。 </p>
<p>接下来您只要启动 Servlet 容器，在载入以上设计  Web 应用程式之后，则 Hessian 伺服端就会启 动了，记得要在您的 lib 目录中加入 Hessian 所需的 API 类别之.jar 档案，这可以使用 Spring 下载 档案中 lib 目录下  caucho 目录的 hessian‐2.1.12.jar  档案，如果使用 Burlap 的话，当然要记得必须 加入  Burlap API 所需的.jar 档案。 </p>
<p> Hessian 客户端的撰写则可以使用先前撰写的 RMIClientDemo 专案来改写，事实上只要修改一下 
Bean 定义档即可，例如：</p>
<h5> •      hessian‐client.xml</h5>
<pre class="code">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE beans PUBLIC "-//SPRING/DTD BEAN/EN""http://www.springframework.org/dtd/spring-beans.dtd"&gt;
&lt;beans&gt;
	&lt;bean id="someServiceProxy" class="org.springframework.remoting.
		→ caucho.HessianProxyFactoryBean"&gt;
		&lt;property name="serviceUrl"&gt;
			&lt;value&gt;
				http://localhost:8080/HessianServerDemo/some.service
			&lt;/value&gt;
		&lt;/property&gt;
		&lt;property name="serviceInterface"&gt;
			&lt;value&gt;onlyfun.caterpillar.ISomeService&lt;/value&gt;
		&lt;/property&gt;
	&lt;/bean&gt;
&lt;/beans&gt;</pre>
<p> 注意到&quot;serviceUrl&quot;属性的设定，它是个标准的 HTTP 请求位址，来撰写个简单的客户端程式以使 用  Hessian 伺服器上的服务：</p>
<h5> •      HessianClient.java</h5>
<pre class="code">package onlyfun.caterpillar;
import org.springframework.context.ApplicationContext;
import org.springframework.context. support.FileSystemXmlApplicationContext;
public class HessianClient {
	public static void main(String[] args) { 
		ApplicationContext context =new FileSystemXmlApplicationContext( "hessian-client.xml");
		ISomeService service =(ISomeService) context.getBean("someServiceProxy");
		String result1 = service.doSomeService("Some request"); 
		System.out.println(result1);
		int result2 = service.doOtherService(1); 
		System.out.println(result2);
	}
}
</pre>
<p> 同样的必须记得，您要加入包括Hessian API的.jar档案，执行的结果与  RMI 是相同的，如果您要 使用Burlap，则设定上只要改用org.springframework.remoting.caucho.BurlapProxyFactoryBean即可， 当然要记得必须加入Burlap API所需的.jar档案。
</p>

<div class="rpindex"><a href="90.html"> 下一页</a><a href="88.html"> 上一页</a><a href="index.html">首页</a></div>


<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
