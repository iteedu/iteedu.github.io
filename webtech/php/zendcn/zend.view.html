<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->



<div class="chapter" title="第 60 章 Zend_View">
<div class="titlepage"><div><div><h2 class="title">
<a name="zend.view"></a>第 60 章 Zend_View</h2></div></div></div>
<div class="toc">
<p><b>目录</b></p>
<dl>
<dt><span class="sect1"><a href="zend.view.html#zend.view.introduction">60.1. 简介</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.view.html#zend.view.introduction.controller">60.1.1. 控制器脚本</a></span></dt>
<dt><span class="sect2"><a href="zend.view.html#zend.view.introduction.view">60.1.2. 视图脚本</a></span></dt>
<dt><span class="sect2"><a href="zend.view.html#zend.view.introduction.options">60.1.3. 选项</a></span></dt>
<dt><span class="sect2"><a href="zend.view.html#zend.view.introduction.accessors">60.1.4. 实用访问器</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.view.controllers.html">60.2. 控制器脚本</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.view.controllers.html#zend.view.controllers.assign">60.2.1. 变量赋值</a></span></dt>
<dt><span class="sect2"><a href="zend.view.controllers.html#zend.view.controllers.render">60.2.2. 调用视图脚本并打印输出</a></span></dt>
<dt><span class="sect2"><a href="zend.view.controllers.html#zend.view.controllers.script-paths">60.2.3. 视图脚本的路径</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.view.scripts.html">60.3. 视图脚本</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.view.scripts.html#zend.view.scripts.escaping">60.3.1. 转义输出（Escaping Output）</a></span></dt>
<dt><span class="sect2"><a href="zend.view.scripts.html#zend.view.scripts.templates">60.3.2. 使用模板系统</a></span></dt>
<dd><dl>
<dt><span class="sect3"><a href="zend.view.scripts.html#zend.view.scripts.templates.scripts">60.3.2.1. 使用View脚本的模板系统</a></span></dt>
<dt><span class="sect3"><a href="zend.view.scripts.html#zend.view.scripts.templates.interface">60.3.2.2. 通过Zend_View_Interface接口使用模板系统</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="sect1"><a href="zend.view.helpers.html">60.4. 视图助手（View Helper）</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.view.helpers.html#zend.view.helpers.initial">60.4.1. 基本的助手</a></span></dt>
<dd><dl>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.action">60.4.1.1. 动作视图助手</a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.partial">60.4.1.2. 区域助手（Partial Helper） </a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.placeholder">60.4.1.3.  占位符助手（Placeholder Helper） </a></span></dt>
<dd><dl><dt><span class="sect4"><a href="zend.view.helpers.html#zend.view.helpers.initial.placeholder.implementations">60.4.1.3.1.  具体占位符实现 </a></span></dt></dl></dd>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.doctype">60.4.1.4. 文档类型助手（Doctype Helper）</a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.headlink">60.4.1.5. HeadLink 助手</a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.headmeta">60.4.1.6. HeadMeta 助手</a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.headscript">60.4.1.7. HeadScript 助手</a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.headstyle">60.4.1.8. HeadStyle 助手 </a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.headtitle">60.4.1.9. HeadTitle 助手 </a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.object">60.4.1.10. HTML 对象助手</a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.inlinescript">60.4.1.11. InlineScript 助手 </a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.json">60.4.1.12.  JSON 助手 </a></span></dt>
<dt><span class="sect3"><a href="zend.view.helpers.html#zend.view.helpers.initial.translate">60.4.1.13.  翻译助手 </a></span></dt>
</dl></dd>
<dt><span class="sect2"><a href="zend.view.helpers.html#zend.view.helpers.paths">60.4.2. 助手的路径</a></span></dt>
<dt><span class="sect2"><a href="zend.view.helpers.html#zend.view.helpers.custom">60.4.3. 编写自定义的助手类</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.view.abstract.html">60.5. Zend_View_Abstract</a></span></dt>
<dt><span class="sect1"><a href="zend.view.migration.html">60.6. Migrating from Previous Versions</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.view.migration.html#zend.view.migration.zf5748">60.6.1. Migrating from versions prior to 1.7.5</a></span></dt>
<dd><dl><dt><span class="sect3"><a href="zend.view.migration.html#zend.view.migration.zf5748.disabling">60.6.1.1. Disabling LFI protection for the render() method</a></span></dt></dl></dd>
</dl></dd>
</dl>
</div>
<div class="sect1" title="60.1. 简介">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.view.introduction"></a>60.1. 简介</h2></div></div></div>
<p>
        <code>Zend_View</code>是用来在MVC模式中处理View（视图）部份的一个类。也就是说它用来使视图部份的代码与Model及controller部分分离。它提供了helper,output filter,variable escaping等几个功能组件。
    </p>
<p>
        <code>Zend_View</code>使用PHP本身作为你的模板，或者你也可以建立其它模板引擎的实例，并用你的view代码来对其进行操作。
    </p>
<p>
        使用<code>Zend_View</code>主要有两步： 1. 你的Controller建立一个<code>Zend_View</code>实例，并将需要的变量传递给它； 2. Controller告诉<code>Zend_View</code>解析一个特定的视图，生成View输出的内容。
    </p>
<div class="sect2" title="60.1.1. 控制器脚本">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.introduction.controller"></a>60.1.1. 控制器脚本</h3></div></div></div>
<p>
            下面是一个简单的例子。假设你有一个书籍清单，想把它打印出来。控制器代码可能看起来是这样的：
        </p>
<pre class="code">&lt;?php
//使用一个模型来获取书籍作者和标题相关数据。
$data = array(
    array(
        'author' =&gt; 'Hernando de Soto',
        'title' =&gt; 'The Mystery of Capitalism'
    ),
    array(
        'author' =&gt; 'Henry Hazlitt',
        'title' =&gt; 'Economics in One Lesson'
    ),
    array(
        'author' =&gt; 'Milton Friedman',
        'title' =&gt; 'Free to Choose'
    )
);

//传递数据给Zend_View类的实例　
Zend_Loader::loadClass('Zend_View');
$view = new Zend_View();
$view-&gt;books = $data;

//解析一段View代码"booklist.html"来显示数据
echo $view-&gt;render('booklist.html');
        </pre>
</div>
<div class="sect2" title="60.1.2. 视图脚本">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.introduction.view"></a>60.1.2. 视图脚本</h3></div></div></div>
<p>
            现在我们看看相关的视图代码"booklist.html"。这是一段普通的代码，但是有一点特别：它是在<code>Zend_View</code>实例的内部运行的，所以$this指向的是<code>Zend_View</code>实例和类方法。(controller传递给<code>Zend_View</code>实例的变量是public的)。一段非常基本的视图代码看起来是这样的：
        </p>
<pre class="code">&lt;?php if ($this-&gt;books): ?&gt;

    &lt;!-- 包含几本书信息的HTML表格. --&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;th&gt;Author&lt;/th&gt;
            &lt;th&gt;Title&lt;/th&gt;
        &lt;/tr&gt;

        &lt;?php foreach ($this-&gt;books as $key =&gt; $val): ?&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;?php echo $this-&gt;escape($val['author']) ?&gt;&lt;/td&gt;
            &lt;td&gt;&lt;?php echo $this-&gt;escape($val['title']) ?&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;?php endforeach; ?&gt;

    &lt;/table&gt;

&lt;?php else: ?&gt;

    &lt;p&gt;There are no books to display.&lt;/p&gt;

&lt;?php endif; ?&gt;
        </pre>
<p>
            注意我们使用escape()来转义输出。
        </p>
</div>
<div class="sect2" title="60.1.3. 选项">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.introduction.options"></a>60.1.3. 选项</h3></div></div></div>
<p>
            <code>Zend_View</code>有若干选项来配置视图脚本的运行。
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
                    <code>basePath</code>: 指示一个基本路径，可以在下面设置script、 helper 和 filter 路径。目录结构如下：
                </p>
<pre class="code">
base/path/
    helpers/
    filters/
    scripts/
                </pre>
<p>
                    可以通过 <code>setBasePath()</code>、<code>addBasePath()</code>、或 <code>basePath</code>设置给构造器。
                </p>
</li>
<li class="listitem"><p>
                <code>encoding</code>: 指定 <code>htmlentities()</code>、<code>htmlspecialchars()</code>和其它操作所采用的字符集，缺省为 ISO-8859-1 (latin1)。也可以通过<code>setEncoding()</code> 或 <code>encoding</code> 设置给构造器。
            </p></li>
<li class="listitem"><p>
                <code>escape</code>: 指定<code>escape()</code>所使用的回调函数（callback）。也可以通过<code>setEscape()</code>或<code>escape</code>设置给构造器。
            </p></li>
<li class="listitem"><p>
                <code>filter</code>: 指示在解析视图脚本后使用的过滤器。可以通过<code>setFilter()</code>、<code>addFilter()</code>或者<code>filter</code>设置给构造器。
            </p></li>
<li class="listitem"><p>
                <code>strictVars</code>: 指定某些未初始化的视图变量被访问时，<code>Zend_View</code>必须发出通知和警告。可以通过调用<code>strictVars(true)</code> 或传递<code>strictVars</code>给构造器来设置。
            </p></li>
</ul></div>
</div>
<div class="sect2" title="60.1.4. 实用访问器">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.introduction.accessors"></a>60.1.4. 实用访问器</h3></div></div></div>
<p>
            一般来说，你只需要调用<code>assign()</code>、<code>render()</code>或其中之一来设置/添加过滤器、助手类、和脚本路径。然而，如果希望扩展<code>Zend_View</code>或需要访问它的内部，有许多访问器（Accessor）可用：
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code>getVars()</code> 将返回所有已赋值的变量。
                </p></li>
<li class="listitem"><p>
                    <code>clearVars()</code> 将清除所有已赋值的变量；当你想重新使用同一个视图对象，并决定哪些变量可用时，这个功能很有用。
                </p></li>
<li class="listitem"><p>
                    <code>getScriptPath($script)</code> 将获取指定的视图脚本的路径。
                </p></li>
<li class="listitem"><p>
                    <code>getScriptPaths()</code> 将获取所有注册的脚本路径。
                </p></li>
<li class="listitem"><p>
                    <code>getHelperPath($helper)</code> 将获取已命名的助手类的路径。
                </p></li>
<li class="listitem"><p>
                    <code>getHelperPaths()</code> 将获取所有注册的助手路径。
                </p></li>
<li class="listitem"><p>
                    <code>getFilterPath($filter)</code> 将获取已命名的过滤器类的路径。
                </p></li>
<li class="listitem"><p>
                    <code>getFilterPaths()</code> 将获取所有注册的过滤器文件的路径。
                </p></li>
</ul></div>
</div>
</div>
</div>
<div class="revinfo"></div>


<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->