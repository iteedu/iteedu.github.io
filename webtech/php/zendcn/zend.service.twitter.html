<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->



<div class="sect1" title="47.24. Zend_Service_Twitter">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.service.twitter"></a>47.24. Zend_Service_Twitter</h2></div></div></div>
<div class="sect2" title="47.24.1. Introduction">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.service.twitter.introduction"></a>47.24.1. Introduction</h3></div></div></div>
<p>
            <code class="classname">Zend_Service_Twitter</code> provides a client for the Twitter REST API.
            <code class="classname">Zend_Service_Twitter</code> will allow you to query the public timeline and if you provide a username
            and password for Twitter it will allow you to get and update your status, reply to friends,
            direct message friends, mark tweets as favorite and much more.
        </p>
<p>
            <code class="classname">Zend_Service_Twitter</code> is implementing a REST service and  all methods return an instance of
            <code class="classname">Zend_Rest_Client_Result</code>.
        </p>
<p>
            <code class="classname">Zend_Service_Twitter</code> is broken up into subsections so you can easily identify which type of call
            is being requested.
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code>account</code>, make sure that your account credentials are valid, check your api rate limit
                    and end the current session for the authenticated user.
                </p></li>
<li class="listitem"><p>
                    <code>status</code>, retrieves the public and user timelines and allows you to show, update, destroy
                    and retrieve replies for the authenticated user.
                </p></li>
<li class="listitem"><p>
                    <code>user</code>, retrieves the friends, followers for the authenticated user. With the
                    show method you can return extended information about the passed in user.
                </p></li>
<li class="listitem"><p>
                    <code>directMessage</code>, retrieves the authenticated users received direct message and allows you to send and
                    delete new direct message.
                </p></li>
<li class="listitem"><p>
                    <code>friendship</code>, create or remove a friendship for the authenticated user.
                </p></li>
<li class="listitem"><p>
                    <code>favorite</code>, list, create or remove a favorite tweet.
                </p></li>
</ul></div>
</div>
<div class="sect2" title="47.24.2. Authentication">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.service.twitter.authentication"></a>47.24.2. Authentication</h3></div></div></div>
<p>
            With the exception of fetching the public timeline <code class="classname">Zend_Service_Twitter</code> requires
            authentication to work. Twitter currently uses HTTP Basic Authentication.
            You can pass in your username or registered email along with your password for twitter to login.
        </p>
<div class="example">
<a name="zend.service.twitter.authentication.example"></a><p class="title"><b>例 47.102. Creating the Twitter Class</b></p>
<div class="example-contents">
<p>
                The following code sample is how you create the Twitter Service and pass in your username and password
                and then verify that they are correct.
            </p>
<pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
// verify your credentials with twitter
$response = $twitter-&gt;account-&gt;verifyCredentials();
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="sect2" title="47.24.3. Account Methods">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.service.twitter.accout"></a>47.24.3. Account Methods</h3></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
                    <code>verifyCredentials</code>, Use this method to test if supplied user credentials are valid with minimal overhead.
                </p>
<div class="example">
<a name="zend.service.twitter.account.verifycredentails"></a><p class="title"><b>例 47.103. Verifying credentials</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;account-&gt;verifyCredentials();
</pre></div>
</div>
<br class="example-break">
</li>
<li class="listitem">
<p>
                    <code>endSession</code>, Use this method to sign users out of client-facing applications.
                </p>
<div class="example">
<a name="zend.service.twitter.account.endsession"></a><p class="title"><b>例 47.104. Sessions ending</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;account-&gt;endSession();
</pre></div>
</div>
<br class="example-break">
</li>
<li class="listitem">
<p>
                    <code>rateLimitStatus</code>, Returns the remaining number of API requests available to the authenticating user
                    before the API limit is reached for the current hour.
                </p>
<div class="example">
<a name="zend.service.twitter.account.ratelimitstatus"></a><p class="title"><b>例 47.105. Rating limit status</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;account-&gt;rateLimitStatus();
</pre></div>
</div>
<br class="example-break">
</li>
</ul></div>
</div>
<div class="sect2" title="47.24.4. Status Methods">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.service.twitter.status"></a>47.24.4. Status Methods</h3></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
                    <code>publicTimeline</code>, Returns the 20 most recent statuses from non-protected users with a custom user icon.
                    The public timeline is cached by twitter for 60 seconds.
                </p>
<div class="example">
<a name="zend.service.twitter.status.publictimeline"></a><p class="title"><b>例 47.106. Retrieving public timeline</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;status-&gt;publicTimeline();
</pre></div>
</div>
<br class="example-break">
</li>
<li class="listitem">
<p>
                    <code>friendsTimeline</code>, Returns the 20 most recent statuses posted by the authenticating user and that
                    user's friends.
                </p>
<div class="example">
<a name="zend.service.twitter.status.friendstimeline"></a><p class="title"><b>例 47.107. Retrieving friends timeline</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;status-&gt;friendsTimeline();
</pre></div>
</div>
<br class="example-break"><p>The <code>friendsTimeline</code> method accepts an array of optional parameters to modify the query.</p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                            <code>since</code>, Narrows the returned results to just those statuses created after the specified
                            date/time (up to 24 hours old).
                        </p></li>
<li class="listitem"><p>
                            <code>page</code>, Which page you want to return.
                        </p></li>
</ul></div>
</li>
<li class="listitem">
<p>
                    <code>userTimeline</code>, Returns the 20 most recent statuses posted from the authenticating user.
                </p>
<div class="example">
<a name="zend.service.twitter.status.usertimeline"></a><p class="title"><b>例 47.108. Retrieving user timeline</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;status-&gt;userTimeline();
</pre></div>
</div>
<br class="example-break"><p>The <code>userTimeline</code> method accepts an array of optional parameters to modify the query.</p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                            <code>id</code>, Specifies the ID or screen name of the user for whom to return the friends_timeline.
                        </p></li>
<li class="listitem"><p>
                            <code>since</code>, Narrows the returned results to just those statuses created after the specified
                            date/time (up to 24 hours old).
                        </p></li>
<li class="listitem"><p>
                            <code>page</code>, Which page you want to return.
                        </p></li>
<li class="listitem"><p>
                            <code>count</code>, Specifies the number of statuses to retrieve. May not be greater than 200.
                        </p></li>
</ul></div>
</li>
<li class="listitem">
<p>
                    <code>show</code>, Returns a single status, specified by the id parameter below. The status's author will be returned inline.
                    This method required a tweet id to be passed in.
                </p>
<div class="example">
<a name="zend.service.twitter.status.show"></a><p class="title"><b>例 47.109. Showing user status</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;status-&gt;show(1234);
</pre></div>
</div>
<br class="example-break">
</li>
<li class="listitem">
<p>
                    <code>update</code>, Updates the authenticating user's status. This method requires that you pass in the status update that
                    you want to post to twitter. A second optional parameter is the id of the tweet that you are replying to.
                </p>
<div class="example">
<a name="zend.service.twitter.status.update"></a><p class="title"><b>例 47.110. Updating user status</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;status-&gt;update('My Great Tweet');
</pre></div>
</div>
<br class="example-break"><p>The <code>update</code> method accepts a second additional parameter.</p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>
                            <code>in_reply_to_status_id</code>, The ID of an existing status that the status to be posted is in reply to.
                        </p></li></ul></div>
</li>
<li class="listitem">
<p>
                    <code>replies</code>, Returns the 20 most recent @replies (status updates prefixed with @username) for the
                    authenticating user.
                </p>
<div class="example">
<a name="zend.service.twitter.status.replies"></a><p class="title"><b>例 47.111. Showing user replies</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;status-&gt;replies();
</pre></div>
</div>
<br class="example-break"><p>The <code>replies</code> method accepts an array of optional parameters to modify the query.</p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                            <code>since</code>, Narrows the returned results to just those statuses created after the specified
                            date/time (up to 24 hours old).
                        </p></li>
<li class="listitem"><p>
                            <code>page</code>, Which page you want to return.
                        </p></li>
<li class="listitem"><p>
                            <code>since_id</code>, Returns only statuses with an ID greater than (that is, more recent than) the specified ID.
                        </p></li>
</ul></div>
</li>
<li class="listitem">
<p>
                    <code>destroy</code>, Destroys the status specified by the required ID parameter.
                </p>
<div class="example">
<a name="zend.service.twitter.status.destroy"></a><p class="title"><b>例 47.112. Deleting user status</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;status-&gt;destroy(12345);
</pre></div>
</div>
<br class="example-break">
</li>
</ul></div>
</div>
<div class="sect2" title="47.24.5. User Methods">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.service.twitter.user"></a>47.24.5. User Methods</h3></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
                    <code>friends</code>, Returns up to 100 of the authenticating user's friends who have
                    most recently updated, each with current status inline.
                </p>
<div class="example">
<a name="zend.service.twitter.user.friends"></a><p class="title"><b>例 47.113. Retrieving user friends</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;user-&gt;friends();
</pre></div>
</div>
<br class="example-break"><p>The <code>friends</code> method accepts an array of optional parameters to modify the query.</p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                            <code>id</code>, Specifies the ID or screen name of the user for whom to return a list of friends.
                        </p></li>
<li class="listitem"><p>
                            <code>since</code>, Narrows the returned results to just those statuses created after the specified
                            date/time (up to 24 hours old).
                        </p></li>
<li class="listitem"><p>
                            <code>page</code>, Which page you want to return.
                        </p></li>
</ul></div>
</li>
<li class="listitem">
<p>
                    <code>followers</code>, Returns the authenticating user's followers, each with current status inline.
                </p>
<div class="example">
<a name="zend.service.twitter.user.followers"></a><p class="title"><b>例 47.114. Retrieving user followers</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;user-&gt;followers();
</pre></div>
</div>
<br class="example-break"><p>The <code>followers</code> method accepts an array of optional parameters to modify the query.</p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                            <code>id</code>, Specifies the ID or screen name of the user for whom to return a list of followers.
                        </p></li>
<li class="listitem"><p>
                            <code>page</code>, Which page you want to return.
                        </p></li>
</ul></div>
</li>
<li class="listitem">
<p>
                    <code>show</code>, Returns extended information of a given user, specified by ID or screen name as per the
                    required id parameter below
                </p>
<div class="example">
<a name="zend.service.twitter.user.show"></a><p class="title"><b>例 47.115. Showing user informations</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;user-&gt;show('myfriend');
</pre></div>
</div>
<br class="example-break">
</li>
</ul></div>
</div>
<div class="sect2" title="47.24.6. Direct Message Methods">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.service.twitter.directmessage"></a>47.24.6. Direct Message Methods</h3></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
                    <code>messages</code>, Returns a list of the 20 most recent direct messages sent to the authenticating user.
                </p>
<div class="example">
<a name="zend.service.twitter.directmessage.messages"></a><p class="title"><b>例 47.116. Retrieving recent direct messages received</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;directMessage-&gt;messages();
</pre></div>
</div>
<br class="example-break"><p>The <code>message</code> method accepts an array of optional parameters to modify the query.</p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                            <code>since_id</code>, Returns only direct messages with an ID greater than (that is, more recent than)
                            the specified ID.
                        </p></li>
<li class="listitem"><p>
                            <code>since</code>, Narrows the returned results to just those statuses created after the specified
                            date/time (up to 24 hours old).
                        </p></li>
<li class="listitem"><p>
                            <code>page</code>, Which page you want to return.
                        </p></li>
</ul></div>
</li>
<li class="listitem">
<p>
                    <code>sent</code>, Returns a list of the 20 most recent direct messages sent by the authenticating user.
                </p>
<div class="example">
<a name="zend.service.twitter.directmessage.sent"></a><p class="title"><b>例 47.117. Retrieving recent direct messages sent</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;directMessage-&gt;sent();
</pre></div>
</div>
<br class="example-break"><p>The <code>sent</code> method accepts an array of optional parameters to modify the query.</p>
<div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                            <code>since_id</code>, Returns only direct messages with an ID greater than (that is, more recent than)
                            the specified ID.
                        </p></li>
<li class="listitem"><p>
                            <code>since</code>, Narrows the returned results to just those statuses created after the specified
                            date/time (up to 24 hours old).
                        </p></li>
<li class="listitem"><p>
                            <code>page</code>, Which page you want to return.
                        </p></li>
</ul></div>
</li>
<li class="listitem">
<p>
                    <code>new</code>, Sends a new direct message to the specified user from the authenticating user.
                    Requires both the user and text parameters below.
                </p>
<div class="example">
<a name="zend.service.twitter.directmessage.new"></a><p class="title"><b>例 47.118. Sending direct message</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;directMessage-&gt;new('myfriend', 'mymessage');
</pre></div>
</div>
<br class="example-break">
</li>
<li class="listitem">
<p>
                    <code>destroy</code>, Destroys the direct message specified in the required ID parameter. The authenticating user
                    must be the recipient of the specified direct message.
                </p>
<div class="example">
<a name="zend.service.twitter.directmessage.destroy"></a><p class="title"><b>例 47.119. Deleting direct message</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;directMessage-&gt;destroy(123548);
</pre></div>
</div>
<br class="example-break">
</li>
</ul></div>
</div>
<div class="sect2" title="47.24.7. Friendship Methods">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.service.twitter.friendship"></a>47.24.7. Friendship Methods</h3></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
                    <code>create</code>, Befriends the user specified in the ID parameter as the authenticating user.
                </p>
<div class="example">
<a name="zend.service.twitter.friendship.create"></a><p class="title"><b>例 47.120. Creating friend</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;friendship-&gt;create('mynewfriend');
</pre></div>
</div>
<br class="example-break">
</li>
<li class="listitem">
<p>
                    <code>destroy</code>, Discontinues friendship with the user specified in the ID parameter as the authenticating user.
                </p>
<div class="example">
<a name="zend.service.twitter.friendship.destroy"></a><p class="title"><b>例 47.121. Deleting friend</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;friendship-&gt;destroy('myoldfriend');
</pre></div>
</div>
<br class="example-break">
</li>
<li class="listitem">
<p>
                    <code>exists</code>, Tests if a friendship exists between the authenticated user and the passed in user.
                </p>
<div class="example">
<a name="zend.service.twitter.friendship.exists"></a><p class="title"><b>例 47.122. Checking friend existence</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;friendship-&gt;exists('myfriend');
</pre></div>
</div>
<br class="example-break">
</li>
</ul></div>
</div>
<div class="sect2" title="47.24.8. Favorite Methods">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.service.twitter.favorite"></a>47.24.8. Favorite Methods</h3></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p>
                    <code>favorites</code>, Returns the 20 most recent favorite statuses for the authenticating user or user specified by the ID parameter
                </p>
<div class="example">
<a name="zend.service.twitter.favorite.favorites"></a><p class="title"><b>例 47.123. Retrieving favorites</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;favorite-&gt;favorites();
</pre></div>
</div>
<br class="example-break"><div class="itemizedlist"><ul class="itemizedlist" type="circle">
<li class="listitem"><p>
                            <code>id</code>, The ID or screen name of the user for whom to request a list of favorite statuses.
                        </p></li>
<li class="listitem"><p>
                            <code>page</code>, Which page you want to return.
                        </p></li>
</ul></div>
</li>
<li class="listitem">
<p>
                    <code>create</code>, Favorites the status specified in the ID parameter as the authenticating user..
                </p>
<div class="example">
<a name="zend.service.twitter.favorite.create"></a><p class="title"><b>例 47.124. Creating favorites</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;favorite-&gt;create(12351);
</pre></div>
</div>
<br class="example-break">
</li>
<li class="listitem">
<p>
                    <code>destroy</code>, Un-favorites the status specified in the ID parameter as the authenticating user.
                </p>
<div class="example">
<a name="zend.service.twitter.favorite.destroy"></a><p class="title"><b>例 47.125. Deleting favorites</b></p>
<div class="example-contents"><pre class="code">
$twitter = new Zend_Service_Twitter('myusername', 'mysecretpassword');
$response = $twitter-&gt;favorite-&gt;destroy(12351);
</pre></div>
</div>
<br class="example-break">
</li>
</ul></div>
</div>
<div class="sect2" title="47.24.9. Zend_Service_Twitter_Search">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.service.twitter.search"></a>47.24.9. Zend_Service_Twitter_Search</h3></div></div></div>
<div class="sect3" title="47.24.9.1. Introduction">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.service.twitter.search.introduction"></a>47.24.9.1. Introduction</h4></div></div></div>
<p>
            <code class="classname">Zend_Service_Twitter_Search</code> provides a client for the <a class="ulink" href="" target="_top">Twitter Search API</a>.
            The Twitter Search service is use to search Twitter. Currently it only
            returns data in Atom or JSON format but a full REST service is in the future
            which will support XML responses.
        </p>
</div>
<div class="sect3" title="47.24.9.2. Twitter Trends">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.service.twitter.search.trends"></a>47.24.9.2. Twitter Trends</h4></div></div></div>
<p>
            Returns the top ten queries that are currently trending on Twitter.
            The response includes the time of the request, the name of each trending topic,
            and the url to the Twitter Search results page for that topic.
            Currently the search API for trends only supports a JSON return so the function returns
            an array.
        </p>
<pre class="code">
$twitter_search = new Zend_Service_Twitter_Search();
$twitter_trends = $twitter_search-&gt;trends();

foreach($twitter_trends as $trend) {
    print $trend['name'] . ' - ' . $trend['url'] . PHP_EOL
}
</pre>
<p>
            The return array has two values in it:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code>name</code>, the name of trend.
                </p></li>
<li class="listitem"><p>
                    <code>url</code>, the url to see the tweets
                    for that trend.
                </p></li>
</ul></div>
</div>
<div class="sect3" title="47.24.9.3. Searching Twitter">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.service.twitter.search.search"></a>47.24.9.3. Searching Twitter</h4></div></div></div>
<p>
            Using the search method returns tweets that match a specific query.
            There are a number of Search Operators that you
            can use to query with.
        </p>
<p>
            The search method can accept six different optional URL parameters passed in as an array:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                    <code>lang</code>, restricts the tweets to a given language, lang must
                    be given by an ISO 639-1 code.
                </p></li>
<li class="listitem"><p>
                    <code>rpp</code>, the number of tweets to return per page,
                    up to a max of 100.
                </p></li>
<li class="listitem"><p>
                    <code>page</code>, the page number to return, up to a max of
                    roughly 1500 results (based on rpp * page)
                </p></li>
<li class="listitem"><p>
                    <code>since_id</code>, returns tweets with status ids
                    greater than the given id.
                </p></li>
<li class="listitem"><p>
                    <code>show_user</code>, when "true", adds "&gt;user&lt;:"
                    to the beginning of the tweet. This is useful for readers
                    that do not display Atom's author field. The default is "false"
                </p></li>
<li class="listitem"><p>
                    <code>geocode</code>, returns tweets by users located within a given radius of the given
                    latitude/longitude, where the user's location is taken from their Twitter profile. The
                    parameter value is specified by "latitude,longitude,radius", where radius units must
                    be specified as either "mi" (miles) or "km" (kilometers).
                </p></li>
</ul></div>
<div class="example">
<a name="zend.service.twitter.search.search.json"></a><p class="title"><b>例 47.126. JSON Search Example</b></p>
<div class="example-contents">
<p>
                The following code sample will return an array with the values search results
            </p>
<pre class="code">
$twitter_search = new Zend_Service_Twitter_Search('json');
$search_results = $twitter_search-&gt;search('zend', array('lang' =&gt; 'en'));
</pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.service.twitter.search.search.atom"></a><p class="title"><b>例 47.127. ATOM Search Example</b></p>
<div class="example-contents">
<p>
                The following code sample will return a <code class="classname">Zend_Feed_Atom</code> object.
            </p>
<pre class="code">
$twitter_search = new Zend_Service_Twitter_Search('atom');
$search_results = $twitter_search-&gt;search('zend', array('lang' =&gt; 'en'));
</pre>
</div>
</div>
<br class="example-break">
</div>
<div class="sect3" title="47.24.9.4. Zend-specific Accessor Methods">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.service.twitter.search.accessors"></a>47.24.9.4. Zend-specific Accessor Methods</h4></div></div></div>
<p>
            While the Twitter Search API only specifies two methods,
            <code class="classname">Zend_Service_Twitter_Search</code> has additional accessors
            that may be used for modifying internal properties.
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                    <code>getResponseType()</code> and <code>setResponseType()</code>
                    allow you to retrieve and modify the response type of the search
                    between JSON and ATOM.
                </p></li></ul></div>
</div>
</div>
</div>
<div class="revinfo"></div>


<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->