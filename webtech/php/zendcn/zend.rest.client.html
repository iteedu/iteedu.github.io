<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->



<div class="sect1" title="44.2. Zend_Rest_Client">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.rest.client"></a>44.2. Zend_Rest_Client</h2></div></div></div>
<div class="sect2" title="44.2.1. Introduction">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.rest.client.introduction"></a>44.2.1. Introduction</h3></div></div></div>
<p>
            Using the <code class="classname">Zend_Rest_Client</code> is very similar to using
            <code>SoapClient</code> objects (SOAP web service extension).
            You can simply call the REST service procedures as
            <code class="classname">Zend_Rest_Client</code> methods. Specify the service's full
            address in the <code class="classname">Zend_Rest_Client</code> constructor.
        </p>
<div class="example">
<a name="zend.rest.client.introduction.example-1"></a><p class="title"><b>例 44.1. A basic REST request</b></p>
<div class="example-contents"><pre class="code">
/**
 * Connect to framework.zend.com server and retrieve a greeting
 */
$client = new Zend_Rest_Client('http://framework.zend.com/rest');

echo $client-&gt;sayHello('Davey', 'Day')-&gt;get(); // "Hello Davey, Good Day"
</pre></div>
</div>
<br class="example-break"><div class="note" title="Differences in calling"><table border="0" summary="Note: Differences in calling">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">Differences in calling</th>
</tr>
<tr><td align="left" valign="top">
<p>
                <code class="classname">Zend_Rest_Client</code> attempts to make remote methods
                look as much like native methods as possible, the only
                difference being that you must follow the method call with one
                of either <code>get()</code>, <code>post()</code>,
                <code>put()</code> or <code>delete()</code>. This call may be
                made via method chaining or in separate method calls:
            </p>
<pre class="code">
$client-&gt;sayHello('Davey', 'Day');
echo $client-&gt;get();
</pre>
</td></tr>
</table></div>
</div>
<div class="sect2" title="44.2.2. Responses">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.rest.client.return"></a>44.2.2. Responses</h3></div></div></div>
<p>
            All requests made using <code class="classname">Zend_Rest_Client</code> return a
            <code class="classname">Zend_Rest_Client_Response</code> object. This object has many
            properties that make it easier to access the results.
        </p>
<p>
            When the service is based on <code class="classname">Zend_Rest_Server</code>,
            <code class="classname">Zend_Rest_Client</code> can make several assumptions about the
            response, including response status (success or failure) and return
            type.
        </p>
<div class="example">
<a name="zend.rest.client.return.example-1"></a><p class="title"><b>例 44.2. Response Status</b></p>
<div class="example-contents"><pre class="code">
$result = $client-&gt;sayHello('Davey', 'Day')-&gt;get();

if ($result-&gt;isSuccess()) {
    echo $result; // "Hello Davey, Good Day"
}
</pre></div>
</div>
<br class="example-break"><p>
            In the example above, you can see that we use the request result as
            an object, to call <code>isSuccess()</code>, and then because of
            <code>__toString()</code>, we can simply <code>echo</code> the
            object to get the result. <code class="classname">Zend_Rest_Client_Response</code>
            will allow you to echo any scalar value. For complex types, you can
            use either array or object notation.
        </p>
<p>
            If however, you wish to query a service not using
            <code class="classname">Zend_Rest_Server</code> the
            <code class="classname">Zend_Rest_Client_Response</code> object will behave more like
            a <code>SimpleXMLElement</code>. However, to make things easier, it
            will automatically query the XML using XPath if the property is not
            a direct descendant of the document root element. Additionally, if
            you access a property as a method, you will receive the PHP value
            for the object, or an array of PHP value results.
        </p>
<div class="example">
<a name="zend.rest.client.return.example-2"></a><p class="title"><b>例 44.3. Using Technorati's Rest Service</b></p>
<div class="example-contents"><pre class="code">
$technorati = new Zend_Rest_Client('http://api.technorati.com/bloginfo');
$technorati-&gt;key($key);
$technorati-&gt;url('http://pixelated-dreams.com');
$result = $technorati-&gt;get();
echo $result-&gt;firstname() .' '. $result-&gt;lastname();
</pre></div>
</div>
<br class="example-break"><div class="example">
<a name="zend.rest.client.return.example-3"></a><p class="title"><b>例 44.4. Example Technorati Response</b></p>
<div class="example-contents"><pre class="code">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!-- generator="Technorati API version 1.0 /bloginfo" --&gt;
&lt;!DOCTYPE tapi PUBLIC "-//Technorati, Inc.//DTD TAPI 0.02//EN"
                      "http://api.technorati.com/dtd/tapi-002.xml"&gt;
&lt;tapi version="1.0"&gt;
    &lt;document&gt;
        &lt;result&gt;
            &lt;url&gt;http://pixelated-dreams.com&lt;/url&gt;
            &lt;weblog&gt;
                &lt;name&gt;Pixelated Dreams&lt;/name&gt;
                &lt;url&gt;http://pixelated-dreams.com&lt;/url&gt;
                &lt;author&gt;
                    &lt;username&gt;DShafik&lt;/username&gt;
                    &lt;firstname&gt;Davey&lt;/firstname&gt;
                    &lt;lastname&gt;Shafik&lt;/lastname&gt;
                &lt;/author&gt;
                &lt;rssurl&gt;
                    http://pixelated-dreams.com/feeds/index.rss2
                &lt;/rssurl&gt;
                &lt;atomurl&gt;
                    http://pixelated-dreams.com/feeds/atom.xml
                &lt;/atomurl&gt;
                &lt;inboundblogs&gt;44&lt;/inboundblogs&gt;
                &lt;inboundlinks&gt;218&lt;/inboundlinks&gt;
                &lt;lastupdate&gt;2006-04-26 04:36:36 GMT&lt;/lastupdate&gt;
                &lt;rank&gt;60635&lt;/rank&gt;
            &lt;/weblog&gt;
            &lt;inboundblogs&gt;44&lt;/inboundblogs&gt;
            &lt;inboundlinks&gt;218&lt;/inboundlinks&gt;
        &lt;/result&gt;
    &lt;/document&gt;
&lt;/tapi&gt;
</pre></div>
</div>
<br class="example-break"><p>
            Here we are accessing the <code>firstname</code> and
            <code>lastname</code> properties. Even though these are not
            top-level elements, they are automatically returned when accessed by
            name.
        </p>
<div class="note" title="Multiple items"><table border="0" summary="Note: Multiple items">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">Multiple items</th>
</tr>
<tr><td align="left" valign="top"><p>
                If multiple items are found when accessing a value by name, an
                array of SimpleXMLElements will be returned; accessing via
                method notation will return an array of PHP values.
            </p></td></tr>
</table></div>
</div>
<div class="sect2" title="44.2.3. Request Arguments">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.rest.client.args"></a>44.2.3. Request Arguments</h3></div></div></div>
<p>
            Unless you are making a request to a <code class="classname">Zend_Rest_Server</code>
            based service, chances are you will need to send multiple arguments
            with your request. This is done by calling a method with the name of
            the argument, passing in the value as the first (and only) argument.
            Each of these method calls returns the object itself, allowing for
            chaining, or "fluent" usage. The first call, or the first argument
            if you pass in more than one argument, is always assumed to be the
            method when calling a <code class="classname">Zend_Rest_Server</code> service.
        </p>
<div class="example">
<a name="zend.rest.client.args.example-1"></a><p class="title"><b>例 44.5. Setting Request Arguments</b></p>
<div class="example-contents"><pre class="code">
$client = new Zend_Rest_Client('http://example.org/rest');

$client-&gt;arg('value1');
$client-&gt;arg2('value2');
$client-&gt;get();

// or

$client-&gt;arg('value1')-&gt;arg2('value2')-&gt;get();
</pre></div>
</div>
<br class="example-break"><p>
            Both of the methods in the example above, will result in the
            following get args:
            <code>?method=arg&amp;arg1=value1&amp;arg=value1&amp;arg2=value2</code>
        </p>
<p>
            You will notice that the first call of
            <code>$client-&gt;arg('value1');</code> resulted in both
            <code>method=arg&amp;arg1=value1</code> and <code>arg=value1</code>;
            this is so that <code class="classname">Zend_Rest_Server</code> can understand the
            request properly, rather than requiring pre-existing knowledge of
            the service.
        </p>
<div class="warning" title="Strictness of Zend_Rest_Client"><table border="0" summary="Warning: Strictness of Zend_Rest_Client">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[警告]" src="images/warning.png"></td>
<th align="left">Strictness of Zend_Rest_Client</th>
</tr>
<tr><td align="left" valign="top"><p>
                Any REST service that is strict about the arguments it receives will likely fail
                using <code class="classname">Zend_Rest_Client</code>, because of the behavior described
                above. This is not a common practice and should not cause problems.
            </p></td></tr>
</table></div>
</div>
</div>
<div class="revinfo"></div>


<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->