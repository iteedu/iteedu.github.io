<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->



<div class="sect1" title="20.2.  导入Feeds">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.feed.importing"></a>20.2.  导入Feeds </h2></div></div></div>
<p>
        <code>Zend_Feed</code> 能让开发者轻松获得 Feeds 。如果你知道 Feeds 的URI，用<code>Zend_Feed::import()</code>方法就可以非常容易的获得它:
    </p>
<pre class="code">&lt;?php
$feed = Zend_Feed::import('http://feeds.example.com/feedName');
    </pre>
<p>
        你也能用<code>Zend_Feed</code>从一个文件或者一个PHP字符串变量来获得一个feed的内容:
    </p>
<pre class="code">&lt;?php
// importing a feed from a text file
$feedFromFile = Zend_Feed::importFile('feed.xml');

// importing a feed from a PHP string variable
$feedFromPHP = Zend_Feed::importString($feedString);
    </pre>
<p>
        在上面的例子中，根据feed类型的不同，一个从<code>Zend_Feed_Abstract</code>继承而来的类对象被返回。如果导入方法获得的是一个RSS feed，那么一个<code>Zend_Feed_Rss</code>对象将被返回(Seateng译注:以Factory模式实现)。另一方面，如果一个Atom feed被导入，那么将返回一个<code>Zend_Feed_Atom</code>对象。如果feed不可读或者不符合规范，导致导入失败那么Zend_Feed将抛出一个<code>Zend_Feed_Exception</code>异常。
    </p>
<div class="sect2" title="20.2.1.  定制 feeds">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.feed.importing.custom"></a>20.2.1.  定制 feeds </h3></div></div></div>
<p>
            <code>Zend_Feed</code> 能让开发者轻松创建定制 feeds，只需要创建一个数组用 Zend_Feed 导入它。这个数组可以用 <code>Zend_Feed::importArray()</code> 或 <code>Zend_Feed::importBuilder()</code> 导入。最后数组用定制的实现了 <code>Zend_Feed_Builder_Interface</code> 数据源来处理。
        </p>
<div class="sect3" title="20.2.1.1.  导入定制的数组">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.feed.importing.custom.importarray"></a>20.2.1.1.  导入定制的数组 </h4></div></div></div>
<pre class="code">&lt;?php
// 从数组导入 feed
$atomFeedFromArray = Zend_Feed::importArray($array);

// 下面一行和上面相同；缺省地 Zend_Feed_Atom 实例被返回
$atomFeedFromArray = Zend_Feed::importArray($array, 'atom');

// 从数组导入 rss feed
$rssFeedFromArray = Zend_Feed::importArray($array, 'rss');
            </pre>
<p>
                数组格式必须和这个结构一致：
            </p>
<pre class="code">&lt;?php
array(
      'title'       =&gt; 'title of the feed', //required
      'link'        =&gt; 'canonical url to the feed', //required
      'lastUpdate'  =&gt; 'timestamp of the update date', // optional
      'published'   =&gt; 'timestamp of the publication date', //optional
      'charset'     =&gt; 'charset of the textual data', // required
      'description' =&gt; 'short description of the feed', //optional
      'author'      =&gt; 'author/publisher of the feed', //optional
      'email'       =&gt; 'email of the author', //optional
      'webmaster'   =&gt; 'email address for person responsible for technical issues' // optional, ignored if atom is used
      'copyright'   =&gt; 'copyright notice', //optional
      'image'       =&gt; 'url to image', //optional
      'generator'   =&gt; 'generator', // optional
      'language'    =&gt; 'language the feed is written in', // optional
      'ttl'         =&gt; 'how long in minutes a feed can be cached before refreshing', // optional, ignored if atom is used
      'rating'      =&gt; 'The PICS rating for the channel.', // optional, ignored if atom is used
      'cloud'       =&gt; array(
                             'domain'            =&gt; 'domain of the cloud, e.g. rpc.sys.com' // required
                             'port'              =&gt; 'port to connect to' // optional, default to 80
                             'path'              =&gt; 'path of the cloud, e.g. /RPC2' //required
                             'registerProcedure' =&gt; 'procedure to call, e.g. myCloud.rssPleaseNotify' // required
                             'protocol'          =&gt; 'protocol to use, e.g. soap or xml-rpc' // required
                             ), // a cloud to be notified of updates // optional, ignored if atom is used
      'textInput'   =&gt; array(
                             'title'       =&gt; 'the label of the Submit button in the text input area' // required,
                             'description' =&gt; 'explains the text input area' // required
                             'name'        =&gt; 'the name of the text object in the text input area' // required
                             'link'        =&gt; 'the URL of the CGI script that processes text input requests' // required
                             ) // a text input box that can be displayed with the feed // optional, ignored if atom is used
      'skipHours'   =&gt; array(
                             'hour in 24 format', // e.g 13 (1pm)
                             // up to 24 rows whose value is a number between 0 and 23
                             ) // Hint telling aggregators which hours they can skip // optional, ignored if atom is used
      'skipDays '   =&gt; array(
                             'a day to skip', // e.g Monday
                             // up to 7 rows whose value is a Monday, Tuesday, Wednesday, Thursday, Friday, Saturday or Sunday
                             ) // Hint telling aggregators which days they can skip // optional, ignored if atom is used
      'itunes'      =&gt; array(
                             'author'       =&gt; 'Artist column' // optional, default to the main author value
                             'owner'        =&gt; array(
                                                     'name' =&gt; 'name of the owner' // optional, default to main author value
                                                     'email' =&gt; 'email of the owner' // optional, default to main email value
                                                     ) // Owner of the podcast // optional
                             'image'        =&gt; 'album/podcast art' // optional, default to the main image value
                             'subtitle'     =&gt; 'short description' // optional, default to the main description value
                             'summary'      =&gt; 'longer description' // optional, default to the main description value
                             'block'        =&gt; 'Prevent an episode from appearing (yes|no)' // optional
                             'category'     =&gt; array(
                                                     array('main' =&gt; 'main category', // required
                                                           'sub'  =&gt; 'sub category' // optional
                                                           ),
                                                     // up to 3 rows
                                                     ) // 'Category column and in iTunes Music Store Browse' // required
                             'explicit'     =&gt; 'parental advisory graphic (yes|no|clean)' // optional
                             'keywords'     =&gt; 'a comma separated list of 12 keywords maximum' // optional
                             'new-feed-url' =&gt; 'used to inform iTunes of new feed URL location' // optional
                             ) // Itunes extension data // optional, ignored if atom is used
      'entries'     =&gt; array(
                             array(
                                   'title'        =&gt; 'title of the feed entry', //required
                                   'link'         =&gt; 'url to a feed entry', //required
                                   'description'  =&gt; 'short version of a feed entry', // only text, no html, required
                                   'guid'         =&gt; 'id of the article, if not given link value will used', //optional
                                   'content'      =&gt; 'long version', // can contain html, optional
                                   'lastUpdate'   =&gt; 'timestamp of the publication date', // optional
                                   'comments'     =&gt; 'comments page of the feed entry', // optional
                                   'commentRss'   =&gt; 'the feed url of the associated comments', // optional
                                   'source'       =&gt; array(
                                                           'title' =&gt; 'title of the original source' // required,
                                                           'url' =&gt; 'url of the original source' // required
                                                           ) // original source of the feed entry // optional
                                   'category'     =&gt; array(
                                                           array(
                                                                 'term' =&gt; 'first category label' // required,
                                                                 'scheme' =&gt; 'url that identifies a categorization scheme' // optional
                                                                 ),
                                                           array(
                                                                 //data for the second category and so on
                                                                 )
                                                           ) // list of the attached categories // optional
                                   'enclosure'    =&gt; array(
                                                           array(
                                                                 'url' =&gt; 'url of the linked enclosure' // required
                                                                 'type' =&gt; 'mime type of the enclosure' // optional
                                                                 'length' =&gt; 'length of the linked content in octets' // optional
                                                                 ),
                                                           array(
                                                                 //data for the second enclosure and so on
                                                                 )
                                                           ) // list of the enclosures of the feed entry // optional
                                   ),
                             array(
                                   //data for the second entry and so on
                                   )
                             )
       );
            </pre>
<p>
                References:
                </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                            RSS 2.0 规范： RSS 2.0
                        </p></li>
<li class="listitem"><p>
                            Atom 规范：RFC 4287
                        </p></li>
<li class="listitem"><p>
                            WFW 规范：Well
                            Formed Web
                        </p></li>
<li class="listitem"><p>
                            iTunes 规范：
                            iTunes Technical
                            Specifications
                        </p></li>
</ul></div>
<p>
            </p>
</div>
<div class="sect3" title="20.2.1.2.  导入定制的数据源">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.feed.importing.custom.importbuilder"></a>20.2.1.2.  导入定制的数据源 </h4></div></div></div>
<p>
                你可以从任何实现 <code>Zend_Feed_Builder_Interface</code> 的数据源创建 Zeed_Feed 实例，只需要实现 <code>getHeader()</code> 和 <code>getEntries()</code> 方法来和 <code>Zend_Feed::importBuilder()</code> 一起使用你的对象。作为一个简单的参考实现，你可以使用 <code>Zend_Feed_Builder</code> 它在构造器里带有一个数组，执行一些校验，然后可以在 <code>importBuilder()</code> 方法中使用。<code>getHeader()</code> 方法必须返回 <code>Zend_Feed_Builder_Header</code> 的实例， <code>getEntries()</code> 必须返回 <code>Zend_Feed_Builder_Entry</code> 实例的数组。
            </p>
<div class="note" title="注意"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">注意</th>
</tr>
<tr><td align="left" valign="top"><p>
                    <code>Zend_Feed_Builder</code> 作为具体实现来实现它的用法，（我们）鼓励用户写自己的类来实现 <code>Zend_Feed_Builder_Interface</code>。
                </p></td></tr>
</table></div>
<p>
                <code>Zend_Feed::importBuilder()</code> 用法的例子：
            </p>
<pre class="code">&lt;?php
// 从定制的 builder 源导入 feed
$atomFeedFromArray = Zend_Feed::importBuilder(new Zend_Feed_Builder($array));

// 和上面一样，缺省地 Zend_Feed_Atom 实例被返回
$atomFeedFromArray = Zend_Feed::importArray(new Zend_Feed_Builder($array), 'atom');

// 从定制的 builder 数组导入 rss feed
$rssFeedFromArray = Zend_Feed::importArray(new Zend_Feed_Builder($array), 'rss');
            </pre>
</div>
<div class="sect3" title="20.2.1.3.  Dumping feed 内容">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.feed.importing.custom.dump"></a>20.2.1.3.  Dumping feed 内容 </h4></div></div></div>
<p>
                为了 dump <code>Zend_Feed_Abstract</code> 实例的内容，使用 <code>send()</code> 或 <code>saveXml()</code> 方法。
            </p>
<pre class="code">&lt;?php
assert($feed instanceof Zend_Feed_Abstract);

// dump feed 到标准输出
print $feed-&gt;saveXML();

// 发送 http 头和 dump the feed
$feed-&gt;send();
            </pre>
</div>
</div>
</div>
<div class="revinfo"></div>


<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->