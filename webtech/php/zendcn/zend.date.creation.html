<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->



<div class="sect1" title="14.5. 生成日期">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.date.creation"></a>14.5. 生成日期</h2></div></div></div>
<p>
        因为需求的不同，<code>Zend_Date</code> 提供了若干不同的办法来创建自己的实例，本章将介绍最方便的办法。
    </p>
<div class="sect2" title="14.5.1. 生成当前日期">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.date.creation.actual"></a>14.5.1. 生成当前日期</h3></div></div></div>
<p>
            最简单的创建日期对象是生成当前的日期，通过创建<span class="strong"><strong>new Zend_Date()</strong></span>的实例
            或使用静态方法 <span class="strong"><strong>Zend_Date::now()</strong></span> 都可以，它们都返回当前日期的 <code>Zend_Date</code> 实例。
            当前的日期总是包括当前的日期和时间以及当前的时区。
        </p>
<div class="example">
<a name="zend.date.creation.actual.example-1"></a><p class="title"><b>例 14.10. 通过实例生成日期</b></p>
<div class="example-contents">
<p>
                通过创建一个新的实例来生成日期意味着你不需要给出参数。当然有若干个参数我们将以后来描述，但一般
                来说这是最简单和最常用的方法来获得当期日期为 <code>Zend_Date</code> 的实例。
            </p>
<pre class="code">
$date = new Zend_Date();

            </pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.date.creation.actual.example-2"></a><p class="title"><b>例 14.11.  静态日期生成 </b></p>
<div class="example-contents">
<p>
                有时候用静态方法生成日期更容易。因此，你可以使用  <span class="strong"><strong><code>now()</code></strong></span> 方法，
                它返回 <code>Zend_Date</code> 的一个新实例，就象你用 <code>new Zend_Date()</code> 一样。
                但它将总返回当前日期并且不能用可选的参数修改。
            </p>
<pre class="code">
$date = Zend_Date::now();

            </pre>
</div>
</div>
<br class="example-break">
</div>
<div class="sect2" title="14.5.2.  从数据库生成日期">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.date.creation.database"></a>14.5.2.  从数据库生成日期 </h3></div></div></div>
<p>
            数据库常用来存储数据。问题是，每个数据库用不同的方式输出数据。<code>MsSQL</code> 数据库和 <code>MySQL</code>
            数据库的日期标准就不一样。为简化起见，<code>Zend_Date</code> 可以很容易从数据库数据生成日期。
        </p>
<p>
            当然每个数据库都可以说把输出转换成定义好的特殊值。例如，你可以把 <code>datetime</code> 转换成输出分钟值。
            但这很耗时并且当查询数据库时你确实需要用其它方法来处理日期。
        </p>
<p>
            所以我们有一个快速并方便的方法从数据库值生成日期。
        </p>
<div class="example">
<a name="zend.date.creation.database.example-1"></a><p class="title"><b>例 14.12.  快速从数据库生成日期 </b></p>
<div class="example-contents">
<p>
                众所周知，所有的数据库都想尽可能快地查询数据，它们与生俱来就要快速响应。从数据库取得日期的最快
                方法是使用unix时间戳。所有数据库在内部把日期值都存成时间戳（不是unix时间戳）。这意味着通过查询生
                成时间戳要比转换成其它格式快。
            </p>
<pre class="code">
// SELECT UNIX_TIMESTAMP(my_datetime_column) FROM my_table
$date = new Zend_Date($unixtimestamp, Zend_Date::TIMESTAMP);

            </pre>
</div>
</div>
<br class="example-break"><div class="example">
<a name="zend.date.creation.database.example-2"></a><p class="title"><b>例 14.13.  从数据库方便地生成日期 </b></p>
<div class="example-contents">
<p>
                即使是你乍一看它们都相同，但是所有数据库的标准输出还是不一样的。但它们都是 <code>ISO</code> 标准的一部分
                并解释它，所以最容易的生成日期的方法是使用 <code>Zend_Date::ISO_8601</code>。
                例如数据库里众所周知的 <code>MySQL</code> 和 <code>MsSQL</code> 被 <code>Zend_Date::ISO_8601</code> 认可。
                但所有数据库也都可以返回一个 <code>ISO 8601</code> 表示的日期列。
                <code>ISO 8601</code> 一个巨大的有点是人类可读。缺点是 <code>ISO 8601</code> 比 unix 时间戳需要更多
                的时间来处理，但也应该知道 unix 时间戳只支持 1970年1月1日以后的日期。
            </p>
<pre class="code">
// SELECT datecolumn FROM my_table
$date = new Zend_Date($datecolumn, Zend_Date::ISO_8601);

            </pre>
</div>
</div>
<br class="example-break">
</div>
<div class="sect2" title="14.5.3.  从数组生成日期">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.date.creation.array"></a>14.5.3.  从数组生成日期 </h3></div></div></div>
<p>
            日期也可以从数组生成，这是个简单并容易的方法，使用的数组键是：
        </p>
<p>
            </p>
<div class="itemizedlist"><ul class="itemizedlist" type="opencircle">
<li class="listitem" style="list-style-type: circle"><p>
                        <span class="strong"><strong>日</strong></span>: 日期的天数
                    </p></li>
<li class="listitem" style="list-style-type: circle"><p>
                        <span class="strong"><strong>月</strong></span>: 日期的月数
                    </p></li>
<li class="listitem" style="list-style-type: circle"><p>
                        <span class="strong"><strong>年</strong></span>: full year of the date
                    </p></li>
<li class="listitem" style="list-style-type: circle"><p>
                        <span class="strong"><strong>小时</strong></span>: 小时数
                    </p></li>
<li class="listitem" style="list-style-type: circle"><p>
                        <span class="strong"><strong>分钟</strong></span>: 分钟数
                    </p></li>
<li class="listitem" style="list-style-type: circle"><p>
                        <span class="strong"><strong>秒</strong></span>: 秒数
                    </p></li>
</ul></div>
<p>
        </p>
<div class="example">
<a name="zend.date.creation.array.example"></a><p class="title"><b>例 14.14.  通过数组生成日期 </b></p>
<div class="example-contents">
<p>
                一般地你需要给出一个完整的日期数组用于新的日期实例的生成，但当你没有给出所有值，未给出的值就是零。
                这意味着如果没有给出小时值，那么就用 <span class="strong"><strong>0</strong></span> 小时。
            </p>
<pre class="code">
$datearray = array('year' =&gt; 2006,
                   'month' =&gt; 4,
                   'day' =&gt; 18,
                   'hour' =&gt; 12,
                   'minute' =&gt; 3,
                   'second' =&gt; 10);
$date = new Zend_Date($datearray);

            </pre>
<pre class="code">
$datearray = array('year' =&gt; 2006, 'month' =&gt; 4, 'day' =&gt; 18);
$date = new Zend_Date($datearray);

            </pre>
</div>
</div>
<br class="example-break">
</div>
</div>
<div class="revinfo"></div>


<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->