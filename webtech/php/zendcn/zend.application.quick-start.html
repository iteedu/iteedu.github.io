<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->



<div class="sect1" title="4.2. Zend_Application Quick Start">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.application.quick-start"></a>4.2. Zend_Application Quick Start</h2></div></div></div>
<p>
        There are two paths to getting started with
        <code class="classname">Zend_Application</code>, and they depend on how you start your
        project. In each case, you always start with creating a
        <span class="emphasis"><em>Bootstrap</em></span> class, and a related configuration file.
    </p>
<p>
        If you plan on using <code class="classname">Zend_Tool</code> to create your project,
        continue reading below. If you will be adding
        <code class="classname">Zend_Application</code> to an existing project, you'll want to
        <a class="link" href="zend.application.quick-start.html#zend.application.quick-start.manual" title="4.2.2. Adding Zend_Application to your application">skip ahead</a>.
    </p>
<div class="sect2" title="4.2.1. Using Zend_Tool">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.application.quick-start.zend-tool"></a>4.2.1. Using Zend_Tool</h3></div></div></div>
<p>
            The quickest way to start using <code class="classname">Zend_Application</code> is to use
            <code class="classname">Zend_Tool</code> to generate your project. This will also create
            your <span class="emphasis"><em>Bootstrap</em></span> class and file.
        </p>
<p>
            To create a project, execute the <span class="command"><strong>zf</strong></span> command (on *nix systems):
        </p>
<pre class="code">
% zf create project newproject
</pre>
<p>
            Or the Windows <code class="filename">zf.bat</code> command:
        </p>
<pre class="code">
C:&gt; zf.bat create project newproject
</pre>
<p>
            Both will create a project structure that looks like the following:
        </p>
<pre class="code">
newproject
|-- application
|   |-- Bootstrap.html
|   |-- configs
|   |   `-- application.ini
|   |-- controllers
|   |   |-- ErrorController.html
|   |   `-- IndexController.html
|   |-- models
|   `-- views
|       |-- helpers
|       `-- scripts
|           |-- error
|           |   `-- error.phtml
|           `-- index
|               `-- index.phtml
|-- library
|-- public
|   `-- index.html
`-- tests
    |-- application
    |   `-- bootstrap.html
    |-- library
    |   `-- bootstrap.html
    `-- phpunit.xml
</pre>
<p>
            In the above diagram, your bootstrap is in
            <code class="filename">newproject/application/Bootstrap.html</code>, and looks like
            the following at first:
        </p>
<pre class="code">
class Bootstrap extends Zend_Application_Bootstrap_Bootstrap
{
}
</pre>
<p>
            You'll also note that a configuration file,
            <code class="filename">newproject/application/configs/application.ini</code>, is
            created. It has the following contents:
        </p>
<pre class="code">
[production]
phpSettings.display_startup_errors = 0
phpSettings.display_errors = 0
includePaths.library = APPLICATION_PATH "/../library"
bootstrap.path = APPLICATION_PATH "/Bootstrap.html"
bootstrap.class = "Bootstrap"
resources.frontController.controllerDirectory = APPLICATION_PATH "/controllers"

[staging : production]

[testing : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1

[development : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1
</pre>
<p>
            All settings in this configuration file are for use with
            <code class="classname">Zend_Application</code> and your bootstrap.
        </p>
<p>
            Another file of interest is the
            <code class="filename">newproject/public/index.html</code> file, which invokes
            <code class="classname">Zend_Application</code> and dispatches it.
        </p>
<pre class="code">
// Define path to application directory
defined('APPLICATION_PATH')
    || define('APPLICATION_PATH',
              realpath(dirname(__FILE__) . '/../application'));

// Define application environment
defined('APPLICATION_ENV')
    || define('APPLICATION_ENV',
              (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV')
                                         : 'production'));

/** Zend_Application */
require_once 'Zend/Application.html';

// Create application, bootstrap, and run
$application = new Zend_Application(
    APPLICATION_ENV,
    APPLICATION_PATH . '/configs/application.ini'
);
$application-&gt;bootstrap()
            -&gt;run();
</pre>
<p>
            To continue the quick start, please <a class="link" href="zend.application.quick-start.html#zend.application.quick-start.resources" title="4.2.3. Adding and creating resources">skip to the
            Resources section</a>.
        </p>
</div>
<div class="sect2" title="4.2.2. Adding Zend_Application to your application">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.application.quick-start.manual"></a>4.2.2. Adding Zend_Application to your application</h3></div></div></div>
<p>
            The basics of <code class="classname">Zend_Application</code> are fairly simple:
        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
                Create an <code class="filename">application/Bootstrap.html</code> file, with the
                class <span class="emphasis"><em>Bootstrap</em></span>.
            </p></li>
<li class="listitem"><p>
                Create an <code class="filename">application/configs/application.ini</code>
                configuration file with the base configuration necessary for
                <code class="classname">Zend_Application</code>.
            </p></li>
<li class="listitem"><p>
                Modify your <code class="filename">public/index.html</code> to utilize
                <code class="classname">Zend_Application</code>.
            </p></li>
</ul></div>
<p>
            First, create your <span class="emphasis"><em>Bootstrap</em></span> class. Create a file,
            <code class="filename">application/Bootstrap.html</code>, with the following contents:
        </p>
<pre class="code">
class Bootstrap extends Zend_Application_Bootstrap_Bootstrap
{
}
</pre>
<p>
            Now, create your configuration. For this tutorial, we will use an
            <acronym class="acronym">INI</acronym> style configuration; you may, of course, use an
            <acronym class="acronym">XML</acronym> or <acronym class="acronym">PHP</acronym> configuration file as well. Create
            the file <code class="filename">application/configs/application.ini</code>, and provide the
            following contents:
        </p>
<pre class="code">
[production]
phpSettings.display_startup_errors = 0
phpSettings.display_errors = 0
includePaths.library = APPLICATION_PATH "/../library"
bootstrap.path = APPLICATION_PATH "/Bootstrap.html"
bootstrap.class = "Bootstrap"
resources.frontController.controllerDirectory = APPLICATION_PATH "/controllers"

[staging : production]

[testing : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1

[development : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1
</pre>
<p>
            Now, let's modify your gateway script,
            <code class="filename">public/index.html</code>. If the file does not exist, create
            it; otherwise, replace it with the following contents:
        </p>
<pre class="code">
// Define path to application directory
defined('APPLICATION_PATH')
    || define('APPLICATION_PATH',
              realpath(dirname(__FILE__) . '/../application'));

// Define application environment
defined('APPLICATION_ENV')
    || define('APPLICATION_ENV',
              (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV')
                                         : 'production'));

// Typically, you will also want to add your library/ directory
// to the include_path, particularly if it contains your ZF install
set_include_path(implode(PATH_SEPARATOR, array(
    dirname(dirname(__FILE__)) . '/library',
    get_include_path(),
)));

/** Zend_Application */
require_once 'Zend/Application.html';

// Create application, bootstrap, and run
$application = new Zend_Application(
    APPLICATION_ENV,
    APPLICATION_PATH . '/configs/application.ini'
);
$application-&gt;bootstrap()
            -&gt;run();
</pre>
<p>
            You may note that the application environment constant value looks
            for an environment variable "APPLICATION_ENV". We recommend setting
            this in your web server environment. In Apache, you can set this
            either in your vhost definition, or in your <code class="filename">.htaccess</code>
            file. We recommend the following contents for your
            <code class="filename">public/.htaccess</code> file:
        </p>
<pre class="code">
SetEnv APPLICATION_ENV development

RewriteEngine On
RewriteCond %{REQUEST_FILENAME} -s [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^.*$ - [NC,L]
RewriteRule ^.*$ index.html [NC,L]
</pre>
<div class="note" title="Learn about mod_rewrite"><table border="0" summary="Note: Learn about mod_rewrite">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[注意]" src="images/note.png"></td>
<th align="left">Learn about mod_rewrite</th>
</tr>
<tr><td align="left" valign="top"><p>
                The above rewrite rules allow access to any file under your
                virtual host's document root. If there are files you do not want
                exposed in this way, you may want to be more restrictive in your
                rules. Go to the Apache website to learn
                more about mod_rewrite.
            </p></td></tr>
</table></div>
<p>
            At this point, you're all set to start taking advantage of
            <code class="classname">Zend_Application</code>.
        </p>
</div>
<div class="sect2" title="4.2.3. Adding and creating resources">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.application.quick-start.resources"></a>4.2.3. Adding and creating resources</h3></div></div></div>
<p>
            If you followed the directions above, then your bootstrap class
            will be utilizing a front controller, and when it is run, it will
            dispatch the front controller. However, in all liklihood, you'll
            need a little more configuration than this.
        </p>
<p>
            In this section, we'll look at adding two resources to your
            application. First, we'll setup your layouts, and then we'll
            customize your view object.
        </p>
<p>
            One of the standard resources provided with
            <code class="classname">Zend_Application</code> is the "layout" resource. This
            resource expects you to define configuration values which it will
            then use to configure your <code class="classname">Zend_Layout</code> instance.
        </p>
<p>
            To use it, all we need to do is update the configuration file.
        </p>
<pre class="code">
[production]
phpSettings.display_startup_errors = 0
phpSettings.display_errors = 0
bootstrap.path = APPLICATION_PATH "/Bootstrap.html"
bootstrap.class = "Bootstrap"
resources.frontController.controllerDirectory = APPLICATION_PATH "/controllers"
; ADD THE FOLLOWING LINES
resources.layout.layout = "layout"
resources.layout.layoutPath = APPLICATION_PATH "/layouts/scripts"

[staging : production]

[testing : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1

[development : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1
</pre>
<p>
            If you haven't already, create the directory
            <code class="filename">application/layouts/scripts/</code>, and the file
            <code class="filename">layout.phtml</code> within that directory. A good starting
            layout is as follows (and ties in with the view resource covered
            next):
        </p>
<pre class="code">
&lt;?php echo $this-&gt;doctype() ?&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;?php echo $this-&gt;headTitle() ?&gt;
    &lt;?php echo $this-&gt;headLink() ?&gt;
    &lt;?php echo $this-&gt;headStyle() ?&gt;
    &lt;?php echo $this-&gt;headScript() ?&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;?php echo $this-&gt;layout()-&gt;content ?&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>
            At this point, you will now have a working layout.
        </p>
<p>
            Now, we'll add a custom view resource. When initializing the view,
            we'll want to set the <acronym class="acronym">HTML</acronym> DocType and a default value for the title
            to use in the <acronym class="acronym">HTML</acronym> head. This can be accomplished by editing your
            <span class="emphasis"><em>Bootstrap</em></span> class to add a method:
        </p>
<pre class="code">
class Bootstrap extends Zend_Application_Bootstrap_Bootstrap
{
    protected function _initView()
    {
        // Initialize view
        $view = new Zend_View();
        $view-&gt;doctype('XHTML1_STRICT');
        $view-&gt;headTitle('My First Zend Framework Application');

        // Add it to the ViewRenderer
        $viewRenderer = Zend_Controller_Action_HelperBroker::getStaticHelper(
            'ViewRenderer'
        );
        $viewRenderer-&gt;setView($view);

        // Return it, so that it can be stored by the bootstrap
        return $view;
    }
}
</pre>
<p>
            This method will be automatically executed when you bootstrap the
            application, and will ensure your view is intialized according to
            your application needs.
        </p>
</div>
<div class="sect2" title="4.2.4. Next steps with Zend_Application">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.application.quick-start.next-steps"></a>4.2.4. Next steps with Zend_Application</h3></div></div></div>
<p>
            The above should get you started with <code class="classname">Zend_Application</code>
            and creating your application bootstrap. From here, you should start
            creating resource methods, or, for maximum re-usability, resource
            plugin classes. Continue reading to learn more!
        </p>
</div>
</div>
<div class="revinfo"></div>


<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->