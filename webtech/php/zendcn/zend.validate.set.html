<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->



<div class="sect1" title="58.2. 标准校验类">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.validate.set"></a>58.2. 标准校验类</h2></div></div></div>
<p>
        Zend Framework 带有一组标准的校验类供你使用。
    </p>
<div class="sect2" title="58.2.1. Alnum">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.alnum"></a>58.2.1. Alnum</h3></div></div></div>
<p>
            当且仅当<code>$value</code>只包含字母和数字字符，返回 <code>true</code>。这个校验器包括一个考虑空白字符是否有效的选项。
        </p>
</div>
<div class="sect2" title="58.2.2. Alpha">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.alpha"></a>58.2.2. Alpha</h3></div></div></div>
<p>
            当且仅当<code>$value</code>只包含字母字符，返回 <code>true</code>。这个校验器包括一个考虑空白字符是否有效的选项。
        </p>
</div>
<div class="sect2" title="58.2.3. Barcode">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.barcode"></a>58.2.3. Barcode</h3></div></div></div>
<p>
            这个校验器是个带有条码类型的实例，条码类型是根据你希望用来校验条码值而定。它目前支持 "<code>UPC-A</code>"  （通用产品码）和 "<code>EAN-13</code>"  （欧洲商品码）条码类型，当且仅当输入成功通过条码校验算法的校验，<code>isValid()</code>  返回 true。你应该从输入中删除除了数字0到9（0-9）以外的其它字符，然后传递给校验器。
         </p>
</div>
<div class="sect2" title="58.2.4. Between">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.between"></a>58.2.4. Between</h3></div></div></div>
<p>
            当且仅当<code>$value</code>在最小值和最大值之间，返回<code>true</code>。缺省地，比较包含边界值（<code>$value</code>可以等于边界值），尽管为了做精确地比较这个可以被覆盖。所谓精确地比较，就是<code>$value</code>必须大于最小值和小于最大值。
        </p>
</div>
<div class="sect2" title="58.2.5. Ccnum">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.ccnum"></a>58.2.5. Ccnum</h3></div></div></div>
<p>
            当且仅当<code>$value</code>遵循Luhn(mod-10 checksum)算法，返回<code>true</code> 。
        </p>
</div>
<div class="sect2" title="58.2.6. 日期">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.date"></a>58.2.6. 日期</h3></div></div></div>
<p>
            当<code>$value</code>是一个格式为<code>YYYY-MM-DD</code>的有效日期，返回<code>true</code> 。如果<code>locale</code> 选项被设置那么日期将根据locale来校验，如果<code>format</code> 选项被设置成这个格式用来校验。关于选项参数的细节参见<a class="link" href="zend.date.overview.html#zend.date.others.comparison.table" title="表 14.3.  日期比较方法">Zend_Date::isDate()</a>。
        </p>
</div>
<div class="sect2" title="58.2.7. 数字">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.digits"></a>58.2.7. 数字</h3></div></div></div>
<p>
            当且仅当<code>$value</code>只包含数字字符，返回 <code>true</code>。
        </p>
</div>
<div class="sect2" title="58.2.8.  Email 地址">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.email_addresses"></a>58.2.8.  Email 地址</h3></div></div></div>
<p>
        <code>Zend_Validate_EmailAddress</code>允许你校验一个email地址。首先校验器把email地址分成local-part和@hostname并试图按照email地址和主机名的规范来匹配它。
    </p>
<p>
        <span class="strong"><strong>基本用法</strong></span>
    </p>
<p>
        一个基本用法的例子如下：

        </p>
<pre class="code">
$validator = new Zend_Validate_EmailAddress();
if ($validator-&gt;isValid($email)) {
    // email appears to be valid
} else {
    // email is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo "$message\n";
    }
}

        </pre>
<p>

        这个例子匹配email地址<code>$email</code>并在匹配失败的时候用<code>$validator-&gt;getMessages()</code>来获得有用的错误信息。

    </p>
<p>
        <span class="strong"><strong>复杂的local parts</strong></span>
    </p>
<p>
        <code>Zend_Validate_EmailAddress</code>根据RFC2822来匹配任何有效的email地址。例如，有效的email地址包括<code>bob@domain.com</code>, <code>bob+jones@domain.us</code>, <code>"bob@jones"@domain.com</code> 和 <code>"bob jones"@domain.com</code>。一些过时的email格式目前不再校验（例如email地址中的回车符或"\"符）。
    </p>
<p>
        <span class="strong"><strong>校验不同类型的主机名</strong></span>
    </p>
<p>
        Email地址中的主机名部分依靠<a class="link" href="zend.validate.set.html#zend.validate.set.hostnames" title="58.2.12. 主机名"><code>Zend_Validate_Hostname</code></a>来校验。尽管你希望IP地址和本地主机名也被接受，但缺省地只有像<code>domain.com</code>格式的DNS主机名被接受。
        当然如果你想如愿，需要实例化<code>Zend_Validate_EmailAddress</code>并传递一个参数来指明哪种主机名你想接受。更多的细节包含在<code>Zend_Validate_Hostname</code>中。
        下面的例子显示如何同时接受DNS和本地主机名：
        </p>
<pre class="code">
$validator = new Zend_Validate_EmailAddress(Zend_Validate_Hostname::ALLOW_DNS | Zend_Validate_Hostname::ALLOW_LOCAL);
if ($validator-&gt;isValid($email)) {
    // email appears to be valid
} else {
    // email is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo "$message\n";
    }
}

        </pre>
<p>

    </p>
<p>
        <span class="strong"><strong>检查主机名是否确实接受email</strong></span>
    </p>
<p>
        email地址的格式正确并不意味着这个email地址确实存在。为解决这个问题，你可以用MX校验来检查一个MX(email)条目的主机名是否存在于DNS的纪录里。这将告诉你这个主机名接受email，但并不告诉你确切的email地址是有效的。
    </p>
<p>
        MX 检查不是缺省地激活的，并且目前只支持UNIX平台。为激活MX检查，你可以传递第二个参数给<code>Zend_Validate_EmailAddress</code>构造器。
        </p>
<pre class="code">
$validator = new Zend_Validate_EmailAddress(Zend_Validate_Hostname::ALLOW_DNS, true);

        </pre>
<p>

        另外你可以传递 <code>true</code> 或 <code>false</code> 给<code>$validator-&gt;setValidateMx()</code> 来激活或禁止 MX 校验。
    </p>
<p>
        用激活这个设置的网络函数将用来为你所想校验的email地址的主机名中的MX记录的存在做检查。请注意这将可能把你的脚本变慢。
    </p>
<p>
        <span class="strong"><strong>校验国际域名</strong></span>
    </p>
<p>
        <code>Zend_Validate_EmailAddress</code> 也将匹配存在于某些域名中的国际字符。这就是国际域名（IDN）支持。这个是缺省激活，你可以通过用存在于 <code>Zend_Validate_EmailAddress</code> 中的内部的 <code>Zend_Validate_Hostname</code> 对象来改变设置来禁止。

    </p>
<pre class="code">
$validator-&gt;hostnameValidator-&gt;setValidateIdn(false);

    </pre>
<p>

        关于 <code>setValidateIdn()</code> 更多的信息在<code>Zend_Validate_Hostname</code> 文档中。
    </p>
<p>
        请注意你有你允许DNS 主机名被校验，国际域名（IDNs）才被校验。
    </p>
<p>
        <span class="strong"><strong>校验顶级域名</strong></span>
    </p>
<p>
       缺省地用已知的TLDs列表来检查主机名。你可以通过用存在于<code>Zend_Validate_EmailAddress</code> 中的内部的 <code>Zend_Validate_Hostname</code> 对象来改变设置来禁止。
    </p>
<pre class="code">
$validator-&gt;hostnameValidator-&gt;setValidateTld(false);

    </pre>
<p>

        关于 <code>setValidateTld()</code> 更多的信息在<code>Zend_Validate_Hostname</code> 文档中。
    </p>
<p>
        请注意你有你允许DNS 主机名被校验，顶级域名（TLDs）才被校验。
    </p>
</div>
<div class="sect2" title="58.2.9. 浮点数">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.float"></a>58.2.9. 浮点数</h3></div></div></div>
<p>
            当且仅当<code>$value</code>是一个浮点数值，返回 <code>true</code>。
        </p>
</div>
<div class="sect2" title="58.2.10. GreaterThan">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.greater_than"></a>58.2.10. GreaterThan</h3></div></div></div>
<p>
            当且仅当<code>$value</code>大于最小值，返回 <code>true</code>。
        </p>
</div>
<div class="sect2" title="58.2.11. 十六进制数">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.hex"></a>58.2.11. 十六进制数</h3></div></div></div>
<p>
            当且仅当<code>$value</code>只包含十六进制的数字字符，返回 <code>true</code>。
        </p>
</div>
<div class="sect2" title="58.2.12. 主机名">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.hostnames"></a>58.2.12. 主机名</h3></div></div></div>
<p>
        Zend_Validate_Hostname允许你根据一组已知的规范来校验主机名。它检查三种不同的主机名：DNS主机名（例如domain.com），IP地址（例如1.2.3.4），和本地主机名（例如localhost）。缺省地，只有DNS主机名被匹配。
    </p>
<p>
        <span class="strong"><strong>基本用法</strong></span>
    </p>
<p>
        一个基本用法的例子如下：

        </p>
<pre class="code">&lt;?php
require_once 'Zend/Validate/Hostname.html';
$validator = new Zend_Validate_Hostname();
if ($validator-&gt;isValid($hostname)) {
    // hostname appears to be valid
} else {
    // hostname is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo "$message\n";
    }
}


        </pre>
<p>

        这个例子匹配主机名<code>$hostname</code>并在匹配失败的时候用<code>$validator-&gt;getMessages()</code>来获得有用的错误信息。

    </p>
<p>
        <span class="strong"><strong>校验不同类型的主机名</strong></span>
    </p>
<p>
        你可能发现你也想匹配IP地址，本地主机名，或者是所有允许类型的组合。这个可以在当你实例化它的时候通过传递参数给Zend_Validate_Hostname来实现。 参数应该是一个整型数，它来决定哪种主机名被允许。我们鼓励你使用常量。
    </p>
<p>
        Zend_Validate_Hostname 常量是： <code>ALLOW_DNS</code> 允许DNS主机名，
        <code>ALLOW_IP</code> 允许IP地址， <code>ALLOW_LOCAL</code> 允许本地网络名，和<code>ALLOW_ALL</code> 允许所有三种类型。 你可以用下面的例子仅仅检查IP地址：

        </p>
<pre class="code">&lt;?php
require_once 'Zend/Validate/Hostname.html';
$validator = new Zend_Validate_Hostname(Zend_Validate_Hostname::ALLOW_IP);
if ($validator-&gt;isValid($hostname)) {
    // hostname appears to be valid
} else {
    // hostname is invalid; print the reasons
    foreach ($validator-&gt;getMessages() as $message) {
        echo "$message\n";
    }
}


        </pre>
<p>
    </p>
<p>
        你可以用这些类型的组合，也可以用<code>ALLOW_ALL</code>来接受所有主机名类型。例如，你可以通过如下例子实例化Zend_Validate_Hostname对象来接受DNS和本地主机名:
        </p>
<pre class="code">&lt;?php

$validator = new Zend_Validate_Hostname(Zend_Validate_Hostname::ALLOW_DNS | Zend_Validate_Hostname::ALLOW_LOCAL);}
        </pre>
<p>

    </p>
<p>
        <span class="strong"><strong>校验国际域名</strong></span>
    </p>
<p>
        一些国家代码顶级域名（ccTLDs），例如'de'（德国），在域名中支持国际字符。这些就是大家所知的国际域名（IDN）。这些域名可以用Zend_Validate_Hostname通过用于校验处理的扩展字符来匹配。
    </p>
<p>
        目前支持ccTLDs的有：

        </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>at (Austria)</p></li>
<li class="listitem"><p>ch (Switzerland)</p></li>
<li class="listitem"><p>li (Liechtenstein)</p></li>
<li class="listitem"><p>de (Germany)</p></li>
<li class="listitem"><p>fi (Finland)</p></li>
<li class="listitem"><p>hu (Hungary)</p></li>
<li class="listitem"><p>no (Norway)</p></li>
<li class="listitem"><p>se (Sweden)</p></li>
</ul></div>
<p>

    </p>
<p>
        匹配IDN域名就像使用标准主机名校验器一样简单，因为IDN匹配是缺省激活的。如果你想禁止IDN校验，可以通过传递参数给Zend_validate_Hostname构造器或通过<code>$validator-&gt;setValidateIdn()</code>方法来实现。
    </p>
<p>
        你可以象下面通过传递第二个参数给Zend_Validate_Hostname构造器来禁止IDN校验。
        </p>
<pre class="code">&lt;?php

$validator = new Zend_Validate_Hostname(Zend_Validate_Hostname::ALLOW_DNS, false);
        </pre>
<p>

        另外你可以通过传递 TRUE 或 FALSE 给 <code>$validator-&gt;setValidateIdn()</code> 来激活或者禁止 IDN 校验。如果你试图匹配一个当前不被支持的IDN主机名，并且如果有国际字符在其中，校验很可能会失败。当指定附加字符的ccTLD文件在Zend/Validate/Hostname下不存在时，一个正常的主机名校验将被执行。（这就是在解释上句话中为什么校验会失败，Jason 注）
    </p>
<p>
        请注意只有当你允许DNS主机名被校验，IDNs才能被校验。
    </p>
<p>
        <span class="strong"><strong>校验顶级域名</strong></span>
    </p>
<p>
        缺省地主机名通过已知的TLDs列表来检查。如果不需要这个功能，它可以被禁止，就像禁止IDN支持一样。你可以通过传递第三个参数给Zend_Validate_Hostname构造器来禁止TLD校验。在下面的例子中，我们通过第二个参数来支持IDN校验。

        </p>
<pre class="code">&lt;?php

$validator = new Zend_Validate_Hostname(Zend_Validate_Hostname::ALLOW_DNS, true, false);
        </pre>
<p>

        另外，你可以通过传递 TRUE 或 FALSE 给
        <code>$validator-&gt;setValidateTld()</code> 来激活或禁止 TLD 校验。
    </p>
<p>
        请注意只有当你允许DNS主机名被校验，TLDs才能被校验。
    </p>
</div>
<div class="sect2" title="58.2.13. InArray">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.in_array"></a>58.2.13. InArray</h3></div></div></div>
<p>
            当且仅当一个"needle"<code>$value</code>包含在一个"haystack"数组，返回 <code>true</code>。如果精确选项是<code>true</code>，那么<code>$value</code>的类型也被检查。
        </p>
</div>
<div class="sect2" title="58.2.14. 整数">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.int"></a>58.2.14. 整数</h3></div></div></div>
<p>
            当且仅当<code>$value</code>是一个有效的整数，返回 <code>true</code>。
        </p>
</div>
<div class="sect2" title="58.2.15. Ip">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.ip"></a>58.2.15. Ip</h3></div></div></div>
<p>
            当且仅当<code>$value</code>是一个有效的IP地址，返回 <code>true</code>。
        </p>
</div>
<div class="sect2" title="58.2.16. LessThan">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.less_than"></a>58.2.16. LessThan</h3></div></div></div>
<p>
            当且仅当<code>$value</code>小于最大值，返回 <code>true</code>。
        </p>
</div>
<div class="sect2" title="58.2.17. NotEmpty">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.not_empty"></a>58.2.17. NotEmpty</h3></div></div></div>
<p>
            当且仅当<code>$value</code>非空，返回 <code>true</code>。
        </p>
</div>
<div class="sect2" title="58.2.18. Regex">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.regex"></a>58.2.18. Regex</h3></div></div></div>
<p>
            当且仅当<code>$value</code>匹配一个正则表达式，返回 <code>true</code>。
        </p>
</div>
<div class="sect2" title="58.2.19. StringLength">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.validate.set.string_length"></a>58.2.19. StringLength</h3></div></div></div>
<p>
            当且仅当字串长度值<code>$value</code>至少是最小值并不大于最大值（当max选项不是<code>null</code>），返回 <code>true</code>。从1.5.0版开始，如果最小长度被设置为一个大于已设定的最大长度的值，<code>setMin()</code>方法抛出一个异常，并且如果最大长度值被设置为小于一个已设定的最小长度的值，<code>setMax()</code>方法抛出一个异常。从1.0.2版开始，基于<code>iconv.internal_encoding</code> 的当前值，这个类支持UTF-8和其它字符编码。
        </p>
</div>
</div>
<div class="revinfo"></div>


<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->