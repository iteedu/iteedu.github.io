
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE  SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH  COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD  WIDTH="10%" ALIGN="left" VALIGN="bottom"><A  HREF="function.pdostatement-fetch.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD  WIDTH="10%" ALIGN="right" VALIGN="bottom"><A  HREF="function.pdostatement-fetchcolumn.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A  NAME="function.PDOStatement-fetchAll"></A>PDOStatement::fetchAll</H1><DIV  CLASS="refnamediv"><A  NAME="AEN124679"></A><P>    (no version information, might be only in CVS)</P>PDOStatement::fetchAll&nbsp;--&nbsp;
     Returns an array containing all of the result set rows
    </DIV><DIV  CLASS="refsect1"><A  NAME="AEN124682"></A><H2>说明</H2>array <B  CLASS="methodname">PDOStatement::fetchAll</B> ( [int fetch_style [, int column_index]] )<BR></BR></DIV><DIV  CLASS="refsect1"><A  NAME="AEN124693"></A><H2>参数</H2><P>&#13;     <P></P><DIV  CLASS="variablelist"><DL><DT><VAR  CLASS="parameter">fetch_style</VAR></DT><DD><P>&#13;         Controls the contents of the returned array as documented in
         <B  CLASS="function">PDOStatement::fetch()</B>. Defaults to
         <VAR  CLASS="literal">PDO_FETCH_BOTH</VAR>.
        </P><P>&#13;         To return an array consisting of all values of a single column from
         the result set, specify <VAR  CLASS="literal">PDO_FETCH_COLUMN</VAR>.
        </P><P>&#13;         To fetch only the unique values of a single column from the result set,
         bitwise-OR <VAR  CLASS="literal">PDO_FETCH_COLUMN</VAR> with
         <VAR  CLASS="literal">PDO_FETCH_UNIQUE</VAR>.
        </P><P>&#13;         To return an associative array grouped by the values of a specified
         column, bitwise-OR <VAR  CLASS="literal">PDO_FETCH_COLUMN</VAR> with
         <VAR  CLASS="literal">PDO_FETCH_GROUP</VAR>.
        </P></DD><DT><VAR  CLASS="parameter">column_index</VAR></DT><DD><P>&#13;         Returns the indicated 0-indexed column when the value of
         <VAR  CLASS="parameter">fetch_style</VAR> is
         <VAR  CLASS="literal">PDO_FETCH_COLUMN</VAR>. Defaults to <VAR  CLASS="literal">0</VAR>.
        </P></DD></DL></DIV>
    </P></DIV><DIV  CLASS="refsect1"><A  NAME="AEN124720"></A><H2>返回值</H2><P>&#13;     <B  CLASS="function">PDOStatement::fetchAll()</B> returns an array containing
     all of the remaining rows in the result set. The array represents each
     row as either an array of column values or an object with properties
     corresponding to each column name.
    </P><P>&#13;     Using this method to fetch large result sets will result in a heavy
     demand on system and possibly network resources. Rather than retrieving
     all of the data and manipulating it in PHP, consider using the database
     server to manipulate the result sets. For example, use the WHERE and
     SORT BY clauses in SQL to restrict results before retrieving and
     processing them with PHP.
    </P></DIV><DIV  CLASS="refsect1"><A  NAME="AEN124725"></A><H2>范例</H2><P>&#13;     <TABLE  WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV  CLASS="example"><A  NAME="AEN124728"></A><P><B>例子 1. Fetch all remaining rows in a result set</B></P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font  color="#000000">
<font  color="#0000BB">&lt;?php<br  />$sth </font><font  color="#007700">= </font><font  color="#0000BB">$dbh</font><font  color="#007700">-&gt;</font><font  color="#0000BB">prepare</font><font  color="#007700">(</font><font  color="#DD0000">"SELECT name, colour FROM fruit"</font><font  color="#007700">);<br  /></font><font  color="#0000BB">$sth</font><font  color="#007700">-&gt;</font><font  color="#0000BB">execute</font><font  color="#007700">();<br  /><br  /></font><font  color="#FF8000">/* Fetch all of the remaining rows in the result set */<br  /></font><font  color="#007700">print(</font><font  color="#DD0000">"Fetch all of the remaining rows in the result set:\n"</font><font  color="#007700">);<br  /></font><font  color="#0000BB">$result </font><font  color="#007700">= </font><font  color="#0000BB">$sth</font><font  color="#007700">-&gt;</font><font  color="#0000BB">fetchAll</font><font  color="#007700">();<br  /></font><font  color="#0000BB">print_r</font><font  color="#007700">(</font><font  color="#0000BB">$result</font><font  color="#007700">);<br  /></font><font  color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>上例将输出：</P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="screen">Fetch all of the remaining rows in the result set:
Array
(
    [0] =&#62; Array
        (
            [NAME] =&#62; pear
            [0] =&#62; pear
            [COLOUR] =&#62; green
            [1] =&#62; green
        )

    [1] =&#62; Array
        (
            [NAME] =&#62; watermelon
            [0] =&#62; watermelon
            [COLOUR] =&#62; pink
            [1] =&#62; pink
        )

)</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE>
     <TABLE  WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV  CLASS="example"><A  NAME="AEN124733"></A><P><B>例子 2. Fetching all values of a single column from a result set</B></P><P>&#13;       The following example demonstrates how to return all of the values of a
       single column from a result set, even though the SQL statement itself
       may return multiple columns per row.
      </P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font  color="#000000">
<font  color="#0000BB">&lt;?php<br  />$sth </font><font  color="#007700">= </font><font  color="#0000BB">$dbh</font><font  color="#007700">-&gt;</font><font  color="#0000BB">prepare</font><font  color="#007700">(</font><font  color="#DD0000">"SELECT name, colour FROM fruit"</font><font  color="#007700">);<br  /></font><font  color="#0000BB">$sth</font><font  color="#007700">-&gt;</font><font  color="#0000BB">execute</font><font  color="#007700">();<br  /><br  /></font><font  color="#FF8000">/* Fetch all of the values of the first column */<br  /></font><font  color="#0000BB">$result </font><font  color="#007700">= </font><font  color="#0000BB">$sth</font><font  color="#007700">-&gt;</font><font  color="#0000BB">fetchAll</font><font  color="#007700">(</font><font  color="#0000BB">PDO_FETCH_COLUMN</font><font  color="#007700">, </font><font  color="#0000BB">0</font><font  color="#007700">);<br  /></font><font  color="#0000BB">var_dump</font><font  color="#007700">(</font><font  color="#0000BB">$result</font><font  color="#007700">);<br  /></font><font  color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>上例将输出：</P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="screen">Array(3)
(
    [0] =&#62;
    string(5) =&#62; apple
    [1] =&#62;
    string(4) =&#62; pear
    [2] =&#62;
    string(10) =&#62; watermelon
)</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE>
     <TABLE  WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV  CLASS="example"><A  NAME="AEN124739"></A><P><B>例子 3. Grouping all values by a single column</B></P><P>&#13;       The following example demonstrates how to return an associative array
       grouped by the values of the specified column in the result set. The
       array contains three keys: values <VAR  CLASS="literal">apple</VAR> and
       <VAR  CLASS="literal">pear</VAR> are returned as arrays that contain two
       different colours, while <VAR  CLASS="literal">watermelon</VAR> is
       returned as an array that contains only one colour.
      </P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font  color="#000000">
<font  color="#0000BB">&lt;?php<br  />$insert </font><font  color="#007700">= </font><font  color="#0000BB">$dbh</font><font  color="#007700">-&gt;</font><font  color="#0000BB">prepare</font><font  color="#007700">(</font><font  color="#DD0000">"INSERT INTO fruit(name, colour) VALUES (?, ?)"</font><font  color="#007700">);<br  /></font><font  color="#0000BB">$insert</font><font  color="#007700">-&gt;</font><font  color="#0000BB">execute</font><font  color="#007700">(</font><font  color="#DD0000">'apple'</font><font  color="#007700">, </font><font  color="#DD0000">'green'</font><font  color="#007700">);<br  /></font><font  color="#0000BB">$insert</font><font  color="#007700">-&gt;</font><font  color="#0000BB">execute</font><font  color="#007700">(</font><font  color="#DD0000">'pear'</font><font  color="#007700">, </font><font  color="#DD0000">'yellow'</font><font  color="#007700">);<br  /><br  /></font><font  color="#0000BB">$sth </font><font  color="#007700">= </font><font  color="#0000BB">$dbh</font><font  color="#007700">-&gt;</font><font  color="#0000BB">prepare</font><font  color="#007700">(</font><font  color="#DD0000">"SELECT name, colour FROM fruit"</font><font  color="#007700">);<br  /></font><font  color="#0000BB">$sth</font><font  color="#007700">-&gt;</font><font  color="#0000BB">execute</font><font  color="#007700">();<br  /><br  /></font><font  color="#FF8000">/* Group values by the first column */<br  /></font><font  color="#0000BB">var_dump</font><font  color="#007700">(</font><font  color="#0000BB">$sth</font><font  color="#007700">-&gt;</font><font  color="#0000BB">fetchAll</font><font  color="#007700">(</font><font  color="#0000BB">PDO_FETCH_COLUMN</font><font  color="#007700">|</font><font  color="#0000BB">PDO_FETCH_GROUP</font><font  color="#007700">));<br  /></font><font  color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>上例将输出：</P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="screen">array(3) {
  ["apple"]=&#62;
  array(2) {
    [0]=&#62;
    string(5) "green"
    [1]=&#62;
    string(3) "red"
  }
  ["pear"]=&#62;
  array(2) {
    [0]=&#62;
    string(5) "green"
    [1]=&#62;
    string(6) "yellow"
  }
  ["watermelon"]=&#62;
  array(1) {
    [0]=&#62;
    string(5) "green"
  }
}</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE>

    </P></DIV><DIV  CLASS="refsect1"><A  NAME="AEN124748"></A><H2>参见</H2><P>&#13;     <P></P><TABLE  BORDER="0"><TBODY><TR><TD><B  CLASS="function">PDO::query()</B></TD></TR><TR><TD><B  CLASS="function">PDOStatement::fetch()</B></TD></TR><TR><TD><B  CLASS="function">PDOStatement::fetchColumn()</B></TD></TR><TR><TD><B  CLASS="function">PDOStatement::prepare()</B></TD></TR><TR><TD><B  CLASS="function">PDOStatement::setFetchMode()</B></TD></TR></TBODY></TABLE><P></P>
    </P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE  SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top"><A  HREF="function.pdostatement-fetch.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="index.html" ACCESSKEY="H">起点</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top"><A  HREF="function.pdostatement-fetchcolumn.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top">PDOStatement::fetch</TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="ref.pdo.html" ACCESSKEY="U">上一级</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top">PDOStatement::fetchColumn</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
