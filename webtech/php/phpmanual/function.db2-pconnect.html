
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE  SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH  COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD  WIDTH="10%" ALIGN="left" VALIGN="bottom"><A  HREF="function.db2-num-rows.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD  WIDTH="10%" ALIGN="right" VALIGN="bottom"><A  HREF="function.db2-prepare.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A  NAME="function.db2-pconnect"></A>db2_pconnect</H1><DIV  CLASS="refnamediv"><A  NAME="AEN57733"></A><P>    (PECL)</P>db2_pconnect&nbsp;--&nbsp;
   Returns a persistent connection to a database
  </DIV><DIV  CLASS="refsect1"><A  NAME="AEN57736"></A><H2>说明</H2>resource <B  CLASS="methodname">db2_pconnect</B> ( string database, string username, string password [, array options] )<BR></BR><P>&#13;   Returns a persistent connection to an IBM DB2 Universal Database, IBM
   Cloudscape, or Apache Derby database. For more information on persistent
   connections, refer to <A  HREF="features/features.persistent-connections.html">u'U 41 章</A>.
  </P><P>&#13;   Calling <A  HREF="function.db2-close.html"><B  CLASS="function">db2_close()</B></A> on a persistent connection always
   returns <TT  CLASS="constant"><B>TRUE</B></TT>, but the underlying DB2 client connection remains open and
   waiting to serve the next matching <B  CLASS="function">db2_pconnect()</B>
   request.
  </P><P>&#13;   Note that you are strongly urged to only use persistent connections on
   connections with autocommit turned on. If you attempt to combine
   transactions with persistent connections, issuing
   <A  HREF="function.db2-commit.html"><B  CLASS="function">db2_commit()</B></A> or <A  HREF="function.db2-rollback.html"><B  CLASS="function">db2_rollback()</B></A>
   against a persistent connection will affect every persistent connection
   that is currently using the same underlying DB2 client connection. You may
   also rapidly experience locking escalation if you do not use autocommit for
   your persistent connections.
  </P></DIV><DIV  CLASS="refsect1"><A  NAME="AEN57762"></A><H2>参数</H2><P>&#13;   <P></P><DIV  CLASS="variablelist"><DL><DT><VAR  CLASS="parameter">database</VAR></DT><DD><P>&#13;       The database alias in the DB2 client catalog.
      </P></DD><DT><VAR  CLASS="parameter">username</VAR></DT><DD><P>&#13;       The username with which you are connecting to the database.
      </P></DD><DT><VAR  CLASS="parameter">password</VAR></DT><DD><P>&#13;       The password with which you are connecting to the database.
      </P></DD><DT><VAR  CLASS="parameter">options</VAR></DT><DD><P>&#13;       An associative array of connection options that affect the behavior
       of the connection, where valid array keys include:
       <P></P><DIV  CLASS="variablelist"><DL><DT><VAR  CLASS="parameter">autocommit</VAR></DT><DD><P>&#13;           Passing the <VAR  CLASS="literal">DB2_AUTOCOMMIT_ON</VAR> value turns
           autocommit on for this connection handle.
          </P><P>&#13;           Passing the <VAR  CLASS="literal">DB2_AUTOCOMMIT_OFF</VAR> value turns
           autocommit off for this connection handle.
          </P></DD></DL></DIV>
      </P></DD></DL></DIV>
  </P></DIV><DIV  CLASS="refsect1"><A  NAME="AEN57795"></A><H2>返回值</H2><P>&#13;   Returns a connection handle resource if the connection attempt is
   successful. <B  CLASS="function">db2_pconnect()</B> tries to reuse an existing
   connection resource that exactly matches the
   <VAR  CLASS="parameter">database</VAR>, <VAR  CLASS="parameter">username</VAR>, and
   <VAR  CLASS="parameter">password</VAR> parameters. If the connection attempt fails,
   <B  CLASS="function">db2_pconnect()</B> returns <TT  CLASS="constant"><B>FALSE</B></TT>.
  </P></DIV><DIV  CLASS="refsect1"><A  NAME="AEN57804"></A><H2>范例</H2><P>&#13;   <TABLE  WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV  CLASS="example"><A  NAME="AEN57807"></A><P><B>例子 1. A <B  CLASS="function">db2_pconnect()</B> example</B></P><P>&#13;     In the following example, the first call to
     <B  CLASS="function">db2_pconnect()</B> returns a new persistent connection
     resource. The second call to <B  CLASS="function">db2_pconnect()</B> returns
     a persistent connection resource that simply reuses the first persistent
     connection resource.
    </P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font  color="#000000">
<font  color="#0000BB">&lt;?php<br  />$database </font><font  color="#007700">= </font><font  color="#DD0000">'SAMPLE'</font><font  color="#007700">;<br  /></font><font  color="#0000BB">$user </font><font  color="#007700">= </font><font  color="#DD0000">'db2inst1'</font><font  color="#007700">;<br  /></font><font  color="#0000BB">$password </font><font  color="#007700">= </font><font  color="#DD0000">'ibmdb2'</font><font  color="#007700">;<br  /><br  /></font><font  color="#0000BB">$pconn </font><font  color="#007700">= </font><font  color="#0000BB">db2_pconnect</font><font  color="#007700">(</font><font  color="#0000BB">$database</font><font  color="#007700">, </font><font  color="#0000BB">$user</font><font  color="#007700">, </font><font  color="#0000BB">$password</font><font  color="#007700">);<br  /><br  />if (</font><font  color="#0000BB">$pconn</font><font  color="#007700">) {<br  />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font  color="#DD0000">"Persistent connection succeeded."</font><font  color="#007700">;<br  />}<br  />else {<br  />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font  color="#DD0000">"Persistent connection failed."</font><font  color="#007700">;<br  />}<br  /><br  /></font><font  color="#0000BB">$pconn2 </font><font  color="#007700">= </font><font  color="#0000BB">db2_pconnect</font><font  color="#007700">(</font><font  color="#0000BB">$database</font><font  color="#007700">, </font><font  color="#0000BB">$user</font><font  color="#007700">, </font><font  color="#0000BB">$password</font><font  color="#007700">);<br  />if (</font><font  color="#0000BB">$pconn</font><font  color="#007700">) {<br  />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font  color="#DD0000">"Second persistent connection succeeded."</font><font  color="#007700">;<br  />}<br  />else {<br  />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font  color="#DD0000">"Second persistent connection failed."</font><font  color="#007700">;<br  />}<br  /></font><font  color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>上例将输出：</P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="screen">Persistent connection succeeded.
Second persistent connection succeeded.</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE>
  </P></DIV><DIV  CLASS="refsect1"><A  NAME="AEN57816"></A><H2>参见</H2><P>&#13;   <P></P><TABLE  BORDER="0"><TBODY><TR><TD><A  HREF="function.db2-connect.html"><B  CLASS="function">db2_connect()</B></A></TD></TR></TBODY></TABLE><P></P>
  </P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE  SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top"><A  HREF="function.db2-num-rows.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="index.html" ACCESSKEY="H">起点</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top"><A  HREF="function.db2-prepare.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top">db2_num_rows</TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="ref.ibm-db2.html" ACCESSKEY="U">上一级</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top">db2_prepare</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
