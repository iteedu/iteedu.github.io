
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE  SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH  COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD  WIDTH="10%" ALIGN="left" VALIGN="bottom"><A  HREF="install.windows.apache2.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="80%" ALIGN="center" VALIGN="bottom">章 6. Windows 系统下的安装</TD><TD  WIDTH="10%" ALIGN="right" VALIGN="bottom"><A  HREF="install.windows.omnihttpd.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="../spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="../spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV  CLASS="sect1"><H1  CLASS="sect1"><A  NAME="install.windows.sun">Microsoft Windows 下的 Sun，iPlanet 和 Netscape 服务器</A></H1><P>&#13;    本节包含针对在 Windows 下 Sun Java System web 服务器，Sun ONE
    web 服务器，iPlanet 和 Netscape 服务器的 PHP 安装说明与提示。
   </P><P>&#13;    自 PHP 4.3.3 起可以通过
    <A  HREF="../ref.nsapi.html">NSAPI 模块</A>使用 PHP 脚本来<A  HREF="install.windows.sun.html#install.windows.sun.specialpages">产生定制目录列表于错误页面</A>。也可以使用为兼容
    Apache 的附加函数。目前使用的 web 服务器的支持请阅读<A  HREF="install.windows.sun.html#install.windows.sun.notes">有关子请求的说明</A>。
   </P><DIV  CLASS="sect2"><H2  CLASS="sect2"><A  NAME="install.windows.sun.cgi">Sun，iPlanet 和 Netscape 服务器的 CGI 方式安装</A></H2><P>&#13;     要将 PHP 安装为 CGI 处理器，按以下步骤进行：
    </P><P></P><UL><LI><P>&#13;       将 <TT  CLASS="filename">php4ts.dll</TT> 拷贝到 systemroot（即 Windows 的安装目录）
      </P></LI><LI><P>&#13;       在命令行做文件关联，输入以下两行命令：
       <TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="shell">assoc .html=PHPScript
ftype PHPScript=c:\php\php.exe %1 %*</PRE></TD></TR></TABLE>
      </LI><LI><P>&#13;       在 Netscape Enterprise Administration Server
       中建一个空的 shellcgi 目录并随即删除（此步骤在
       obj.conf 中新建了 5 行重要指令以允许 web 服务器处理 shellcgi 脚本）。
      </P></LI><LI><P>&#13;       在 Netscape Enterprise Administration Server
       中新建一个新的 MIME 类型（Category: type，Content-Type:
       magnus-internal/shellcgi，File Suffix: php）。
      </P></LI><LI><P>&#13;       对每个要运行 PHP 的 web 服务器实例都进行以上步骤。
      </P></LI></UL><P>&#13;     更多将 PHP 设置为 CGI 可执行程序的内容见：<A  HREF="http://benoit.noss.free.fr/php/install-php.html" TARGET="_top">http://benoit.noss.free.fr/php/install-php.html</A>。
    </P></DIV><DIV  CLASS="sect2"><H2  CLASS="sect2"><A  NAME="install.windows.sun.nsapi">Sun，iPlanet 和 Netscape 服务器的 NSAPI 方式</A></H2><P>&#13;     要将 PHP 以 NSAPI 方式安装，按以下步骤进行：
    </P><P></P><UL><LI><P>&#13;       将 <TT  CLASS="filename">php4ts.dll</TT> 拷贝到 systemroot（即 Windows 的安装目录）
      </P></LI><LI><P>&#13;       在命令行做文件关联，输入以下两行命令：
       <TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="shell">assoc .html=PHPScript
ftype PHPScript=c:\php\php.exe %1 %*</PRE></TD></TR></TABLE>
      </LI><LI><P>&#13;       在 Netscape Enterprise Administration Server
       中新建一个新的 MIME 类型（Category: type，Content-Type:
       magnus-internal/x-httpd-php，File Suffix: php）。
      </P></LI><LI><P>&#13;        编辑 <TT  CLASS="filename">magnus.conf</TT>（服务器版本 &#62;= 6）或
        <TT  CLASS="filename">obj.conf</TT>（服务器版本 &#60;
        6）并加入下面两行；要将新行放在
        <VAR  CLASS="literal">mime types init</VAR> 之后：
       <TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="programlisting">Init fn="load-modules" funcs="php4_init,php4_execute,php4_auth_trans" shlib="c:/php/sapi/php4nsapi.dll"
Init fn="php4_init" LateInit="yes" errorString="Failed to initialise PHP!" [php_ini="c:/path/to/php.ini"]</PRE></TD></TR></TABLE>
       （PHP &#62;= 4.3.3）<VAR  CLASS="literal">php_ini</VAR> 参数为可选项，但加上后就可以把
       <TT  CLASS="filename">php.ini</TT> 放到 web 服务器的配置目录中去。
      </LI><LI><P>&#13;       在 <TT  CLASS="filename">obj.conf</TT> 中配置默认对象（对于虚拟服务器类
       [Sun web Server 6.0+] 是 <TT  CLASS="filename">vserver.obj.conf</TT>
       文件）：在 <VAR  CLASS="literal">&#60;Object name="default"&#62;</VAR>
       一节，在所有的“ObjectType”行之后和所有的“AddLog”行之前加上这一行：
       <TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="programlisting">Service fn="php4_execute" type="magnus-internal/x-httpd-php" [inikey=value inikey=value ...]</PRE></TD></TR></TABLE>
       （PHP &#62;= 4.3.3）作为附加参数可以加入一些特殊的
       <TT  CLASS="filename">php.ini</TT> 值，例如可以在调用 <VAR  CLASS="literal">php4_execute</VAR>
       时设定专门的
       <VAR  CLASS="literal">docroot="/path/to/docroot"</VAR>。对于布尔的
       ini 选项请用 0/1 作为值，而不是
       <VAR  CLASS="literal">"On","Off",...</VAR>（这样不能正确工作），例如要用
       <VAR  CLASS="literal">zlib.output_compression=1</VAR> 而不是
       <VAR  CLASS="literal">zlib.output_compression="On"</VAR>。
      </LI><LI><P>&#13;       这几行仅在想要配置一个只有 PHP 脚本的目录时需要（类似 cgi-bin 目录）：
       <TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="programlisting">&#60;Object name="x-httpd-php"&#62;
ObjectType fn="force-type" type="magnus-internal/x-httpd-php"
Service fn=php4_execute [inikey=value inikey=value ...]
&#60;/Object&#62;</PRE></TD></TR></TABLE>
       在此之后可以在管理服务器中配置目录并将其类型设为
       <VAR  CLASS="literal">x-httpd-php</VAR>。其中的所有文件都将作为 PHP
       执行。这样可以隐藏 PHP 的使用，文件名还保留为 <TT  CLASS="filename">.html</TT>。
      </LI><LI><P>&#13;       重启动 web 服务使改动生效。
      </P></LI><LI><P>&#13;       对每个要运行 PHP 的 web 服务器实例都进行以上步骤。
      </P></LI></UL><DIV  CLASS="note"><BLOCKQUOTE  CLASS="note"><P><B>注: </B>
      更多将 PHP 设置为 NSAPI内容见：<A  HREF="http://benoit.noss.free.fr/php/install-php4.html" TARGET="_top">http://benoit.noss.free.fr/php/install-php4.html</A>。
     </P></BLOCKQUOTE></DIV><DIV  CLASS="note"><BLOCKQUOTE  CLASS="note"><P><B>注: </B>
      PHP 使用的堆栈大小（stacksize）依赖于 web 服务器的配置。如果在运行很大的
      PHP 脚本时死掉，建议在管理服务器中增大此值（在 "MAGNUS EDITOR" 一节中）。
     </P></BLOCKQUOTE></DIV></DIV><DIV  CLASS="sect2"><H2  CLASS="sect2"><A  NAME="install.windows.sun.htmlini">CGI 环境以及推荐在 php.ini 中进行的修改</A></H2><P>&#13;     在写 PHP 脚本时很重要一点是 Sun JSWS/Sun ONE
     WS/iPlanet/Netscape 是多线程 web
     服务器。因此所有的请求都运行于同一个进程空间（即
     web 服务器自己的空间）而此空间只有一个环境。如果想取得 CGI
     变量例如 <VAR  CLASS="literal">PATH_INFO</VAR>，<VAR  CLASS="literal">HTTP_HOST</VAR>
     等时不能用老的 PHP 3.x 的方式
     <A  HREF="../function.getenv.html"><B  CLASS="function">getenv()</B></A> 或者类似手段（<VAR  CLASS="literal">$_ENV</VAR>）进行。只能取得运行的
     web 服务器的环境变量而没有任何有效的 CGI 变量！
    </P><DIV  CLASS="note"><BLOCKQUOTE  CLASS="note"><P><B>注: </B>
      为什么环境中有一些（无效的）CGI 变量？
     </P><P>&#13;      解答：这是因为从管理服务器启动了 web 服务器进程，这将运行 web
      服务器的启动脚本，而你想要启动的是 CGI 脚本（CGI 脚本在管理服务器内部！）。这是为什么
      web 服务器启动的环境中有一些 CGI 环境变量的原因。可以不从管理服务器启动
      web 服务器来试验一下。用管理员用户从命令行手工启动――这样就不会看到类似
      CGI 的环境变量了。
     </P></BLOCKQUOTE></DIV><P>&#13;     PHP 4.x 中取得 CGI 变量的正确方式是使用超全局变量
     <VAR  CLASS="literal">$_SERVER</VAR>。如果有一些老的脚本用了
     <VAR  CLASS="literal">$HTTP_HOST</VAR> 等，那应该在 <TT  CLASS="filename">php.ini</TT>
     中打开 <VAR  CLASS="literal">register_globals</VAR>
     选项并改变变量顺序（重要提示：去掉 <VAR  CLASS="literal">"E"</VAR>，因为这里不需要环境变量）：
     <TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="programlisting">variables_order = "GPCS"
register_globals = On</PRE></TD></TR></TABLE>
    </DIV><DIV  CLASS="sect2"><H2  CLASS="sect2"><A  NAME="install.windows.sun.specialpages">错误页面的特殊使用或定制目录列表（PHP &#62;= 4.3.3）</A></H2><P>&#13;     可以用 PHP 来为 <VAR  CLASS="literal">"404 Not Found"</VAR>
     或类似的错误提示生成错误页面。对每个想要覆盖的错误页面在
     <TT  CLASS="filename">obj.conf</TT> 中的对象里加入下面这行：
     <TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="programlisting">Error fn="php4_execute" code=XXX script="/path/to/script.html" [inikey=value inikey=value...]</PRE></TD></TR></TABLE>
     其中的 <VAR  CLASS="literal">XXX</VAR> 是 HTTP 错误代码。删除掉可能干扰到自己设置的任何其它
     <VAR  CLASS="literal">Error</VAR> 指令。如果对所有可能出现的错误都用同一个脚本处理，不要
     <VAR  CLASS="literal">code</VAR> 参数即可。脚本里可以用
     <VAR  CLASS="literal">$_SERVER['ERROR_TYPE']</VAR> 取得 HTTP 状态代码。
    <P>&#13;     还可以生成自己定制的目录列表。只要创建一个显示目录列表的
     PHP 脚本并用下面一行在 <TT  CLASS="filename">obj.conf</TT> 中替换掉相应
     <VAR  CLASS="literal">type="magnus-internal/directory"</VAR> 默认的
     Service 设置：
     <TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="programlisting">Service fn="php4_execute" type="magnus-internal/directory" script="/path/to/script.html" [inikey=value inikey=value...]</PRE></TD></TR></TABLE>
     对于错误和目录列表页面，原始的 URI 和转换后的 URI
     都在变量 <VAR  CLASS="literal">$_SERVER['PATH_INFO']</VAR> 和
     <VAR  CLASS="literal">$_SERVER['PATH_TRANSLATED']</VAR> 中。
    </DIV><DIV  CLASS="sect2"><H2  CLASS="sect2"><A  NAME="install.windows.sun.notes">有关 <A  HREF="../function.nsapi-virtual.html"><B  CLASS="function">nsapi_virtual()</B></A> 和子请求（PHP &#62;= 4.3.3）的说明</A></H2><P>&#13;     NSAPI 模块现在支持 <A  HREF="../function.nsapi-virtual.html"><B  CLASS="function">nsapi_virtual()</B></A>
     函数（别名：<A  HREF="../function.virtual.html"><B  CLASS="function">virtual()</B></A>）来进行子请求并将结果插入到
     web 页面里。问题是，此函数用到了一些 NSAPI 库中没有文档说明的特性。
    </P><P>&#13;     在 Unix 下这不是问题，因为模块会自动寻找所需的函数并使用。如果找不到，<A  HREF="../function.nsapi-virtual.html"><B  CLASS="function">nsapi_virtual()</B></A>
     被禁用。
    </P><P>&#13;     在 Windows 下 DLL 处理的局限性需要使用最新的
     <TT  CLASS="filename">ns-httpdXX.dll</TT> 文件中的自动检测功能。这已在版本
     6.1 及以下的服务器中测试过。如果用了更高版本的 Sun 服务器，检测会失败并禁用
     <A  HREF="../function.nsapi-virtual.html"><B  CLASS="function">nsapi_virtual()</B></A>。
    </P><P>&#13;     在这种情况下，试试下面的方法。在
     <TT  CLASS="filename">magnus.conf</TT>/<TT  CLASS="filename">obj.conf</TT>
     中的 <VAR  CLASS="literal">php4_init</VAR> 里加入下面的参数：
     <TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="programlisting">Init fn=php4_init ... server_lib="ns-httpdXX.dll"</PRE></TD></TR></TABLE>
     其中 <VAR  CLASS="literal">XX</VAR> 是正确的 DLL 版本号。在 server-root
     目录下去找合适的 DLL 的名字。文件大小最大的 DLL 就是了。
    <P>&#13;     可以用 <A  HREF="../function.htmlinfo.html"><B  CLASS="function">phpinfo()</B></A> 函数来检查状态。
    </P><DIV  CLASS="note"><BLOCKQUOTE  CLASS="note"><P><B>注: </B>
      但要注意：对 <A  HREF="../function.nsapi-virtual.html"><B  CLASS="function">nsapi_virtual()</B></A> 的支持是试验性质的！
     </P></BLOCKQUOTE></DIV></DIV></DIV><BR></TD><TD><IMG SRC="../spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="../spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE  SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top"><A  HREF="install.windows.apache2.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="../index.html" ACCESSKEY="H">起点</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top"><A  HREF="install.windows.omnihttpd.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top">Microsoft Windows 下的 Apache 2.0.x</TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="install.windows.html" ACCESSKEY="U">上一级</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top">OmniHTTPd Server</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
