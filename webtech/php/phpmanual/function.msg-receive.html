
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE  SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH  COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD  WIDTH="10%" ALIGN="left" VALIGN="bottom"><A  HREF="function.msg-get-queue.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD  WIDTH="10%" ALIGN="right" VALIGN="bottom"><A  HREF="function.msg-remove-queue.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A  NAME="function.msg-receive"></A>msg_receive</H1><DIV  CLASS="refnamediv"><A  NAME="AEN146907"></A><P>    (PHP 4 &#62;= 4.3.0, PHP 5)</P>msg_receive&nbsp;--&nbsp;
     Receive a message from a message queue
    </DIV><DIV  CLASS="refsect1"><A  NAME="AEN146910"></A><H2>Description</H2>bool <B  CLASS="methodname">msg_receive</B> ( resource queue, int desiredmsgtype, int &#38;msgtype, int maxsize, mixed &#38;message [, bool unserialize [, int flags [, int &#38;errorcode]]] )<BR></BR><P>&#13;     <B  CLASS="function">msg_receive()</B> will receive the first message from the
     specified <VAR  CLASS="parameter">queue</VAR> of the type specified by
     <VAR  CLASS="parameter">desiredmsgtype</VAR>.
     The type of the message that was received will be stored in
     <VAR  CLASS="parameter">msgtype</VAR>.
     The maximum size of message to be accepted is specified by the
     <VAR  CLASS="parameter">maxsize</VAR>; if the message in the queue is larger
     than this size the function will fail (unless you set
     <VAR  CLASS="parameter">flags</VAR> as described below).
     The received message will be stored in <VAR  CLASS="parameter">message</VAR>,
     unless there were errors receiving the message, in which case the
     optional <VAR  CLASS="parameter">errorcode</VAR> will be set to the value of the
     system errno variable to help you identify the cause.
    </P><P>&#13;     If <VAR  CLASS="parameter">desiredmsgtype</VAR> is 0, the message from the front
     of the queue is returned. If <VAR  CLASS="parameter">desiredmsgtype</VAR> is
     greater than 0, then the first message of that type is returned.
     If <VAR  CLASS="parameter">desiredmsgtype</VAR> is less than 0, the first
     message on the queue with the lowest type less than or equal to the
     absolute value of <VAR  CLASS="parameter">desiredmsgtype</VAR> will be read.
     If no messages match the criteria, your script will wait until a suitable
     message arrives on the queue.  You can prevent the script from blocking
     by specifying <TT  CLASS="constant"><B>MSG_IPC_NOWAIT</B></TT> in the 
     <VAR  CLASS="parameter">flags</VAR> parameter.
    </P><P>&#13;     <VAR  CLASS="parameter">unserialize</VAR> defaults to <TT  CLASS="constant"><B>TRUE</B></TT>; if it is set to
     <TT  CLASS="constant"><B>TRUE</B></TT>, the message is treated as though it was serialized using the same
     mechanism as the session module.  The message will be unserialized and
     then returned to your script.  This allows you to easily receive arrays
     or complex object structures from other PHP scripts, or if you are using
     the WDDX serializer, from any WDDX compatible source.
     If <VAR  CLASS="parameter">unserialize</VAR> is <TT  CLASS="constant"><B>FALSE</B></TT>, the message will be
     returned as a binary-safe string.
    </P><P>&#13;     The optional <VAR  CLASS="parameter">flags</VAR> allows you to pass flags to the
     low-level msgrcv system call.  It defaults to 0, but you may specify one
     or more of the following values (by adding or ORing them together).
     <DIV  CLASS="table"><A  NAME="AEN146963"></A><P><B>表格 1. Flag values for msg_receive</B></P><TABLE  BORDER="1" CLASS="CALSTABLE"><COL><COL><TBODY><TR><TD><TT  CLASS="constant"><B>MSG_IPC_NOWAIT</B></TT></TD><TD>If there are no messages of the
          <VAR  CLASS="parameter">desiredmsgtype</VAR>, return immediately and do not
          wait.  The function will fail and return an integer value
          corresponding to ENOMSG.
         </TD></TR><TR><TD><TT  CLASS="constant"><B>MSG_EXCEPT</B></TT></TD><TD>Using this flag in combination with a
          <VAR  CLASS="parameter">desiredmsgtype</VAR> greater than 0 will cause the
          function to receive the first message that is not equal to
          <VAR  CLASS="parameter">desiredmsgtype</VAR>.</TD></TR><TR><TD><TT  CLASS="constant"><B>MSG_NOERROR</B></TT></TD><TD>&#13;          If the message is longer than <VAR  CLASS="parameter">maxsize</VAR>,
          setting this flag will truncate the message to
          <VAR  CLASS="parameter">maxsize</VAR> and will not signal an error.
         </TD></TR></TBODY></TABLE></DIV>
    </P><P>&#13;     Upon successful completion the message queue data structure is updated as
     follows: <VAR  CLASS="literal">msg_lrpid</VAR> is set to the process-ID of the
     calling process, <VAR  CLASS="literal">msg_qnum</VAR> is decremented by 1 and
     <VAR  CLASS="literal">msg_rtime</VAR> is set to the current time.
    </P><P>&#13;     <B  CLASS="function">msg_receive()</B> returns <TT  CLASS="constant"><B>TRUE</B></TT> on success or <TT  CLASS="constant"><B>FALSE</B></TT> on
     failure.  If the function fails, the optional
     <VAR  CLASS="parameter">errorcode</VAR> will be set to the value of the system
     errno variable.
    </P><P>&#13;     See also <A  HREF="function.msg-remove-queue.html"><B  CLASS="function">msg_remove_queue()</B></A>,
     <A  HREF="function.msg-send.html"><B  CLASS="function">msg_send()</B></A>,
     <A  HREF="function.msg-stat-queue.html"><B  CLASS="function">msg_stat_queue()</B></A> and
     <A  HREF="function.msg-set-queue.html"><B  CLASS="function">msg_set_queue()</B></A>.
    </P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE  SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top"><A  HREF="function.msg-get-queue.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="index.html" ACCESSKEY="H">起点</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top"><A  HREF="function.msg-remove-queue.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top">msg_get_queue</TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="ref.sem.html" ACCESSKEY="U">上一级</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top">msg_remove_queue</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
