
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE  SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH  COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD  WIDTH="10%" ALIGN="left" VALIGN="bottom"><A  HREF="language.oop5.patterns.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="80%" ALIGN="center" VALIGN="bottom">章 19. 类与对象（PHP 5）</TD><TD  WIDTH="10%" ALIGN="right" VALIGN="bottom"><A  HREF="language.oop5.final.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="../spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="../spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV  CLASS="sect1"><H1  CLASS="sect1"><A  NAME="language.oop5.magic">Magic Methods</A></H1><P>&#13;   The function names
   <VAR  CLASS="literal">__construct</VAR>,
   <VAR  CLASS="literal">__destruct</VAR>
   (see <A  HREF="language.oop5.decon.html">Constructors and Destructors</A>),
   <VAR  CLASS="literal">__call</VAR>,
   <VAR  CLASS="literal">__get</VAR>,
   <VAR  CLASS="literal">__set</VAR>,
   <VAR  CLASS="literal">__isset</VAR>,
   <VAR  CLASS="literal">__unset</VAR>
   (see <A  HREF="language.oop5.overloading.html">Overloading</A>),
   <VAR  CLASS="literal">__sleep</VAR>,
   <VAR  CLASS="literal">__wakeup</VAR>,
   <VAR  CLASS="literal">__toString</VAR>,
   <A  HREF="language.oop5.cloning.html">__clone</A> and
   <A  HREF="language.oop5.autoload.html">__autoload</A>
   are magical in PHP classes. You
   cannot have functions with these names in any of your
   classes unless you want the magic functionality associated
   with them.
  </P><DIV  CLASS="caution"><P></P><TABLE  CLASS="caution" BORDER="1" WIDTH="100%"><TR><TD  ALIGN="CENTER"><B>注意</B></TD></TR><TR><TD  ALIGN="LEFT"><P>&#13;    PHP reserves all function names starting with __ as magical.
    It is recommended that you do not use function names with
    __ in PHP unless you want some documented magic functionality.
   </P></TD></TR></TABLE></DIV><DIV  CLASS="sect2"><H2  CLASS="sect2"><A  NAME="language.oop5.magic.sleep"><VAR  CLASS="literal">__sleep</VAR> and <VAR  CLASS="literal">__wakeup</VAR></A></H2><P>&#13;    <A  HREF="../function.serialize.html"><B  CLASS="function">serialize()</B></A> checks if your class has a function with
    the magic name <VAR  CLASS="literal">__sleep</VAR>. If so, that function is
    executed prior to any serialization. It can clean up the object
    and is supposed to return an array with the names of all variables
    of that object that should be serialized.
   </P><P>&#13;    The intended use of <VAR  CLASS="literal">__sleep</VAR> is to close any
    database connections that the object may have, commit pending
    data or perform similar cleanup tasks. Also, the function is
    useful if you have very large objects which do not need to be
    saved completely.
   </P><P>&#13;    Conversely, <A  HREF="../function.unserialize.html"><B  CLASS="function">unserialize()</B></A> checks for the
    presence of a function with the magic name 
    <VAR  CLASS="literal">__wakeup</VAR>. If present, this function can
    reconstruct any resources that the object may have.
   </P><P>&#13;    The intended use of <VAR  CLASS="literal">__wakeup</VAR> is to
    reestablish any database connections that may have been lost
    during serialization and perform other reinitialization
    tasks.
   </P></DIV><DIV  CLASS="sect2"><H2  CLASS="sect2"><A  NAME="language.oop5.magic.tostring"><VAR  CLASS="literal">__toString</VAR></A></H2><P>&#13;    The <VAR  CLASS="literal">__toString</VAR> method allows a class to decide
    how it will react when it is converted to a string.
   </P><TABLE  WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV  CLASS="example"><A  NAME="AEN6012"></A><P><B>例子 19-25. Simple example</B></P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font  color="#000000">
<font  color="#0000BB">&lt;?php<br  /></font><font  color="#FF8000">// Declare a simple class<br  /></font><font  color="#007700">class </font><font  color="#0000BB">TestClass<br  /></font><font  color="#007700">{<br  />&nbsp;&nbsp;&nbsp;&nbsp;</font><font  color="#0000BB">public $foo</font><font  color="#007700">;<br  /><br  />&nbsp;&nbsp;&nbsp;&nbsp;</font><font  color="#0000BB">public </font><font  color="#007700">function </font><font  color="#0000BB">__construct</font><font  color="#007700">(</font><font  color="#0000BB">$foo</font><font  color="#007700">) {<br  />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font  color="#0000BB">$this</font><font  color="#007700">-&gt;</font><font  color="#0000BB">foo </font><font  color="#007700">= </font><font  color="#0000BB">$foo</font><font  color="#007700">;<br  />&nbsp;&nbsp;&nbsp;&nbsp;}<br  /><br  />&nbsp;&nbsp;&nbsp;&nbsp;</font><font  color="#0000BB">public </font><font  color="#007700">function </font><font  color="#0000BB">__toString</font><font  color="#007700">() {<br  />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font  color="#0000BB">$this</font><font  color="#007700">-&gt;</font><font  color="#0000BB">foo</font><font  color="#007700">;<br  />&nbsp;&nbsp;&nbsp;&nbsp;}<br  />}<br  /><br  /></font><font  color="#0000BB">$class </font><font  color="#007700">= new </font><font  color="#0000BB">TestClass</font><font  color="#007700">(</font><font  color="#DD0000">'Hello'</font><font  color="#007700">);<br  />echo </font><font  color="#0000BB">$class</font><font  color="#007700">;<br  /></font><font  color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE><P>上例将输出：</P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><PRE  CLASS="screen">Hello</PRE></TD></TR></TABLE></DIV></TD></TR></TABLE><P>&#13;    It is worth noting that the <VAR  CLASS="literal">__toString</VAR> method
    will only be called when it is directly combined with
    <A  HREF="../function.echo.html"><B  CLASS="function">echo()</B></A> or <A  HREF="../function.print.html"><B  CLASS="function">print()</B></A>.
   </P><TABLE  WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV  CLASS="example"><A  NAME="AEN6021"></A><P><B>例子 19-26. Cases where <VAR  CLASS="literal">__toString</VAR> is called</B></P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font  color="#000000">
<font  color="#0000BB">&lt;?php<br  /></font><font  color="#FF8000">// __toString called<br  /></font><font  color="#007700">echo </font><font  color="#0000BB">$class</font><font  color="#007700">;<br  /><br  /></font><font  color="#FF8000">// __toString called (still a normal parameter for echo)<br  /></font><font  color="#007700">echo </font><font  color="#DD0000">'text'</font><font  color="#007700">, </font><font  color="#0000BB">$class</font><font  color="#007700">;<br  /><br  /></font><font  color="#FF8000">// __toString not called (concatenation operator used first)<br  /></font><font  color="#007700">echo </font><font  color="#DD0000">'text' </font><font  color="#007700">. </font><font  color="#0000BB">$class</font><font  color="#007700">;<br  /><br  /></font><font  color="#FF8000">// __toString not called (cast to string first)<br  /></font><font  color="#007700">echo (string) </font><font  color="#0000BB">$class</font><font  color="#007700">;<br  /><br  /></font><font  color="#FF8000">// __toString not called (cast to string first)<br  /></font><font  color="#007700">echo </font><font  color="#DD0000">"text $class"</font><font  color="#007700">;<br  /></font><font  color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE></DIV></DIV><BR></TD><TD><IMG SRC="../spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="../spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE  SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top"><A  HREF="language.oop5.patterns.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="../index.html" ACCESSKEY="H">起点</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top"><A  HREF="language.oop5.final.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top">Patterns</TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="language.oop5.html" ACCESSKEY="U">上一级</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top">Final Keyword</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
