
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE  SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH  COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD  WIDTH="10%" ALIGN="left" VALIGN="bottom"><A  HREF="function.rename-function.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD  WIDTH="10%" ALIGN="right" VALIGN="bottom"><A  HREF="function.apc-cache-info.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV  CLASS="reference"><A  NAME="ref.apc"></A><DIV  CLASS="TITLEPAGE"><H1  CLASS="title">III. Alternative PHP Cache</H1><DIV  CLASS="PARTINTRO"><A  NAME="AEN8607"></A><DIV  CLASS="section"><H1  CLASS="section"><A  NAME="apc.intro">简介</A></H1><P>&#13;    The Alternative PHP Cache (APC) is a free and open opcode cache for PHP.
    It was conceived of to provide a free, open, and robust framework for
    caching and optimizing PHP intermediate code.
   </P></DIV><DIV  CLASS="section"><H1  CLASS="section"><A  NAME="apc.installation">安装</A></H1><P>&#13;    本 <A  HREF="http://pecl.html.net" TARGET="_top">PECL</A> 扩展未绑定于 PHP 中。
   </P><P>&#13;    进一步信息例如新版本，下载，源程序，维护者信息以及更新日志可以在此找到：
    <A  HREF="http://pecl.html.net/package/apc" TARGET="_top">http://pecl.html.net/package/apc</A>.
   </P><P>&#13;    可以从 <A  HREF="http://www.html.net/downloads.html" TARGET="_top">PHP
下载</A>页面或者 <A  HREF="http://snaps.html.net/" TARGET="_top">http://snaps.html.net/</A>
下载此 <ACRONYM  CLASS="acronym">PECL</ACRONYM> 扩展的
<ACRONYM  CLASS="acronym">DLL</ACRONYM> 文件。
   </P><DIV  CLASS="note"><BLOCKQUOTE  CLASS="note"><P><B>注: </B>
     On Windows, APC expects <VAR  CLASS="literal">c:\tmp</VAR> to exist, and be
     writable by the web server.
    </P></BLOCKQUOTE></DIV><DIV  CLASS="note"><BLOCKQUOTE  CLASS="note"><P><B>注: </B>
     For more in-depth, highly technical documentation, see the
     <A  HREF="http://cvs.html.net/co.html/pecl/apc/TECHNOTES.txt" TARGET="_top">&#13;      developer-supplied TECHNOTES file
     </A>.
    </P></BLOCKQUOTE></DIV></DIV><DIV  CLASS="section"><H1  CLASS="section"><A  NAME="apc.configuration">运行时配置</A></H1><P>这些函数的行为受 <TT  CLASS="filename">php.ini</TT> 的影响。</P><P>&#13;  Although the default APC settings are fine for many installations, serious
  users should consider tuning the following parameters.
 </P><P>&#13;  <DIV  CLASS="table"><A  NAME="AEN8634"></A><P><B>表格 1. APC configuration options</B></P><TABLE  BORDER="1" CLASS="CALSTABLE"><COL><COL><COL><COL><THEAD><TR><TH>Name</TH><TH>Default</TH><TH>Changeable</TH><TH>Changelog</TH></TR></THEAD><TBODY><TR><TD>apc.enabled</TD><TD>1</TD><TD>PHP_INI_ALL</TD><TD>&nbsp;</TD></TR><TR><TD>apc.shm_segments</TD><TD>1</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.shm_size</TD><TD>30</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.optimization</TD><TD>0</TD><TD>PHP_INI_ALL</TD><TD>&nbsp;</TD></TR><TR><TD>apc.num_files_hint</TD><TD>1000</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.ttl</TD><TD>0</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.gc_ttl</TD><TD>3600</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.cache_by_default</TD><TD>On</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.filters</TD><TD>""</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.mmap_file_mask</TD><TD>""</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.slam_defense</TD><TD>0</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.file_update_protection</TD><TD>2</TD><TD>PHP_INI_SYSTEM</TD><TD>&nbsp;</TD></TR><TR><TD>apc.enable_cli</TD><TD>0</TD><TD>PHP_INI_SYSTEM</TD><TD>&#62; APC 3.0.6</TD></TR></TBODY></TABLE></DIV>
  有关 PHP_INI_* 常量进一步的细节与定义参见<A  HREF="appendix/ini.html">附录 G</A>。
 </P><P>以下是配置选项的简要解释。</P><P>&#13;  <P></P><DIV  CLASS="variablelist"><DL><DT><A  NAME="ini.apc.enabled"></A><VAR  CLASS="parameter">apc.enabled</VAR>
     <A  HREF="language/language.types.boolean.html"><B  CLASS="type">boolean</B></A></DT><DD><P>&#13;      <VAR  CLASS="literal">apc.enabled</VAR> can be set to 0 to disable APC. This is
      primarily useful when APC is statically compiled
      into PHP, since there is no other way to disable
      it (when compiled as a DSO, the <VAR  CLASS="literal">extension</VAR>
      line in <VAR  CLASS="literal">php.ini</VAR> can just be commented-out).
     </P></DD><DT><A  NAME="ini.apc.shm-segments"></A><VAR  CLASS="parameter">apc.shm_segments</VAR>
     <A  HREF="language/language.types.integer.html"><B  CLASS="type">integer</B></A></DT><DD><P>&#13;      The number of shared memory segments to allocate
      for the compiler cache. If APC is running out of
      shared memory but you have already set
      <VAR  CLASS="literal">apc.shm_size</VAR> as high as your system allows, you
      can try raising this value.
     </P></DD><DT><A  NAME="ini.apc.shm-size"></A><VAR  CLASS="parameter">apc.shm_size</VAR>
     <A  HREF="language/language.types.integer.html"><B  CLASS="type">integer</B></A></DT><DD><P>&#13;      The size of each shared memory segment in MB.
      By default, some systems (including most BSD
      variants) have very low limits on the size of a
      shared memory segment.
     </P></DD><DT><A  NAME="ini.apc.optimization"></A><VAR  CLASS="parameter">apc.optimization</VAR>
     <A  HREF="language/language.types.integer.html"><B  CLASS="type">integer</B></A></DT><DD><P>&#13;      The optimization level. Zero disables the
      optimizer, and higher values use more aggressive
      optimizations. Expect very modest speed
      improvements. This is experimental.
     </P></DD><DT><A  NAME="ini.apc.num-files-hint"></A><VAR  CLASS="parameter">apc.num_files_hint</VAR>
     <A  HREF="language/language.types.integer.html"><B  CLASS="type">integer</B></A></DT><DD><P>&#13;      A "hint" about the number of distinct source files
      that will be included or requested on your web
      server. Set to zero or omit if you're not sure;
      this setting is mainly useful for sites that have
      many thousands of source files.
     </P></DD><DT><A  NAME="ini.apc.ttl"></A><VAR  CLASS="parameter">apc.ttl</VAR>
     <A  HREF="language/language.types.integer.html"><B  CLASS="type">integer</B></A></DT><DD><P>&#13;      The number of seconds a cache entry is allowed to
      idle in a slot in case this cache entry slot is
      needed by another entry.  Leaving this at zero
      means that your cache could potentially fill up
      with stale entries while newer entries won't be
      cached.
     </P></DD><DT><A  NAME="ini.apc.gc-ttl"></A><VAR  CLASS="parameter">apc.gc_ttl</VAR>
     <A  HREF="language/language.types.integer.html"><B  CLASS="type">integer</B></A></DT><DD><P>&#13;      The number of seconds that a cache entry may
      remain on the garbage-collection list. This value
      provides a failsafe in the event that a server
      process dies while executing a cached source file;
      if that source file is modified, the memory
      allocated for the old version will not be
      reclaimed until this TTL reached. Set to zero to
      disable this feature.
     </P></DD><DT><A  NAME="ini.apc.cache-by-default"></A><VAR  CLASS="parameter">apc.cache_by_default</VAR>
     <A  HREF="language/language.types.boolean.html"><B  CLASS="type">boolean</B></A></DT><DD><P>&#13;      On by default, but can be set to off and used in
      conjunction with positive <VAR  CLASS="literal">apc.filters</VAR> so that files
      are only cached if matched by a positive filter.
     </P></DD><DT><A  NAME="ini.apc.filters"></A><VAR  CLASS="parameter">apc.filters</VAR>
     <A  HREF="language/language.types.string.html"><B  CLASS="type">string</B></A></DT><DD><P>&#13;      A comma-separated list of POSIX extended regular
      expressions. If any pattern matches the source
      filename, the file will not be cached. Note that
      the filename used for matching is the one passed
      to include/require, not the absolute path.  If the
      first character of the expression is a <VAR  CLASS="literal">+</VAR> then the
      expression will be additive in the sense that any
      files matched by the expression will be cached, and
      if the first character is a <VAR  CLASS="literal">-</VAR> then anything matched
      will not be cached.  The <VAR  CLASS="literal">-</VAR> case is the default, so
      it can be left off.
     </P></DD><DT><A  NAME="ini.apc.mmap-file-mask"></A><VAR  CLASS="parameter">apc.mmap_file_mask</VAR>
     <A  HREF="language/language.types.string.html"><B  CLASS="type">string</B></A></DT><DD><P>&#13;      If compiled with MMAP support by using <VAR  CLASS="literal">--enable-mmap</VAR>
      this is the mktemp-style file_mask to pass to the
      mmap module for determing whether your mmap'ed memory
      region is going to be file-backed or shared memory
      backed.  For straight file-backed mmap, set it to
      something like <VAR  CLASS="literal">/tmp/apc.XXXXXX</VAR>
      (exactly 6 <VAR  CLASS="literal">X</VAR>s).
      To use POSIX-style shm_open/mmap put a <VAR  CLASS="literal">.shm</VAR>
      somewhere in your mask.  e.g. <VAR  CLASS="literal">/apc.shm.XXXXXX</VAR>
      You can also set it to <VAR  CLASS="literal">/dev/zero</VAR> to use your
      kernel's <VAR  CLASS="literal">/dev/zero</VAR> interface to anonymous mmap'ed
      memory.  Leaving it undefined will force an anonymous mmap.
     </P></DD><DT><A  NAME="ini.apc.slam-defense"></A><VAR  CLASS="parameter">apc.slam_defense</VAR>
     <A  HREF="language/language.types.integer.html"><B  CLASS="type">integer</B></A></DT><DD><P>&#13;      On very busy servers whenever you start the server or
      modify files you can create a race of many processes
      all trying to cache the same file at the same time.
      This option sets the percentage of processes that will
      skip trying to cache an uncached file.  Or think of it
      as the probability of a single process to skip caching.
      For example, setting <VAR  CLASS="literal">apc.slam_defense</VAR>
      to <VAR  CLASS="literal">75</VAR> would mean that there is
      a 75% chance that the process will not cache an uncached
      file. So, the higher the setting the greater the defense
      against cache slams.  Setting this to <VAR  CLASS="literal">0</VAR>
      disables this feature.
     </P></DD><DT><A  NAME="ini.apc.file-update-protection"></A><VAR  CLASS="parameter">apc.file_update_protection</VAR>
     <A  HREF="language/language.types.integer.html"><B  CLASS="type">integer</B></A></DT><DD><P>&#13;      When you modify a file on a live web server you really
      should do so in an atomic manner.  That is, write to a
      temporary file and rename (<VAR  CLASS="literal">mv</VAR>) the file into its
      permanent position when it is ready.  Many text editors, cp, tar and
      other such programs don't do this.  This means that there
      is a chance that a file is accessed (and cached) while it
      is still being written to.  This <VAR  CLASS="literal">apc.file_update_protection</VAR>
      setting puts a delay on caching brand new files.  The
      default is 2 seconds which means that if the modification
      timestamp (<VAR  CLASS="literal">mtime</VAR>) on a file shows that it is less than 2
      seconds old when it is accessed, it will not be cached.
      The unfortunate person who accessed this half-written file
      will still see weirdness, but at least it won't persist.
      If you are certain you always atomically update your files
      by using something like rsync which does this correctly, you
      can turn this protection off by setting it to 0.  If you
      have a system that is flooded with io causing some update
      procedure to take longer than 2 seconds, you may want to
      increase this a bit.
     </P></DD><DT><A  NAME="ini.apc.enable-cli"></A><VAR  CLASS="parameter">apc.enable-cli</VAR>
     <A  HREF="language/language.types.integer.html"><B  CLASS="type">integer</B></A></DT><DD><P>&#13;      Mostly for testing and debugging.  Setting this enables APC
      for the CLI version of PHP.  Normally you wouldn't want to
      create, populate and tear down the APC cache on every CLI
      request, but for various test scenarios it is handy to be
      able to enable APC for the CLI version of APC easily.
     </P></DD></DL></DIV>
 </P></DIV><DIV  CLASS="section"><H1  CLASS="section"><A  NAME="apc.resources">资源类型</A></H1><P>本扩展模块未定义任何资源类型。</P></DIV><DIV  CLASS="section"><H1  CLASS="section"><A  NAME="apc.constants">预定义常量</A></H1><P>本扩展模块未定义任何常量。</P></DIV></DIV><DIV  CLASS="TOC"><DL><DT><B>目录</B></DT><DT><A  HREF="function.apc-cache-info.html">apc_cache_info</A>&nbsp;--&nbsp;
   Retrieves cached information (and meta-data) from APC's data store
  </DT><DT><A  HREF="function.apc-clear-cache.html">apc_clear_cache</A>&nbsp;--&nbsp;
   Clears the APC cache 
  </DT><DT><A  HREF="function.apc-define-constants.html">apc_define_constants</A>&nbsp;--&nbsp;
   Defines a set of constants for later retrieval and mass-definition 
  </DT><DT><A  HREF="function.apc-delete.html">apc_delete</A>&nbsp;--&nbsp;
   Removes a stored variable from the cache 
  </DT><DT><A  HREF="function.apc-fetch.html">apc_fetch</A>&nbsp;--&nbsp;
   Fetch a stored variable from the cache 
  </DT><DT><A  HREF="function.apc-load-constants.html">apc_load_constants</A>&nbsp;--&nbsp;
   Loads a set of constants from the cache
  </DT><DT><A  HREF="function.apc-sma-info.html">apc_sma_info</A>&nbsp;--&nbsp;
   Retrieves APC's Shared Memory Allocation information 
  </DT><DT><A  HREF="function.apc-store.html">apc_store</A>&nbsp;--&nbsp;
   Cache a variable in the data store 
  </DT></DL></DIV></DIV></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE  SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top"><A  HREF="function.rename-function.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="index.html" ACCESSKEY="H">起点</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top"><A  HREF="function.apc-cache-info.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top">rename_function</TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="funcref.html" ACCESSKEY="U">上一级</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top">apc_cache_info</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
