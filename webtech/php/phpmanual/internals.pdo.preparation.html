
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE   SUMMARY="Header navigation table"  WIDTH="100%"  BORDER="0"  CELLPADDING="3"  CELLSPACING="0"><TR><TH   COLSPAN="3"  ALIGN="center">PHP 手册</TH></TR><TR><TD   WIDTH="10%"  ALIGN="left"  VALIGN="bottom"><A   HREF="internals.pdo.prerequisites.html"  ACCESSKEY="P">后退</A></TD><TD   WIDTH="80%"  ALIGN="center"  VALIGN="bottom">章 45. PDO Driver How-To</TD><TD   WIDTH="10%"  ALIGN="right"  VALIGN="bottom"><A   HREF="internals.pdo.implementing.html"  ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><DIV   CLASS="sect1"><H1   CLASS="sect1"><A   NAME="internals.pdo.preparation">Preparation and Housekeeping</A></H1><DIV   CLASS="sect2"><H2   CLASS="sect2"><A   NAME="AEN191705">Source directory layout</A></H2><P>&#13;   The source directory for a typical PDO driver is laid out as follows, where
   <VAR   CLASS="literal">SKEL</VAR> represents a shortened form of the name of the
   database that the driver is going to connect to.  Even though SKEL is
   presented here in uppercase (for clarity), the convention is to use
   lowercase characters.
  </P><TABLE   BORDER="0"  BGCOLOR="#E0E0E0"  CELLPADDING="5"><TR><TD><PRE   CLASS="screen">pdo_SKEL/          
  config.m4                  <A   NAME="internals.pdo.layout.co.m4"></A>
  config.w32                 <A   NAME="internals.pdo.layout.co.w32"></A>
  CREDITS
  package.xml                <A   NAME="internals.pdo.layout.co.cred"></A>
  pdo_SKEL.c           <A   NAME="internals.pdo.layout.co.glue"></A>
  php_pdo_SKEL.h
  php_pdo_SKEL_int.h   <A   NAME="internals.pdo.layout.co.priv"></A>
  SKEL_dbh.c           <A   NAME="internals.pdo.layout.co.dbh"></A>
  SKEL_stmt.c          <A   NAME="internals.pdo.layout.co.stmt"></A></PRE></TD></TR></TABLE><DIV   CLASS="calloutlist"><DL   COMPACT="COMPACT"><DT>&nbsp;</DT><DD>unix build script</DD><DT>&nbsp;</DT><DD>win32 build script</DD><DT>&nbsp;</DT><DD>meta information about the package</DD><DT>&nbsp;</DT><DD>standard PHP extension glue</DD><DT>&nbsp;</DT><DD>driver private header</DD><DT>&nbsp;</DT><DD>contains the implementation of the PDO driver interface</DD><DT>&nbsp;</DT><DD>contains the implementation of the PDO statement interface</DD></DL></DIV><P>The contents of these files are defined later in this document.</P></DIV><DIV   CLASS="sect2"><H2   CLASS="sect2"><A   NAME="AEN191733">Creating a skeleton</A></H2><P>&#13;   The easiest way to get started is to use the <B   CLASS="command">ext_skel</B>
   shell script found in the PHP build tree in the <TT   CLASS="filename">ext</TT>
   directory. This will build a skeleton directory containing a lot of the
   files listed above. It can be build by executing the following command from
   within the <TT   CLASS="filename">ext</TT> directory:
  </P><TABLE   BORDER="0"  BGCOLOR="#E0E0E0"  CELLPADDING="5"><TR><TD><PRE   CLASS="screen">./ext_skel --extname=pdo_SKEL</PRE></TD></TR></TABLE><P>&#13;   This will generate a directory called pdo_SKEL containing the
   skeleton files that you can then modify. This directory should then be
   moved out of the php extension directory . PDO is a PECL extension and
   should not be included in the standard extension directory. As long as you
   have PHP and PDO installed, you should be able to build from any directory.
  </P></DIV><DIV   CLASS="sect2"><H2   CLASS="sect2"><A   NAME="AEN191741">Standard Includes</A></H2><DIV   CLASS="sect3"><H3   CLASS="sect3"><A   NAME="AEN191743">Build Specific Headers</A></H3><P>&#13;    The header file config.h is generated by the configure process for the
    platform for the which the driver is being built. If this header is
    present, the HAVE_CONFIG_H compiler variable is set. This variable should
    be tested for and if set, the file config.h should be included in the
    compilation unit.
   </P></DIV><DIV   CLASS="sect3"><H3   CLASS="sect3"><A   NAME="AEN191746">PHP Headers</A></H3><P>&#13;    The following standard public php headers should be included in each
    source module:
   </P><P></P><OL   TYPE="1"><LI><P>php.h</P></LI><LI><P>php_ini.h</P></LI><LI><P>ext/standard/info.h</P></LI></OL></DIV><DIV   CLASS="sect3"><H3   CLASS="sect3"><A   NAME="AEN191756">PDO Interface Headers</A></H3><P>&#13;    The following standard public PDO header files are also included in each
    source module:
   </P><P></P><DIV   CLASS="variablelist"><DL><DT>pdo/php_pdo.h</DT><DD><P>&#13;       This header file contains definitions of the initialization and shutdown
       functions in the main driver as well as definitions of global PDO
       variables.
      </P></DD><DT>pdo/php_pdo_driver.h</DT><DD><P>&#13;       This header contains the types and API contracts that are used to write
       a PDO driver. It also contains method signature for calling back into
       the PDO layer and registering/unregistering your driver with 
       PDO. Most importantly, this header file contains the type
       definitions for PDO database handles and statements. The two main
       structures a driver has to deal with, pdo_dbh_t and pdo_stmt_t, are
       described in more detail in Appendix A and B.
      </P></DD></DL></DIV></DIV><DIV   CLASS="sect3"><H3   CLASS="sect3"><A   NAME="AEN191768">Driver Specific Headers</A></H3><P>&#13;    The typical PDO driver has two header files that are specific to the
    database implementation. This does not preclude the use of more depending
    on the implementation. The following two headers are, by convention,
    standard:
   </P><P></P><DIV   CLASS="variablelist"><DL><DT>php_pdo_SKEL.h</DT><DD><P>&#13;       This header file is virtually an exact duplicate in functionality
       and content of the previously defined pdo/php_pdo.h that has been
       specifically tailored for your database. If your driver requires
       the use of global variables they should be defined using the
       ZEND_BEGIN_MODULE_GLOBALS and ZEND_END_MODULE_GLOBALS macros.
       Macros are then used to access these variables. This macro is
       usually named PDO_SKEL_G(v) where v is global variable to be
       accessed. Consult the Zend programmer documentation for more
       information.
      </P></DD><DT>php_pdo_SKEL_int.h</DT><DD><P>&#13;       This header file typically contains type definitions and function
       declarations specific to the driver implementation. It also should
       contain the db specicfic definitions of a pdo_SKEL_handle and
       pdo_SKEL_stmt structures. These are the names of the private
       data structures that are then referenced by the driver_data members
       of the handle and statement structures.
      </P></DD></DL></DIV></DIV><DIV   CLASS="sect3"><H3   CLASS="sect3"><A   NAME="AEN191780">Optional Headers</A></H3><P>&#13;    Depending on the implementation details for a particular driver it may be
    necessary to include the following header:
   </P><TABLE   BORDER="0"  BGCOLOR="#E0E0E0"  CELLPADDING="5"><TR><TD><PRE   CLASS="synopsis">#include &#60;zend_exceptions.h&#62;</PRE></TD></TR></TABLE></DIV></DIV></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE   SUMMARY="Footer navigation table"  WIDTH="100%"  BORDER="0"  CELLPADDING="3"  CELLSPACING="0"><TR><TD   WIDTH="33%"  ALIGN="left"  VALIGN="top"><A   HREF="internals.pdo.prerequisites.html"  ACCESSKEY="P">后退</A></TD><TD   WIDTH="34%"  ALIGN="center"  VALIGN="top"><A   HREF="index.html"  ACCESSKEY="H">起点</A></TD><TD   WIDTH="33%"  ALIGN="right"  VALIGN="top"><A   HREF="internals.pdo.implementing.html"  ACCESSKEY="N">前进</A></TD></TR><TR><TD   WIDTH="33%"  ALIGN="left"  VALIGN="top">Prerequisites</TD><TD   WIDTH="34%"  ALIGN="center"  VALIGN="top"><A   HREF="internals.pdo.html"  ACCESSKEY="U">上一级</A></TD><TD   WIDTH="33%"  ALIGN="right"  VALIGN="top">Fleshing out your skeleton</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
