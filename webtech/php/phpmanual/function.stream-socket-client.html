
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE  SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TH  COLSPAN="3" ALIGN="center">PHP 手册</TH></TR><TR><TD  WIDTH="10%" ALIGN="left" VALIGN="bottom"><A  HREF="function.stream-socket-accept.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="80%" ALIGN="center" VALIGN="bottom"></TD><TD  WIDTH="10%" ALIGN="right" VALIGN="bottom"><A  HREF="function.stream-socket-enable-crypto.html" ACCESSKEY="N">前进</A></TD></TR></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1><A  NAME="function.stream-socket-client"></A>stream_socket_client</H1><DIV  CLASS="refnamediv"><A  NAME="AEN161152"></A><P>    (PHP 5)</P>stream_socket_client&nbsp;--&nbsp;
     Open Internet or Unix domain socket connection
    </DIV><DIV  CLASS="refsect1"><A  NAME="AEN161155"></A><H2>Description</H2>resource <B  CLASS="methodname">stream_socket_client</B> ( string remote_socket [, int &#38;errno [, string &#38;errstr [, float timeout [, int flags [, resource context]]]]] )<BR></BR><P>&#13;     Initiates a stream or datagram connection to the destination specified
     by <VAR  CLASS="parameter">remote_socket</VAR>.  The type of socket created
     is determined by the transport specified using standard URL formatting:
     <VAR  CLASS="literal">transport://target</VAR>.  For Internet Domain sockets
     (AF_INET) such as TCP and UDP, the <VAR  CLASS="literal">target</VAR> portion
     of the <VAR  CLASS="parameter">remote_socket</VAR> parameter should consist of
     a hostname or IP address followed by a colon and a port number.  For Unix
     domain sockets, the <VAR  CLASS="parameter">target</VAR> portion should point
     to the socket file on the filesystem.

     The optional <VAR  CLASS="parameter">timeout</VAR> can be used to
     set a timeout in seconds for the connect system call.

     <VAR  CLASS="parameter">flags</VAR> is a bitmask field which may be set to any
     combination of connection flags.  Currently the selection of connection
     flags is limited to <TT  CLASS="constant"><B>STREAM_CLIENT_CONNECT</B></TT> (default),
     <TT  CLASS="constant"><B>STREAM_CLIENT_ASYNC_CONNECT</B></TT> and
     <TT  CLASS="constant"><B>STREAM_CLIENT_PERSISTENT</B></TT>.
    </P><DIV  CLASS="note"><BLOCKQUOTE  CLASS="note"><P><B>注: </B>
      If you need to set a timeout for reading/writing data over the socket,
      use <A  HREF="function.stream-set-timeout.html"><B  CLASS="function">stream_set_timeout()</B></A>, as the <VAR  CLASS="parameter">timeout</VAR>
      parameter to <B  CLASS="function">stream_socket_client()</B> only applies while
      connecting the socket.
     </P></BLOCKQUOTE></DIV><P>&#13;     <B  CLASS="function">stream_socket_client()</B> returns a
     stream resource which may
     be used together with the other file functions (such as
     <A  HREF="function.fgets.html"><B  CLASS="function">fgets()</B></A>, <A  HREF="function.fgetss.html"><B  CLASS="function">fgetss()</B></A>,
     <A  HREF="function.fwrite.html"><B  CLASS="function">fwrite()</B></A>, <A  HREF="function.fclose.html"><B  CLASS="function">fclose()</B></A>, and
     <A  HREF="function.feof.html"><B  CLASS="function">feof()</B></A>).
    </P><P>&#13;     If the call fails, it will return <TT  CLASS="constant"><B>FALSE</B></TT> and if the optional
     <VAR  CLASS="parameter">errno</VAR> and <VAR  CLASS="parameter">errstr</VAR>
     arguments are present they will be set to indicate the actual
     system level error that occurred in the system-level
     <VAR  CLASS="literal">connect()</VAR> call. If the value returned in
     <VAR  CLASS="parameter">errno</VAR> is <VAR  CLASS="literal">0</VAR> and the
     function returned <TT  CLASS="constant"><B>FALSE</B></TT>, it is an indication that the error
     occurred before the <VAR  CLASS="literal">connect()</VAR> call. This is
     most likely due to a problem initializing the socket. Note that
     the <VAR  CLASS="parameter">errno</VAR> and
     <VAR  CLASS="parameter">errstr</VAR> arguments will always be passed by
     reference.
    </P><P>&#13;     Depending on the environment, the Unix domain or the optional
     connect timeout may not be available.  A list of available
     transports can be retrieved using <A  HREF="function.stream-get-transports.html"><B  CLASS="function">stream_get_transports()</B></A>.
     See <A  HREF="appendix/transports.html">附录 N</A> for a list of built in transports.
    </P><P>&#13;     The stream will by default be opened in blocking mode.  You can
     switch it to non-blocking mode by using
     <A  HREF="function.stream-set-blocking.html"><B  CLASS="function">stream_set_blocking()</B></A>.
     <TABLE  WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV  CLASS="example"><A  NAME="AEN161217"></A><P><B>例子 1. <B  CLASS="function">stream_socket_client()</B> Example</B></P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font  color="#000000">
<font  color="#0000BB">&lt;?php<br  />$fp </font><font  color="#007700">= </font><font  color="#0000BB">stream_socket_client</font><font  color="#007700">(</font><font  color="#DD0000">"tcp://www.example.com:80"</font><font  color="#007700">, </font><font  color="#0000BB">$errno</font><font  color="#007700">, </font><font  color="#0000BB">$errstr</font><font  color="#007700">, </font><font  color="#0000BB">30</font><font  color="#007700">);<br  />if (!</font><font  color="#0000BB">$fp</font><font  color="#007700">) {<br  />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font  color="#DD0000">"$errstr ($errno)&lt;br /&gt;</font><font  color="#007700">\n</font><font  color="#DD0000">"</font><font  color="#007700">;<br  />} else {<br  />&nbsp;&nbsp;&nbsp;&nbsp;</font><font  color="#0000BB">fwrite</font><font  color="#007700">(</font><font  color="#0000BB">$fp</font><font  color="#007700">, </font><font  color="#DD0000">"GET / HTTP/1.0\r\nHost: www.example.com\r\nAccept: */*\r\n\r\n"</font><font  color="#007700">);<br  />&nbsp;&nbsp;&nbsp;&nbsp;while (!</font><font  color="#0000BB">feof</font><font  color="#007700">(</font><font  color="#0000BB">$fp</font><font  color="#007700">)) {<br  />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font  color="#0000BB">fgets</font><font  color="#007700">(</font><font  color="#0000BB">$fp</font><font  color="#007700">, </font><font  color="#0000BB">1024</font><font  color="#007700">);<br  />&nbsp;&nbsp;&nbsp;&nbsp;}<br  />&nbsp;&nbsp;&nbsp;&nbsp;</font><font  color="#0000BB">fclose</font><font  color="#007700">(</font><font  color="#0000BB">$fp</font><font  color="#007700">);<br  />}<br  /></font><font  color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
     The example below shows how to retrieve the day and time
     from the UDP service "daytime" (port 13) in your own machine.
     <TABLE  WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE"><TR><TD><DIV  CLASS="example"><A  NAME="AEN161221"></A><P><B>例子 2. Using UDP connection</B></P><TABLE  BORDER="0" BGCOLOR="#E0E0E0" CELLPADDING="5"><TR><TD><code><font  color="#000000">
<font  color="#0000BB">&lt;?php<br  />$fp </font><font  color="#007700">= </font><font  color="#0000BB">stream_socket_client</font><font  color="#007700">(</font><font  color="#DD0000">"udp://127.0.0.1:13"</font><font  color="#007700">, </font><font  color="#0000BB">$errno</font><font  color="#007700">, </font><font  color="#0000BB">$errstr</font><font  color="#007700">);<br  />if (!</font><font  color="#0000BB">$fp</font><font  color="#007700">) {<br  />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font  color="#DD0000">"ERROR: $errno - $errstr&lt;br /&gt;</font><font  color="#007700">\n</font><font  color="#DD0000">"</font><font  color="#007700">;<br  />} else {<br  />&nbsp;&nbsp;&nbsp;&nbsp;</font><font  color="#0000BB">fwrite</font><font  color="#007700">(</font><font  color="#0000BB">$fp</font><font  color="#007700">, </font><font  color="#DD0000">"\n"</font><font  color="#007700">);<br  />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font  color="#0000BB">fread</font><font  color="#007700">(</font><font  color="#0000BB">$fp</font><font  color="#007700">, </font><font  color="#0000BB">26</font><font  color="#007700">);<br  />&nbsp;&nbsp;&nbsp;&nbsp;</font><font  color="#0000BB">fclose</font><font  color="#007700">(</font><font  color="#0000BB">$fp</font><font  color="#007700">);<br  />}<br  /></font><font  color="#0000BB">?&gt;</font>
</font>
</code></TD></TR></TABLE></DIV></TD></TR></TABLE>
     <DIV  CLASS="warning"><P></P><TABLE  CLASS="warning" BORDER="1" WIDTH="100%"><TR><TD  ALIGN="CENTER"><B>警告</B></TD></TR><TR><TD  ALIGN="LEFT"><P>&#13;        UDP sockets will sometimes appear to have opened without an error,
        even if the remote host is unreachable.  The error will only
        become apparent when you read or write data to/from the socket.
        The reason for this is because UDP is a "connectionless" protocol,
        which means that the operating system does not try to establish
        a link for the socket until it actually needs to send or receive data.
      </P></TD></TR></TABLE></DIV>
    </P><DIV  CLASS="note"><BLOCKQUOTE  CLASS="note"><P><B>注: </B>当指定数字的
IPv6 地址（例如 fe80::1）时必须将 IP 地址放在方括号内。例如
<VAR  CLASS="literal">tcp://[fe80::1]:80</VAR>。</P></BLOCKQUOTE></DIV><P>&#13;     See also <A  HREF="function.stream-socket-server.html"><B  CLASS="function">stream_socket_server()</B></A>, 
     <A  HREF="function.stream-set-blocking.html"><B  CLASS="function">stream_set_blocking()</B></A>,
     <A  HREF="function.stream-set-timeout.html"><B  CLASS="function">stream_set_timeout()</B></A>, 
     <A  HREF="function.stream-select.html"><B  CLASS="function">stream_select()</B></A>, 
     <A  HREF="function.fgets.html"><B  CLASS="function">fgets()</B></A>,
     <A  HREF="function.fgetss.html"><B  CLASS="function">fgetss()</B></A>, <A  HREF="function.fwrite.html"><B  CLASS="function">fwrite()</B></A>,
     <A  HREF="function.fclose.html"><B  CLASS="function">fclose()</B></A>, <A  HREF="function.feof.html"><B  CLASS="function">feof()</B></A>, and
     the <A  HREF="ref.curl.html">Curl extension</A>.
    </P></DIV><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE  SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0"><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top"><A  HREF="function.stream-socket-accept.html" ACCESSKEY="P">后退</A></TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="index.html" ACCESSKEY="H">起点</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top"><A  HREF="function.stream-socket-enable-crypto.html" ACCESSKEY="N">前进</A></TD></TR><TR><TD  WIDTH="33%" ALIGN="left" VALIGN="top">stream_socket_accept</TD><TD  WIDTH="34%" ALIGN="center" VALIGN="top"><A  HREF="ref.stream.html" ACCESSKEY="U">上一级</A></TD><TD  WIDTH="33%" ALIGN="right" VALIGN="top">stream_socket_enable_crypto</TD></TR></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE>

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
