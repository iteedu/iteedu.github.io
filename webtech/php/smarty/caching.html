<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->



<DIV CLASS="NAVHEADER">
<TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0">
<TR>
<TH COLSPAN="3" ALIGN="center">Smarty - the compiling PHP template engine</TH>
</TR>
<TR>
<TD WIDTH="25%" ALIGN="left" VALIGN="bottom">
<A HREF="api.unregister.resource.html" ACCESSKEY="P">Prev</A>　
</TD>
<TD WIDTH="50%" ALIGN="center" VALIGN="bottom">
</TD>
<TD WIDTH="25%" ALIGN="right" VALIGN="bottom">
<A HREF="caching.multiple.caches.html" ACCESSKEY="N">Next</A>
</TD>
</TR>
</TABLE>
<HR ALIGN="LEFT" WIDTH="100%">
</DIV>
<DIV CLASS="CHAPTER">
<H1>
<A NAME="CACHING">
</A>Chapter 14. Caching [缓存]</H1>
 <DIV CLASS="TOC"> 
 <DL> 
 <DT>
<B>Table of Contents</B> [内容列表]</DT>
 <DT>
<A HREF="caching.html#CACHING.SETTING.UP">Setting Up Caching</A> [建立缓存]</DT>
 <DT>
<A HREF="caching.multiple.caches.html">Multiple Caches Per Page</A> [每页多个缓存]</DT>
 <DT>
<A HREF="caching.groups.html">Cache Groups</A> [缓存集合]</DT>
 <DT>
<A HREF="caching.cacheable.html">Controlling Cacheability of Plugins' Output</A> [控制插件输出的缓冲能力]</DT>
 </DL>
 </DIV>
 <P> Caching is used to speed up a call to <A HREF="api.display.html">display()</A> or <A HREF="api.fetch.html">fetch()</A> by saving its output to a file. If a cached version of the call is available, 
 that is displayed instead of regenerating the output. Caching can speed things 
 up tremendously, especially templates with longer computation times. Since 
 the output of display() or fetch() is cached, one cache file could conceivably 
 be made up of several template files, config files, etc.<br>缓存被用来保存一个文档的输出从而加速display()或fetch()函数的执行。如果一个函数被加进缓存，那么实际输出的内容将用缓存来代替。缓存可让事物非常快速的执行，特别是带有长计算时间的模板。一旦display()或fetch()用缓存输出，那么一个缓存文档将非常容易用几个模板文档或是配置文档等来组成〔功力不小〕。</P>
 <P> Since templates are dynamic, it is important to be careful what you are caching 
 and for how long. For instance, if you are displaying the front page of your 
 website that does not change its content very often, it might work well to 
 cache this page for an hour or more. On the other hand, if you are displaying 
 a page with a weather map containing new information by the minute, it would 
 not make sense to cache this page.<br>一旦模板是动态〔应该不难理解〕的，哪些文档你加了缓存，缓存时间多长都是很重要的。举个例子，比如你站点的首页内容不是经常更改，那么对首页缓存一个小时或是更长都可得到很好效果。相反，几分钟就要更新一下信息的天气地图页面，用缓存就不好了。</P>
 <DIV CLASS="SECT1">
 <H1 CLASS="SECT1">
<A NAME="CACHING.SETTING.UP">
</A>Setting Up Caching [建立缓存]</H1>
 <P> The first thing to do is enable caching. This is done by setting <A HREF="variable.caching.html">$caching</A> = true (or 1.)<br>
 首先要做的就是让缓存可用。这就要设置$caching = true(或 1.) </P>
 <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE">
<TR>
<TD>
<DIV CLASS="EXAMPLE">
<A NAME="AEN3669">
</A>
 <P>
<B>Example 14-1. enabling caching<BR/>
 例14-1.使缓存可用</B>
</P>
 <TABLE BORDER="0" BGCOLOR="#E0E0E0" WIDTH="100%">
<TR>
<TD>
<pre class="code">require('Smarty.class.html');
$smarty = new Smarty;

$smarty-&#62;caching = true;

$smarty-&#62;display('index.tpl');</PRE>
</TD>
</TR>
</TABLE>
</DIV>
</TD>
</TR>
</TABLE>
 <P> With caching enabled, the function call to display('index.tpl') will render 
 the template as usual, but also saves a copy of its output to a file (a 
 cached copy) in the <A HREF="variable.cache.dir.html">$cache_dir</A>. Upon the next call to display('index.tpl'), the cached copy will be used instead 
 of rendering the template again.<br>
 建立缓存后，display('index.tpl')函数会把模板返回原来状态〔没缓存〕，也会把输出保存copy〖n.名词〗到$cache_dir.下次调用display('index.tpl')，保存的缓存copy〖n.〗会被再用来代替原来的模板。</P>
 <DIV CLASS="NOTE">
 <BLOCKQUOTE CLASS="NOTE"> 
 <P>
<B>Technical Note: </B> The files in the $cache_dir are named similar to the template name. Although 
 they end in the ".html" extention, they are not really executable php 
 scripts. Do not edit these files! <br>
 技术提示：在$chche_dir目录里的文档命名跟模板一致。尽管是用.html作为扩展名，但并不会被当作php代码来解析。所以不要去修改它。</P>
 </BLOCKQUOTE>
</DIV>
 <P> Each cached page has a limited lifetime determined by <A HREF="variable.cache.lifetime.html">$cache_lifetime</A>. The default value is 3600 seconds, or 1 hour. After that time expires, the 
 cache is regenerated. It is possible to give individual caches their own 
 expiration time by setting $caching = 2. See the documentation on <A HREF="variable.cache.lifetime.html">$cache_lifetime</A> for details. <br>
 每个缓存页都有一个用<A HREF="variable.cache.lifetime.html">$cache_lifetime</A>来控制的会话期。初始值是3600秒，就是一小时〔废话嘛〕。会话期结束，缓存就会重建。你可以通过设置$caching=2来控制单个缓存文件各自的的过期时间。祥细内容察看<A HREF="variable.cache.lifetime.html">$cache_lifetime</A>里面的列表。</P>
 <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE">
<TR>
<TD>
 <DIV CLASS="EXAMPLE">
<A NAME="AEN3680">
</A> 
 <P>
<B>Example 14-2. setting cache_lifetime per cache<br>
 例14-2 设置单个缓存会话期〔时间〕 </B>
</P>
 <TABLE BORDER="0" BGCOLOR="#E0E0E0" WIDTH="100%">
<TR>
 <TD> 
 <pre class="code">require('Smarty.class.html');
$smarty = new Smarty;

$smarty-&#62;caching = 2; // lifetime is per cache

// set the cache_lifetime for index.tpl to 5 minutes
$smarty-&#62;cache_lifetime = 300;
$smarty-&#62;display('index.tpl');

// set the cache_lifetime for home.tpl to 1 hour
$smarty-&#62;cache_lifetime = 3600;
$smarty-&#62;display('home.tpl');


// NOTE: the following $cache_lifetime setting will not work when $caching = 2.<br>//提示：在$chching=2后面的$chche_lifetime不会起作用。<br>// The cache lifetime for home.tpl has already been set<br>// to 1 hour, and will no longer respect the value of $cache_lifetime.<br>// home.tpl的缓存会话期设为1小时后，不会再按$cache_lifetime的值改变。<br>// The home.tpl cache will still expire after 1 hour.<br>// home.tpl的缓存会在1小时后结束。$smarty-&gt;cache_lifetime = 30; // 30 seconds<br>$smarty-&gt;display('home.tpl');</PRE>
 </TD>
</TR>
</TABLE>
</DIV>
</TD>
</TR>
</TABLE>
 <P> If <A HREF="variable.compile.check.html">$compile_check</A> is enabled, every template file and config file that is involved with the cache 
 file is checked for modification. If any of the files have been modified 
 since the cache was generated, the cache is immediately regenerated. This 
 is a slight overhead so for optimum performance, leave $compile_check set 
 to false. <br>
 如果<A HREF="variable.compile.check.html">$compile_check</A>可用，每个跟缓存文档相关的模板文档和配置文档都会被检查来确定是否需要修改。在缓存产生后，改动任何文档，缓存也跟着更新改动。设置$compile_check为false，这是实现最佳性能的最小改动〔应该是这样:D〕。</P>
 <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE">
<TR>
<TD>
 <DIV CLASS="EXAMPLE">
<A NAME="AEN3685">
</A> 
 <P>
<B>Example 14-3. enabling $compile_check<br>
 例14-3.可用$compile_check </B>
</P>
 <TABLE BORDER="0" BGCOLOR="#E0E0E0" WIDTH="100%">
<TR>
<TD>
<pre class="code">require('Smarty.class.html');
$smarty = new Smarty;

$smarty-&#62;caching = true;
$smarty-&#62;compile_check = true;

$smarty-&#62;display('index.tpl');</PRE>
</TD>
</TR>
</TABLE>
</DIV>
</TD>
</TR>
</TABLE>
 <P> If <A HREF="variable.force.compile.html">$force_compile</A> is enabled, the cache files will always be regenerated. This effectively turns 
 off caching. $force_compile is usually for debugging purposes only, a more 
 efficient way of disabling caching is to set <A HREF="variable.caching.html">$caching</A> = false (or 0.)<br>
 一旦<A HREF="variable.force.compile.html">$force_compile</A>可用，缓存文档会一直重建。这有效地关闭缓存。$force_compile只是用来调试，更有效关闭缓存的方法是让<A HREF="variable.caching.html">$caching</A> = false(或0.) </P>
 <P> The <A HREF="api.is.cached.html">is_cached()</A> function can be used to test if a template has a valid cache or not. If you 
 have a cached template that requires something like a database fetch, you 
 can use this to skip that process.<br>
 <A HREF="api.is.cached.html">is_cached()</A>函数可用来测试一个模板是否有有效的缓存。如果一个缓存模板需要从数据库中获取数据，可以用这个函数来跳过这个过程。 </P>
 <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE">
<TR>
<TD>
 <DIV CLASS="EXAMPLE">
<A NAME="AEN3693">
</A> 
 <P>
<B>Example 14-4. using is_cached()<br>
 例14-4.使用is_cached() </B>
</P>
 <TABLE BORDER="0" BGCOLOR="#E0E0E0" WIDTH="100%">
<TR>
<TD>
<pre class="code">require('Smarty.class.html');
$smarty = new Smarty;

$smarty-&#62;caching = true;

if(!$smarty-&#62;is_cached('index.tpl')) {
	// No cache available, do variable assignments here.
	$contents = get_database_contents();
	$smarty-&#62;assign($contents);
}

$smarty-&#62;display('index.tpl');</PRE>
</TD>
</TR>
</TABLE>
</DIV>
</TD>
</TR>
</TABLE>
 <P> You can keep parts of a page dynamic with the <A HREF="language.function.insert.html">insert</A> template function. Let's say the whole page can be cached except for a banner 
 that is displayed down the right side of the page. By using an insert function 
 for the banner, you can keep this element dynamic within the cached content. 
 See the documentation on <A HREF="language.function.insert.html">insert</A> for details and examples.<br>
 你可以插入模板函数<A HREF="language.function.insert.html">insert</A>来使部分页面动态化。除了在右下方显示的标语外整个页面都可以缓存。在缓存内容里面可以插入函数来使标语也动态化。查看相关文档关于<A HREF="language.function.insert.html">insert</A>的细节和例子。 </P>
 <P> You can clear all the cache files with the <A HREF="api.clear.all.cache.html">clear_all_cache()</A> function, or individual cache files (or groups) with the <A HREF="api.clear.cache.html">clear_cache()</A> function.<br>
 你可以用<A HREF="api.clear.all.cache.html">clear_all_cache()</A>来清除所有缓存，或用<A HREF="api.clear.cache.html">clear_cache()</A>来清除单个缓存文档。 </P>
 <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE">
<TR>
<TD>
 <DIV CLASS="EXAMPLE">
<A NAME="AEN3702">
</A> 
 <P>
<B>Example 14-5. clearing the cache<br>
 例14-5.清除缓存 </B>
</P>
 <TABLE BORDER="0" BGCOLOR="#E0E0E0" WIDTH="100%">
<TR>
<TD>
<pre class="code">require('Smarty.class.html');
$smarty = new Smarty;

$smarty-&#62;caching = true;

// clear out all cache files
$smarty-&#62;clear_all_cache();

// clear only cache for index.tpl
$smarty-&#62;clear_cache('index.tpl');

$smarty-&#62;display('index.tpl');</PRE>
</TD>
</TR>
</TABLE>
</DIV>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
<DIV CLASS="NAVFOOTER">
<HR ALIGN="LEFT" WIDTH="100%">
<TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0">
<TR>
<TD WIDTH="33%" ALIGN="left" VALIGN="top">
<A HREF="api.unregister.resource.html" ACCESSKEY="P">Prev</A>　
</TD>
<TD WIDTH="34%" ALIGN="center" VALIGN="top">
<A HREF="index.html" ACCESSKEY="H">Home</A>
</TD>
<TD WIDTH="33%" ALIGN="right" VALIGN="top">
<A HREF="caching.multiple.caches.html" ACCESSKEY="N">Next</A>
</TD>
</TR>
<TR>
 <TD WIDTH="33%" ALIGN="left" VALIGN="top"> 
 <p>unregister_resource<br>
 注销资源 <br>
 </p>
 </TD>
 <TD WIDTH="34%" ALIGN="center" VALIGN="top">
<A HREF="smarty.for.programmers.html" ACCESSKEY="U">Up</A>
</TD>
 <TD WIDTH="33%" ALIGN="right" VALIGN="top">Multiple Caches Per Page<br>
 每页多个缓存 </TD>
 </TR>
</TABLE>
</DIV>


<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->