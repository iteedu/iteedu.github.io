<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->
<!--end of htmlmiddle-->



<DIV CLASS="NAVHEADER">
<TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0">
<TR>
<TH COLSPAN="3" ALIGN="center">Smarty - the compiling PHP template engine</TH>
</TR>
<TR>
<TD WIDTH="25%" ALIGN="left" VALIGN="bottom">
<A HREF="caching.groups.html" ACCESSKEY="P">Prev</A>　
</TD>
<TD WIDTH="50%" ALIGN="center" VALIGN="bottom">Chapter 14. Caching</TD>
<TD WIDTH="25%" ALIGN="right" VALIGN="bottom">
<A HREF="advanced.features.html" ACCESSKEY="N">Next</A>
</TD>
</TR>
</TABLE>
<HR ALIGN="LEFT" WIDTH="100%">
</DIV>
<DIV CLASS="SECT1">
 <H1 CLASS="SECT1">
<A NAME="CACHING.CACHEABLE">
</A>Controlling Cacheability of Plugins' Output控制插件输出的缓冲能力</H1>
 <P>Since Smarty-2.6.0 plugins the cacheability of plugins can be declared when registering 
 them. The third parameter to register_block, register_compiler_function and 
 register_function is called <TT CLASS="PARAMETER">
<I>$cacheable</I>
</TT> and defaults to true which is also the behaviour of plugins in Smarty versions 
 before 2.6.0 </P>
 <P>自从Smarty-2.6.0插件以来，如果注册它们，则插件的缓存能力能够被重新声明的。register_block，register_compiler_function 
 和register_function的第3个参数就是$<tt class="PARAMETER">
<i>cacheable ,</i>
</tt>并且它的值默认为true。当然，在2.6.0版本之前它的默认值也是这样的。</P>
 <P>When registering a plugin with $cacheable=false the plugin is called everytime 
 the page is displayed, even if the page comes from the cache. The plugin function 
 behaves a little like an <A HREF="plugins.inserts.html">insert</A> function. </P>
 <P>当用$cacheable=false来这册一个插件，则每次这个页面被输出的时候，这个插件就会被使用，即使这个页面来自缓存。这个插件函数的行为有点像这个函数<a href="plugins.inserts.html">insert</a>。</P>
 <P>In contrast to <A HREF="language.function.insert.html">{insert}</A> the attributes to the plugins are not cached by default. They can be declared 
 to be cached with the fourth parameter <TT CLASS="PARAMETER">
<I>$cache_attrs</I>
</TT>. <TT CLASS="PARAMETER">
<I>$cache_attrs</I>
</TT> is an array of attribute-names that should be cached, so the plugin-function 
 get value as it was the time the page was written to cache everytime it is 
 fetched from the cache. </P>
 <P>和<A HREF="language.function.insert.html">{insert}</A>相反，插件的属性默认是不缓存的。通过使用第四个参数<tt class="PARAMETER">
<i>$cache_attrs</i>
</tt>，它们能够被重新声明为缓存的。<tt class="PARAMETER">
<i>$cache_attrs </i>
</tt>是一个属性名字的数组，可以被缓存，所以每次当它被从缓存中取出的时候，这个插件函数获得值-----因为这个页面会被写入用来缓存。</P>
 <TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE">
<TR>
<TD>
<DIV CLASS="EXAMPLE">
<A NAME="AEN3745">
</A>
 <P>
<B>Example 14-10. Preventing a plugin's output from being cached</B>
</P>
 <P>
<B>例14-10.阻止插件从缓存中输出</B>
</P>
 <TABLE BORDER="0" BGCOLOR="#E0E0E0" WIDTH="100%">
<TR>
<TD>
<pre class="code">index.html:

require('Smarty.class.html');
$smarty = new Smarty;
$smarty-&#62;caching = true;

function remaining_seconds($params, &amp;$smarty) {
 $remain = $params['endtime'] - time();
 if ($remain &#62;=0)
 return $remain . " second(s)";
 else
 return "done";
}

$smarty-&#62;register_function('remaining', 'remaining_seconds', false, array('endtime'));

if (!$smarty-&#62;is_cached('index.tpl')) {
 // fetch $obj from db and assign...
 $smarty-&#62;assign_by_ref('obj', $obj);
}

$smarty-&#62;display('index.tpl');


index.tpl:

Time Remaining: {remain endtime=$obj-&#62;endtime}</PRE>
</TD>
</TR>
</TABLE>
 <P>The number of seconds till the endtime of $obj is reached changes on each display 
 of the page, even if the page is cached. Since the endtime attribute 
 is cached the object only has to be pulled from the database when 
 page is written to the cache but not on subsequent requests of the 
 page. </P>
 <P>直到$obj运行结束，时间的秒数在每一个页面输出的时候会改变，即使这个页面被缓存。只要结束时间属性被缓存，当页面被写入到缓存但是没有对这个页面接着的请求的时候对象只是不得不重新从数据库里取出而已。</P>
 <P>&nbsp; </P>
 </DIV>
</TD>
</TR>
</TABLE>
<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" CLASS="EXAMPLE">
<TR>
<TD>
<DIV CLASS="EXAMPLE">
<A NAME="AEN3749">
</A>
 <P>
<B>Example 14-11. Preventing a whole passage of a template from being cached</B>
</P>
 <P>
<B>例14-11.阻止一个模板文件的</B>
<B>整篇被缓存</B>
</P>
 <TABLE BORDER="0" BGCOLOR="#E0E0E0" WIDTH="100%">
<TR>
<TD>
<pre class="code">index.html:

require('Smarty.class.html');
$smarty = new Smarty;
$smarty-&#62;caching = true;

function smarty_block_dynamic($param, $content, &amp;$smarty) {
 return $content;
}
$smarty-&#62;register_block('dynamic', 'smarty_block_dynamic', false);

$smarty-&#62;display('index.tpl');


index.tpl:

Page created: {"0"|date_format:"%D %H:%M:%S"}

{dynamic}

Now is: {"0"|date_format:"%D %H:%M:%S"}

... do other stuff ...

{/dynamic}</PRE>
</TD>
</TR>
</TABLE>
</DIV>
</TD>
</TR>
</TABLE>
 <P>When reloading the page you will notice that both dates differ. One is "dynamic" 
 one is "static". You can do everything between {dynamic}...{/dynamic} and 
 be sure it will not be cached like the rest of the page. </P>
 <P>当重新加载这个页面，你将会注意到这两个日期不同。一个是“动态“，一个是“静态”。你能够在{dynamic}...{/dynamic}之间作任何事情，并且保证它将不会像剩下的页面一样被缓存。</P>
</DIV>
<DIV CLASS="NAVFOOTER">
<HR ALIGN="LEFT" WIDTH="100%">
<TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0">
<TR>
<TD WIDTH="33%" ALIGN="left" VALIGN="top">
<A HREF="caching.groups.html" ACCESSKEY="P">Prev</A>　
</TD>
<TD WIDTH="34%" ALIGN="center" VALIGN="top">
<A HREF="index.html" ACCESSKEY="H">Home</A>
</TD>
<TD WIDTH="33%" ALIGN="right" VALIGN="top">
<A HREF="advanced.features.html" ACCESSKEY="N">Next</A>
</TD>
</TR>
<TR>
<TD WIDTH="33%" ALIGN="left" VALIGN="top">
<p>Cache Groups</p>
 <p>[缓存集合]</p>
</TD>
<TD WIDTH="34%" ALIGN="center" VALIGN="top">
<A HREF="caching.html" ACCESSKEY="U">Up</A>
</TD>
 <TD WIDTH="33%" ALIGN="right" VALIGN="top">
<p>Advanced Features</p>
 <p>[高级特征]</p>
</TD>
 </TR>
</TABLE>
</DIV>


<!--start of htmlend-->

<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->