<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->


<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->





        
<div class=WordSection5 style='layout-grid:15.6pt'><br clear=all
style='page-break-before:always'>

<p class=MsoNormal align=center style='text-align:center'><a name=adb><b>adb</b></a></p>





<p class=MsoNormal align=center style='text-align:center'>版本：Android 2.3 r1</p>

<p class=a0 style='text-indent:0cm'><b>原文</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://developer.android.com/guide/developing/tools/adb.html
</p>

<p class=MsoNormal align=left style='text-align:left'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left'><b>Android Debug Bridge</b></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'>Android调试桥接器，简称adb，是用于管理模拟器或真机状态的万能工具，采用了客户端-服务器模型，包括三个部分：</p>

<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'>l&nbsp; 客户端部分，运行在开发用的电脑上，可以在命令行中运行adb命令来调用该客户端，像ADB插件和DDMS这样的Android工具也可以调用adb客户端。</p>

<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'>l&nbsp; 服务端部分，是运行在开发用电脑上的后台进程，用于管理客户端与运行在模拟器或真机的守护进程通信。</p>

<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'>l&nbsp; 守护进程部分，运行于模拟器或手机的后台。</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'>当启动adb客户端时，客户端首先检测adb服务端进程是否运行，如果没有运行，则启动服务端。当服务端启动时，它会绑定到本地的TCP5037端口，并且监听从adb客户端发来的命令——所有的adb客户端都使用5037端口与adb服务端通信。</p>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'>接下来服务端与所有正在运行的模拟器或手机连接。它通过扫描5555-5585之间的奇数号端口来搜索模拟器或手机，一旦发现adb守护进程，就通过此端口进行连接。需要说明的是，每一个模拟器或手机使用一对有序的端口，偶数号端口用于控制台连接，奇数号端口用于adb连接，例如：</p>

<p class=MsoNormal align=left style='margin-left:10.5pt;text-align:left;
text-indent:21.0pt'>Emulator 1, console: 5554</p>

<p class=MsoNormal align=left style='margin-left:10.5pt;text-align:left;
text-indent:21.0pt'>Emulator 1, adb: 5555</p>

<p class=MsoNormal align=left style='margin-left:10.5pt;text-align:left;
text-indent:21.0pt'>Emulator 2, console: 5556</p>

<p class=MsoNormal align=left style='margin-left:10.5pt;text-align:left;
text-indent:21.0pt'>Emulator 2, adb: 5557 ...</p>

<p class=MsoNormal align=left style='text-align:left'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 即如果模拟器与adb在5555端口连接，则其与控制台的连接就是5554端口。</p>

<p class=MsoNormal align=left style='text-align:left'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 当服务端与所有的模拟器建立连接之后，就可以使用adb命令来控制或者访问了。因为服务端管理着连接并且可以接收到从多个adb客户端的命令，所以可以从任何一个客户端或脚本来控制任何模拟器或手机设备。</p>

<p class=MsoNormal align=left style='text-align:left'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 下文介绍了可以用来管理模拟器或手机的这些adb命令。如果是在Eclipse并且安装了ADT插件的环境下开发Android应用程序，就不需要从命令行使用adb了，ADT插件已经提供了透明的集成。不过，还是可以在调试等需要的时候直接使用adb。</p>

<p class=MsoNormal align=left style='text-align:left'>&nbsp;</p>

<p class=MsoNormal align=left style='text-align:left'><b>使用</b><b>adb</b><b>命令</b></p>

<p class=MsoNormal align=left style='text-align:left'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 从开发用电脑的命令行或脚本文件中使用adb命令的用法是：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 0cm;
background:#FAFAFA;margin-left:12.0pt;margin-right:0cm'><pre style='background:
#FAFAFA;border:none;padding:0cm'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; adb [-d|-e|-s &lt;serialNumber&gt;] &lt;command&gt;</pre></div>

<p class=MsoNormal align=left style='text-align:left'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 当使用的时候，程序会调用adb客户端。因为adb客户端不需要关联到任何模拟器，所以如果有多个模拟器或手机正在运行，就需要使用-d参数指定要操作的是哪一个，更多关于这些选项参数的使用可以参见Android
Asset Packaging Tool (aapt).</p>

<p class=a0>注意，如果使用了安装有ADT插件的Eclipse开发环境，就不需要直接使用adb或aapt命令来安装应用程序了，ADT插件可以自动完成这些操作。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>转发端口</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 可以使用forward 命令转发端口 — 将特定端口上的请求转发到模拟器或手机的不同的端口上。下例是从6100端口转到7100端口：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:12.0pt;margin-right:0cm'><pre style='background:
#FAFAFA;border:none;padding:0cm'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; adb forward tcp:6100 tcp:7100</pre></div>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 也可以使用UNIX命名的socket标识：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:12.0pt;margin-right:0cm'><pre style='background:
#FAFAFA;border:none;padding:0cm'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; adb forward tcp:6100 local:logd </pre></div>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>与模拟器或手机传输文件</b></p>

<p class=a0>可以使用adb的 pull 和 push 命令从模拟器或手机中复制文件，或者将文件复制到模拟器或手机中。与
install 命令不同，它仅能复制.apk文件到特定的位置，
pull 和 push 命令可以复制任意文件夹和文件到模拟器或手机的任何位置。</p>

<p class=a0>从模拟器或手机中复制一个文件或文件夹（递归的）使用：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:12.0pt;margin-right:0cm'><pre style='background:
#FAFAFA;border:none;padding:0cm'>adb pull &lt;remote&gt; &lt;local&gt;</pre></div>

<p class=a0>复制一个文件或文件夹（递归的）到模拟器或手机中使用：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:12.0pt;margin-right:0cm'><pre style='background:
#FAFAFA;border:none;padding:0cm'>adb push &lt;local&gt; &lt;remote&gt;</pre></div>

<p class=a0>在这个命令中&lt;local&gt;和&lt;remote&gt;引用的是文件或文件夹的路径，在开发用电脑上的是local，在模拟器或手机上的是remote。</p>

<p class=a0>例如：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:12.0pt;margin-right:0cm'><pre style='background:
#FAFAFA;border:none;padding:0cm'>adb push foo.txt /sdcard/foo.txt</pre></div>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>adb</b><b>命令列表</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 下表列出了所有adb支持的命令及其说明：</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=567
 style='margin-left:26.7pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=85 valign=top style='width:63.75pt;border:solid black 1.0pt;
  border-right:solid windowtext 1.0pt;background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>类别</p>
  </td>
  <td width=123 valign=top style='width:92.15pt;border:solid black 1.0pt;
  border-left:none;background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>命令</p>
  </td>
  <td width=142 valign=top style='width:106.3pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>说明</p>
  </td>
  <td width=217 valign=top style='width:163.05pt;border:solid black 1.0pt;
  border-left:none;background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>备注</p>
  </td>
 </tr>
 <tr>
  <td width=85 rowspan=3 style='width:63.75pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>可选项</p>
  </td>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>-d</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>命令仅对USB设备有效</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>如果有多个USB设备就会返回错误</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>-e</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>命令仅对运行中的模拟器有效</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>如果有多个运行中的模拟器就会返回错误</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>-s &lt;serialNumber&gt;</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>命令仅对adb关联的特定序列号的模拟器或手机有效(例如 &quot;emulator-5556&quot;).</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>如果不指定设备就会返回错误</p>
  </td>
 </tr>
 <tr>
  <td width=85 rowspan=3 style='width:63.75pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>一般项</p>
  </td>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>devices</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>输出所有关联的模拟器或手机设备列表</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>参见 Querying
  for Emulator/Device Instances 以获得更多信息。</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>help</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>输出adb支持的命令</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>version</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>输出adb的版本号</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=85 rowspan=3 style='width:63.75pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>调试项</p>
  </td>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>logcat [&lt;option&gt;] [&lt;filter-specs&gt;]</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>在屏幕上输出日志信息</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>bugreport</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>为报告bug，在屏幕上输出dumpsys， dumpstate和 logcat数据</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>jdwp</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>输出有效的JDWP进程信息</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>可以使用 forward
  jdwp:&lt;pid&gt; 转换端口以连接到指定的 JDWP 进程，例如：</p>
  <p class=MsoNormal align=center style='text-align:center'>adb forward tcp:8000 jdwp:472</p>
  <p class=MsoNormal align=center style='text-align:center'>jdb -attach localhost:8000</p>
  </td>
 </tr>
 <tr>
  <td width=85 rowspan=3 style='width:63.75pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>数据项</p>
  </td>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>install &lt;path-to-apk&gt;</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>安装应用程序（用完整路径指定.apk文件）</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>pull &lt;remote&gt; &lt;local&gt;</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>从开发机COPY指定的文件到模拟器或手机</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>push &lt;local&gt; &lt;remote&gt;</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>从模拟器或手机COPY文件到开发机</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=85 rowspan=2 style='width:63.75pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>端口和网络项</p>
  </td>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>forward &lt;local&gt; &lt;remote&gt;</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>从本地端口转换连接到模拟器或手机的指定端口</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>端口可以使用以下格式表示：</p>
  <p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt'>l&nbsp;
  tcp:&lt;portnum&gt;</p>
  <p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt'>l&nbsp;
  local:&lt;UNIX domain socket name&gt;</p>
  <p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt'>l&nbsp;
  dev:&lt;character device name&gt;</p>
  <p class=MsoNormal style='margin-left:42.0pt;text-indent:-21.0pt'>l&nbsp;
  jdwp:&lt;pid&gt;</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>ppp &lt;tty&gt; [parm]...</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>通过USB运行UPP</p>
  <p class=MsoNormal align=center style='margin-left:21.0pt;text-align:center;
  text-indent:-21.0pt'>l&nbsp; &lt;tty&gt; —PPP流中的tty。例如:/dev/omap_csmi_ttyl。</p>
  <p class=MsoNormal style='margin-left:21.0pt;text-indent:-21.0pt'>l&nbsp;
  [parm]... — 0到多个PPP/PPPD 选项, 例如 defaultroute, local, notty等等。</p>
  <p class=MsoNormal>注意不用自动启动PPP连接</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=85 rowspan=3 style='width:63.75pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>脚本项</p>
  </td>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>get-serialno</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>输出adb对象的序列号</p>
  </td>
  <td width=217 rowspan=2 style='width:163.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>参见 Querying
  for Emulator/Device Instances以获得更多信息。</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>get-state</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>输出adb设备的状态</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>wait-for-device</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>阻塞执行直到设备已经连接，即设备状态是 device.</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>可以在其他命令前加上此项，那样的话adb就会等到模拟器或手机设备已经连接才会执行命令，例如:</p>
  <p class=MsoNormal align=center style='text-align:center'><img
  border=0 width=212 height=33
  src="images/image002.jpg"></p>
  <p class=MsoNormal align=center style='text-align:center'>注意该命令并不等待系统完全启动，因此不能追加需要在系统完全启动才能执行的命令，例如install 命令需要Android包管理器支持，但它必须在系统完全启动后才有效。下面的命令</p>
  <p class=MsoNormal align=center style='text-align:center'><img
  border=0 width=212 height=31
  src="images/image003.jpg"></p>
  <p class=MsoNormal align=center style='text-align:center'>会在模拟器或手机与adb发生连接后就执行install，但系统还没有完全启动，所以会引起错误。</p>
  </td>
 </tr>
 <tr>
  <td width=85 rowspan=2 style='width:63.75pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>服务端项</p>
  </td>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>start-server</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>检测adb服务进程是否启动，如果没启动则启动它。</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>kill-server</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>终止服务端进程</p>
  </td>
  <td width=217 style='width:163.05pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=85 rowspan=2 style='width:63.75pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>Shell</p>
  </td>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>shell</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>在目标模拟器或手机上启动远程SHELL</p>
  </td>
  <td width=217 rowspan=2 style='width:163.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>参见 Issuing
  Shell Commands以获得更多信息。</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>shell [&lt;shellCommand&gt;]</p>
  </td>
  <td width=142 style='width:106.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>在目标模拟器或手机上执行shellCommand然后退出远程SHELL</p>
  </td>
 </tr>
</table>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>执行Shell命令</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; Adb提供了shell来在模拟器或手机上运行各种各样的命令，这些命令的二进制形式存在于这个路径中：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:12.0pt;background:#FAFAFA;border:none;padding:0cm'>/system/bin/...</pre></div>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 无论是否进入adb远程shell，都可以使用
shell 命令来执。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 在未进入远程shell的情况下可以按下述格式执行单条命令：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:12.0pt;background:#FAFAFA;border:none;padding:0cm'>adb [-d|-e|-s {&lt;serialNumber&gt;}] shell &lt;shellCommand&gt;</pre></div>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 启动远程shell使用下面的格式：&nbsp; </p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:6.0pt;background:#FAFAFA;border:none;padding:0cm'>adb [-d|-e|-s {&lt;serialNumber&gt;}] shell</pre></div>

<p class=a0>退出远程shell时使用CTRL+D 或 exit 终止会话。</p>

<p class=a0>以下是可以使用的shell命令的更多信息。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>从远程shell检查sqlite3 数据库</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 通过远程shell，可以使用UI/Application Exerciser Monkey。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>其他Shell命令</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 下表列出了很多有效的adb shell命令，完整的列表可以通过启动模拟器并且使用adb –help命令获取。</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.85pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:12.0pt;background:#FAFAFA;border:none;padding:0cm'>adb shell ls /system/bin</pre></div>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 帮助对于大部分命令是有效的。</p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=482
 style='margin-left:26.7pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=123 valign=top style='width:92.15pt;border:solid black 1.0pt;
  border-left:solid windowtext 1.0pt;background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>Shell
  命令</p>
  </td>
  <td width=132 valign=top style='width:99.25pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>描述</p>
  </td>
  <td width=227 valign=top style='width:6.0cm;border:solid black 1.0pt;
  border-left:none;background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>备注</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>dumpsys</p>
  </td>
  <td width=132 style='width:99.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>在屏幕上显示系统数据</p>
  </td>
  <td width=227 rowspan=4 style='width:6.0cm;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>The
  Dalvik
  Debug Monitor Service (DDMS) 工具提供了更易于使用的智能的调试环境。</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>dumpstate</p>
  </td>
  <td width=132 style='width:99.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>将状态输出到文件</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>logcat [&lt;option&gt;]... [&lt;filter-spec&gt;]...</p>
  </td>
  <td width=132 style='width:99.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>输出日志信息 </p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>dmesg</p>
  </td>
  <td width=132 style='width:99.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>在屏幕上输出核心调试信息</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>start</p>
  </td>
  <td width=132 style='width:99.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>启动或重新启动模拟器或手机</p>
  </td>
  <td width=227 style='width:6.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>stop</p>
  </td>
  <td width=132 style='width:99.25pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>停止模拟器或手机</p>
  </td>
  <td width=227 style='width:6.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>
  </td>
 </tr>
</table>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>使用logcat查看日志</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; Android日志系统提供了从众多应用程序和系统程序中收集和查看调试信息的机制，这些信息被收集到一系统循环缓冲区中，可以 logcat 命令查看和过滤。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>使用 logcat 命令</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 查看和跟踪系统日志缓冲区的命令logcat的一般用法是：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.85pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:18.0pt;background:#FAFAFA;border:none;padding:0cm'>[adb] logcat [&lt;option&gt;] ... [&lt;filter-spec&gt;] ...</pre></div>

<p class=a0>下文介绍过滤器和命令选项，详细内容可参见Listing
of logcat Command Options。</p>

<p class=a0>可以在开发机中通过远程shell的方式使用logcat命令查看日志输出：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:18.0pt;background:#FAFAFA;border:none;padding:0cm'>$ adb logcat</pre></div>

<p class=a0>如果是在远程shell中可直接使用命令：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:18.0pt;background:#FAFAFA;border:none;padding:0cm'># logcat</pre></div>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>过滤日志输出</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 每一条日志消息都有一个标记和优先级与其关联。</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
标记是一个简短的字符串，用于标识原始消息的来源
(例如&quot;View&quot;
来源于显示系统)。</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
优先级是下面的字符，顺序是从低到高：</p>

<p class=a0 style='margin-left:63.0pt;text-indent:-21.0pt;line-height:normal'>n&nbsp;
V
— 明细 (最低优先级)</p>

<p class=a0 style='margin-left:63.0pt;text-indent:-21.0pt;line-height:normal'>n&nbsp;
D
— 调试</p>

<p class=a0 style='margin-left:63.0pt;text-indent:-21.0pt;line-height:normal'>n&nbsp;
I
— 信息</p>

<p class=a0 style='margin-left:63.0pt;text-indent:-21.0pt;line-height:normal'>n&nbsp;
W
— 警告</p>

<p class=a0 style='margin-left:63.0pt;text-indent:-21.0pt;line-height:normal'>n&nbsp;
E —
错误</p>

<p class=a0 style='margin-left:63.0pt;text-indent:-21.0pt;line-height:normal'>n&nbsp;
F
— 严重错误</p>

<p class=a0 style='margin-left:63.0pt;text-indent:-21.0pt;line-height:normal'>n&nbsp;
S
— 无记载 (最高优先级，没有什么会被记载)</p>

<p class=a0>通过运行logcat ，可以获得一个系统中使用的标记和优先级的列表，观察列表的前两列，给出的格式是&lt;priority&gt;/&lt;tag&gt;。</p>

<p class=a0>这里是一个日志输出的消息，优先级是“I”，标记是“ActivityManager”：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.9pt;margin-right:0cm'><pre style='background:
#FAFAFA;border:none;padding:0cm'>I/ActivityManager( &nbsp;585): Starting activity: Intent { action=android.intent.action...}</pre></div>

<p class=a0>如果想要减少输出的内容，可以加上过滤器表达式进行限制，过滤器可以限制系统只输出感兴趣的标记-优先级组合。</p>

<p class=a0>过滤器表达式的格式是tag:priority ... ，其中tag是标记， priority是最小的优先级，
该标记标识的所有大于等于指定优先级的消息被写入日志。也可以在一个过滤器表达式中提供多个这样的过滤，它们之间用空格隔开。</p>

<p class=a0>下面给出的例子是仅输出标记为“ActivityManager”并且优先级大于等于“Info”和标记为“MyApp”并且优先级大于等于“Debug”的日志：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.85pt;margin-right:0cm'>

<p class=MsoNormal align=left style='margin-left:0cm;text-align:left;
text-indent:18.0pt;background:#FAFAFA;border:none;padding:0cm'>adb
logcat ActivityManager:I MyApp:D *:S</p>

</div>

<p class=a0>上述表达式最后的&nbsp;<code>*:S</code>
用于设置所有标记的日志优先级为S，这样可以确保仅有标记为“View”（译者注：应该为ActivityManager，原文可能是笔误）和“MyApp”的日志被输出，使用&nbsp;<code>*:S</code>&nbsp;是可以确保输出符合指定的过滤器设置的一种推荐的方式，这样过滤器就成为了日志输出的“白名单”。</p>

<p class=a0>下面的表达是显示所有优先级大于等于“warning”的日志：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'>

<p class=MsoNormal align=left style='margin-left:0cm;text-align:left;
text-indent:18.0pt;background:#FAFAFA;border:none;padding:0cm'>adb
logcat *:W</p>

</div>

<p class=a0>如果在开发用电脑上运行&nbsp;<code>logcat</code>&nbsp; (相对于运行运程shell而言)，也可以通过<code>ANDROID_LOG_TAGS</code>环境变量设置默认的过滤器表达式：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'>

<p class=MsoNormal align=left style='margin-left:0cm;text-align:left;
text-indent:18.0pt;background:#FAFAFA;border:none;padding:0cm'>export
ANDROID_LOG_TAGS=&quot;ActivityManager:I MyApp:D
*:S&quot;</p>

</div>

<p class=a0>需要注意的是，如果是在远程shell或是使用<code>adb shell logcat</code> 命令运行<code>logcat</code> ，&nbsp;<code>ANDROID_LOG_TAGS</code>&nbsp;不会导出到模拟器或手机设备上。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>控制日志格式</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 日志消息在标记和优先级之外还有很多元数据字段，这些字段可以通过修改输出格式来控制输出结果，&nbsp;<code>-v</code>&nbsp;选项加上下面列出的内容可以控制输出字段：</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
brief — 显示优先级/标记和原始进程的PID
(默认格式)</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
process — 仅显示进程PID</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
tag — 仅显示优先级/标记</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
thread — 仅显示进程：线程和优先级/标记</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
raw — 显示原始的日志信息，没有其他的元数据字段</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
time — 显示日期，调用时间，优先级/标记，PID</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
long —显示所有的元数据字段并且用空行分隔消息内容</p>

<p class=a0 style='margin-left:21.0pt;text-indent:0cm'>可以使用&nbsp;<code>-v</code>启动&nbsp;<code>logcat</code>来控制日志格式：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:18.0pt;background:#FAFAFA;border:none;padding:0cm'>[adb] logcat [-v &lt;format&gt;]</pre></div>

<p class=a0 style='margin-left:21.0pt;text-indent:0cm'>例如使用&nbsp;<code>thread</code>&nbsp;输出格式：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:18.0pt;background:#FAFAFA;border:none;padding:0cm'>adb logcat -v thread</pre></div>

<p class=a0 style='margin-left:21.0pt;text-indent:0cm'>注意只能在&nbsp;<code>-v</code>&nbsp;选项中指定一种格式。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>Viewing
Alternative Log Buffers</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; Android日志系统为日志消息保持了多个循环缓冲区，而且不是所有的消息都被发送到默认缓冲区，要想查看这些附加的缓冲区，可以使用<code>-b</code>&nbsp;选项，以下是可以指定的缓冲区：</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
radio — 查看包含在无线/电话相关的缓冲区消息</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
events — 查看事件相关的消息</p>

<p class=a0 style='margin-left:42.0pt;text-indent:-21.0pt;line-height:normal'>l&nbsp;
main — 查看主缓冲区
(默认缓冲区)</p>

<p class=a0 style='margin-left:21.0pt;text-indent:0cm'>&nbsp;<code>-</code>b 选项的用法：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:12.0pt;background:#FAFAFA;border:none;padding:0cm'>[adb] logcat [-b &lt;buffer&gt;]</pre></div>

<p class=a0 style='margin-left:21.0pt;text-indent:0cm'>例如查看radio缓冲区：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.95pt;margin-right:0cm'><pre style='margin-left:
0cm;text-indent:18.0pt;background:#FAFAFA;border:none;padding:0cm'>adb logcat -b radio</pre></div>

<p class=a0>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>查看stdout和stderr</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 默认的，Android系统发送&nbsp;<code>stdout</code>&nbsp;和&nbsp;<code>stderr</code>&nbsp;(<code>System.out</code>&nbsp;和&nbsp;<code>System.err</code>) 输出到&nbsp;<code>/dev/null</code>。 在 Dalvik VM进程，可以将输出复制到日志文件，在这种情况下，系统使用&nbsp;<code>stdout</code>&nbsp;和&nbsp;<code>stderr</code>标记写入日志，优先级是<code>I</code>。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 要想使用这种方式获得输出，需要停止运行中的模拟器或手机，然后使用命令&nbsp;<code>setprop</code>&nbsp;来允许输出重定位，示例如下：</p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:29.8pt;margin-right:0cm'><pre style='margin-left:
0cm;background:#FAFAFA;border:none;padding:0cm'>$ adb shell stop</pre><pre
style='margin-left:0cm;background:#FAFAFA;border:none;padding:0cm'>$ adb shell setprop log.redirect-stdio true</pre><pre
style='margin-left:0cm;background:#FAFAFA;border:none;padding:0cm'>$ adb shell start</pre></div>

<p class=a0>系统会保留这一设置直到模拟器或手机退出，也可以在设备中增加<code>/data/local.prop</code>以使得这一设备成为默认配置。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>Logcat</b><b>命令选项列表</b></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=482
 style='margin-left:26.7pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=123 valign=top style='width:92.1pt;border:solid black 1.0pt;
  border-left:solid windowtext 1.0pt;background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>选项</p>
  </td>
  <td width=359 valign=top style='width:269.4pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>描述</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.1pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=a0 align=center style='text-align:center;text-indent:0cm'><code>-b&nbsp;&lt;buffer&gt;</code></p>
  </td>
  <td width=359 style='width:269.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>加载不同的缓冲区日志，例如&nbsp;<code>event</code>&nbsp;或<code>radio</code>。<code>main</code>&nbsp;缓冲区是默认项，参见Viewing
  Alternative Log Buffers.</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.1pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=a0 align=center style='text-align:center;text-indent:0cm'><code>-c</code></p>
  </td>
  <td width=359 style='width:269.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>清空（刷新）所有的日志并且退出</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.1pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=a0 align=center style='text-align:center;text-indent:0cm'><code>-d</code></p>
  </td>
  <td width=359 style='width:269.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>在屏幕上输出日志并退出</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.1pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=a0 align=center style='text-align:center;text-indent:0cm'><code>-f &lt;filename&gt;</code></p>
  </td>
  <td width=359 style='width:269.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>将日志输出到文件&lt;filename&gt;，默认输出是stdout.</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.1pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=a0 align=center style='text-align:center;text-indent:0cm'><code>-g</code></p>
  </td>
  <td width=359 style='width:269.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>输出日志的大小</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.1pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=a0 align=center style='text-align:center;text-indent:0cm'><code>-n &lt;count&gt;</code></p>
  </td>
  <td width=359 style='width:269.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>设置最大的循环数据&lt;count&gt;，默认是4，需要-r选项</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.1pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=a0 align=center style='text-align:center;text-indent:0cm'><code>-r &lt;kbytes&gt;</code></p>
  </td>
  <td width=359 style='width:269.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>每&lt;kbytes&gt;循环日志文件，默认是16，需要&nbsp;<code>-f</code>&nbsp;选项</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.1pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=a0 align=center style='text-align:center;text-indent:0cm'><code>-s</code></p>
  </td>
  <td width=359 style='width:269.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>设置默认的过滤器为无输出</p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.1pt;border-top:none;border-left:solid windowtext 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=a0 align=center style='text-align:center;text-indent:0cm'><code>-v &lt;format&gt;</code></p>
  </td>
  <td width=359 style='width:269.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'>设置输出格式，默认的是<code>brief</code>，支持的格式列表参见Controlling
  Log Output Format.</p>
  </td>
 </tr>
</table>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

<p class=a0 style='text-indent:0cm'><b>停止adb服务</b></p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 在某些情况下，可能需要终止然后重启服务端进程，例如adb不响应命令的时候，可以通过重启解决问题。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;&nbsp;&nbsp; 使用<code>kill-server</code>可以终止服务端，然后使用其他的adb命令重启。</p>

<p class=a0 style='text-indent:0cm'>&nbsp;</p>

</div>

<br
clear=all style='page-break-before:auto'>



        



<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->