<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->

<!--end of htmlmiddle-->



<div class="g-unit" id="gc-pagecontent">


<div id="jd-content">

<div class="jd-descr">
<h1>疑难排解</h1>
这里是一些基本Android错误的提示和技巧。当错误发生时，请不要忘记使用 ddms logcat capability来得到深层次的信息。参见 调试Android程序 来获得更多提示。 </p>
<ul>
    <li>adb
        install)?</p>

<a name="layout_wilih"></a><h2>启动一个应用程序时，得到"Binary XML file line #2: You must supply a layout_wilih attribute"错误信息</h2>
<ul>
    <li>确定你编译使用的SDK版本与你当前运行的Android OS版本相同。</li>
    <li>确定在你的onCreate()方法中先调用了setContentView()；
调用其他方法，例如在setContentView()方法之前，先调用了setListAdapter()方法，这时Androids试图访问并未设置的屏幕元素，经常引起odd错误；</li>
</ul>
<a name="permission"></a><h2>我的请求(<em>打电话，接收一条短信，接收一个通知，发送intent到Android 应用程序</em>)被忽略</h2>
    <p>你可能没有调用这个activity或者接收这个insent的权限(或可能没有被请求的权限）,许多标准的Android activities，例如打一个电话，有权限指定它去阻止任意的应用程序发送或者接收请求.
		参见 <a href="../devel/security.html">Security and Permissions(安全与许可)</a>获得更多关于Permissions信息，
		manifest.permission获得关于Android限制的权限列表的信息. 
</p>
<a name="build"></a><h2>求助!我的工程在Eclipse中不能编译</h2>
<p>如果你的工程无法编译，你应该注意如下症状，例如在<code>res/</code>子目录新增加的资源并没有显示在R class中，模拟器没有启动，不能运行应用程序，
甚至在运行老版本的应用程序。</p>
<p>要解决这类的问题，首先尝试:</p>
<ol>
  <li>Eclipse内切换到DDMS试图(如果你没有打开它):
    <ol type="a">
      <li>在菜单栏上选择 <code>Window &gt; Open Perspective &gt; Other</code></li>      
      <li>从列表上选择 DDMS ，点击 OK</li>
    </ol>
  </li>
  <li>在Devices面板上 (默认面板顶部右侧), 点击向下的三角形图标，弹出面板菜单</li>
  <li>在菜单上选择 <code>Reset ADB</code> ,试着再次运行你的应用程序</li>
</ol>
<p>如果上面的问题依旧没解决,你可以尝试下面的步骤:</p>
<ol>
  <li>
    请查看位于Eclipse UI底部的console和problems标签 
  </li>
  <li>
  如果在这两个标签上有问题显示，它们应该会提供一些线索给你，告诉你哪里发生了错误
  </li>
  <li>
  如果你不确定这些问题时新的还是旧的，在console内右键选择&gt;Clear,清空console，然后清理工程
  </li>
  <li>
  清理工程(处理一些编译错误的好办法)，在Eclipse主菜单上选择Project&gt;Clean,然后选中你当前运行的工程（或者清除所有)即可
  </li>
</ol>
<a name="eclipse"></a><h2>Eclipse与模拟器之间无法交互</h2>
<p>当Eclipse和模拟器之间看起来没有任何的通讯，这样的状况可能有：在你按下运行后没有反应，模拟挂起等待一个调试连接，或者Eclipse报告没有找到模拟器或者shell
最经常出现的状况时当你点了运行，模拟启动了（或者已经在运行），但是应用程序没有启动。</p>
<p>
你会发现下面这些步骤中的内容可以修复这个问题，通过实践或许你可以知道哪一步是你的问题需要做的，
但是从现在开始，最安全可靠的选择是按照下面的顺序执行：</p>
<ol>
  <li>
   如果模拟器正在运行，请先退出
  </li>
  <li>
  检查所有的模拟器进程已经被杀掉（有时候它们可能处于悬挂状态，在unix或mac上使用ps命令，或者在windows上进入任务管理的进程视图查看）
  </li>
  <li>
    退出Eclipse
  </li>
  <li>
    在命令行内，键入: 
<pre>adb kill-server </pre>
  </li>
  <li>
    启动Eclipse,尝试连接模拟器
  </li>
</ol>

<a name="majorminor"></a><h2>当我进入Eclipse的preferences选项,选择"Android",得到如下错误信息:Unsupported major.minor version 49.0</h2>
<p>如果你使用的是一个比较老的JDK版本，会显示这个错误。请确任你使用的是JDK5 或者JDK6 的版本。</p>
<h2 id="apidemosreinstall">由于签名错误，导致无法在我的IDE内安装ApiDemos应用程序</a></h2>
<p>Android 系统要求所有的应用程序必须被签名，像签名你的应用程序描述的那样。
ApiDemos应用程序包含在SDK中，预装在模拟器上，所以条码已经被编译过，并签署上了一个私有的密钥。
</p>

如果你想在Eclipse/ADT或其他IDE内运行或修改任意一个ApiDemo apps,你仅仅要做的就是通过模拟器卸载<em>预安装</em>app版本。
如果你没有卸载预安装版本之前，尝试在你的IDE内运行ApiDemos apps，你会得到类似下面的错误信息：</p>

<pre>[2008-08-13 15:14:15 - ApiDemos] Re-installation failed due to different application signatures.
[2008-08-13 15:14:15 - ApiDemos] You must perform a full uninstall of the application. WARNING: ...This will remove the application data!
[2008-08-13 15:14:15 - ApiDemos] Please execute 'adb uninstall com.android.samples' in a shell.</pre>
<p>这个错误的发生是因为，在这个例子中，你试图在模拟器上安装ApiDemos的拷贝版本，而这个拷贝拥有一个不同证书的签名(
Android IDE工具将app用一个调试证书签名，而当前存在的版本已经被一个私有的证书签名)。
系统不允许这类重安装过程。 </p>

<p>要解决这个问题，你需要完全卸载预安装版本，然后使用adb工具重新安装它。下面告诉你该怎么做:</p>

<ol>
  <li>在终端里,更改SDK工具的目录.</li>
  <li>如果没有模拟器实例在运行, 使用<code>emulator &</code>命令启动模拟器.</li>
  <li>使用<code>adb uninstall com.android.samples</code>命令卸载预安装app.</li>
  <li>使用<code>adb install &lt;ApiDemos.apk所在路径&gt;</code>命令重新请安装app. 如果你工作在Eclipse/ADT上,可以通过正常的方式编译和运行app。</li>
</ol>

<p>注意，如果你有多个模拟器实例正在运行，需要在你的卸载/安装命令中指定你的模拟器实例。这样你需要在命令后增加 
<code>-s &lt;serialNumber&gt;</code>, 例如: </p>

<pre>adb -s emulator-5556 install</pre>

<p>获取更多关于adb的信息, 参见<a href="../reference/adb.html">Android调试桥</a>文档。</p>
<h2 id="signingcalendar">我无法编译我的应用程序，因为编译工具产生一个过期的调试签名证书</h2>
<p>你的开发机器使用不包含非阳历日历的区域设置，你在第一次编译和运行程序时可能会遇到很多问题。确切地说, 你会发现Android编译工具无法编译你的应用程序因为调试密钥已经过期。 </p>

<p>问题出现是因为密钥和证书管理工具&mdash; 包含在JDK里，Android 编译工具内里使用&mdash; 
未能正确处理非阳历区域设置，并创建正确日期。
更确切地说，可能生成调试密钥已经过期，结果存在编译错误。</p>

<p>如果你遇到这样的问题，下面这些步骤可以解决它: </p>

<ol>
<li>首先, 删除通过Android编译工具生成的调试密码保护文件/密钥(keystore/key)。确切地说, 删除 <code>debug.keystore</code> 文件。在Linux/Mac OSX操作系统上, 文件存放在 <code>~/.android</code>。在Windows XP操作系统上, 文件存放在 <code>
C:\Documents and Settings\&lt;user&gt;\Local Settings\Application Data\Android</code>。在 Windows Vista上, 文件存放在<code>
C:\Users\&lt;user&gt;\AppData\Local\Android</code></li>
<li>然后, 你可以选择其中一个：
<ul>
<li>临时改变你开发机器的区域设置(日期和时间)到一个可以使用公历日历的, 例如, United States. 一旦区域设置改变，使用Android编译工具来编译并安装你的应用程序。编译工具会重新生成一个新的密码保护文件和包含无效日期的调试密钥。一旦新的调试密钥生成，将你开发机器上的区域设置重置到原始状态。 </li>
<li>相应地, 如果你不想改变你机器的区域设置，你在其他机器上使用公历日历生成密码保护文件/密钥（keystore/key），然后从那台计算机上拷贝<code>debug.keystore</code> 文件到你开发机器的合适位置. </li>
</ul>
</li>
</ol>

<p>这个问题已经在Windows上验证通过，可能会应用到其他平台上。 </p>

<p>更全的关于签名Android应用程序的信息，见 
签名你的应用程序. </p>

<h2 id="addjunit">在Eclipse/ADT内无法运行JUnit测试类</h2>

<p>如果你使用Eclipse/ADT开发，你可以在你的应用程序中增加JUnit测试类。因此,当你视图把一个类作为一个JUnit测试类去运行，你会得到一个错误：</p>
<pre>Error occurred during initialization of VM
java/lang/NoClassDefFoundError: java/lang/ref/FinalReference</pre>
<p>发生这个错误是因为在android.jar仅仅包含stub类，并没有包含全部Junit.*类的实现。</p>
<p>要增加一个JUnit类，你必须建立一个JUnit配置:. 
<ol>
<li>在包浏览视图内，选择你的工程。 </li>
<li>打开运行配置管理器。
         <ul>
            <li>Eclipse 3.3 (Europa)里, 选择<strong>Run </strong>&gt; 
              <strong>Open Run Dialog... </strong>or <strong>Run </strong>&gt; 
              <strong>Open Debug Dialog... </strong>.
            </li>

            <li>Eclipse 3.4 (Ganymede)里, 选择 <strong>Run </strong>&gt; 
              <strong>Run Configurations... </strong>or <strong>Run </strong>&gt; 
              <strong>Debug Configurations... </strong>
            </li>
        </ul>
    </li>
<li>在配置管理器(configuration manager)内, 右击 "JUnit" 配置类型，选择 <strong>New</strong></li>
<li>在新的配置的 <strong>测试(Test)</strong> 标签内, 指定工程和测试类，还有运行测试的其他选项</li>
<li>在新的配置的 <strong>Classpath</strong> 标签内, Bootstrap Entries下找到 "Android Library" ，并删除它</li>
<li>仍然在 <strong>Classpath</strong> 标签内, 选择 Bootstrap Entries ，单击 Advanced 按钮 </li>
<ol type="a">
<li>选择 Add Library ，单击OK。</li>
<li>选择 JRE System Library ，单击 Next。</li>
<li>选择 Workspace Default JRE ，单击 Finish。</li>
</ol>
<li>再次选择 Bootstrap Entries ，单击 Advanced。</li>
<ol type="a">
<li>选择 Add Library ，单击 OK.</li>
<li>选择 JUnit 3 ，单击 Finish. </li>
</ol>
</ol>
<p>按照这样的方式进行配置，现在你的JUnit测试类应该可以正常运行了。</p>


</div>

</div>
</div><!-- end gc-pagecontent -->



<!--start of htmlend-->
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
