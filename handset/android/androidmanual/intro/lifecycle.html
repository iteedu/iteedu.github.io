<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->

<!--end of htmlmiddle-->



<div class="g-unit" id="gc-pagecontent">


<div id="jd-content">

          <div class="jd-descr"> 
            <h1><strong>Android应用程序的生命周期</strong></h1>

            <p>在大多数情况下，每个Android应用程序都运行在自己的Linux进程中。当应用程序的某些代码需要运行时，这个进程就被创建并一直运行下去，直到系统认为该进程不再有用为止。然后系统将回收进程占用的内存以便分配给其它的应用程序。 </p>

            <p>应用程序的开发人员必须理解不同的应用程序组件（尤其是Activity, Service,  和 BroadcastReceiver）是如何影响应用程序进程生命周期的，这是很重要的一件事情。<strong>不正确地使用这些组件可能会导致系统杀死正在执行重要任务的应用程序进程。</strong><strong> </strong><br>
              一个常见的进程生命周期bug的例子是BroadcastReceiver， 当BroadcastReceiver在BroadcastReceiver.onReceive()方法中接收到一个Intent时，它会启动一个线程，然后返回。一旦它返回，系统将认为BroadcastReceiver不再处于活动状态，因而BroadcastReceiver所在的进程也就不再有用了（除非该进程中还有其它的组件处于活动状态）。因此，系统可能会在任意时刻杀死进程以回收内存。这样做的话，进程中创建（spawned）出的那个线程也将被终止。对这个问题的解决方法是从BroadcastReceiver启动一个服务，让系统知道进程中还有处于活动状态的工作。为了决定在内存不足时让系统杀死哪个进程，Android 根据每个进程中运行的组件以及组件的状态把进程放入一个”重要性分级(importance hierarchy)”中。进程的类型包括（按重要程度排序）:</p>
            <ol>
              <li><span dir="LTR">前台（</span><strong>foreground</strong>）进程，与用户当前正在做的事情密切相关。不同的应用程序组件能够通过不同的方法使它的宿主进程移到前台。当下面任何一个条件满足时，可以考虑将进程移到前台： </li>
              <ol>
                <li><span dir="LTR">进程正在屏幕的最前端运行一个与用户交互的</span>Activity （它的onResume()方法被调用） </li>
                <li><span dir="LTR">进程有一正在运行的</span>BroadcastReceiver （它的BroadcastReceiver.onReceive()方法正在执行） </li>
                <li><span dir="LTR">进程有一个</span>Service，并且在Service的某个回调函数（Service.onCreate(), Service.onStart(),  或 Service.onDestroy()）内有正在执行的代码。 </li>
              </ol>
            </ol>
            <ol>
              <li><span dir="LTR">可见（</span><strong>visible</strong>）进程，它有一个可以被用户从屏幕上看到的Activity，但不在前台（它的onPause()方法被调用）。举例来说，如果前台的Activity是一个对话框，以前的Activity隐藏在对话框之后，就可能出现这种进程。这样的进程特别重要，一般不允许被杀死，除非为了保证前台进程的运行不得不这样做。 </li>
              <li><span dir="LTR">服务（</span><strong>service</strong><strong>）</strong>进程，有一个已经用startService() 方法启动的Service。虽然这些进程用户无法直接看到，但它们做的事情却是用户所关心的（例如后台MP3回放或后台网络数据的上传下载）。因此，系统将一直运行这些进程除非内存不足以维持所有的前台进程和可见进程。 </li>
              <li><span dir="LTR">后台（</span><strong>background</strong>）进程， 拥有一个当前用户看不到的Activity（它的onStop()方法被调用）。这些进程对用户体验没有直接的影响。如果它们正确执行了Activity生命期（详细信息可参考Activity），系统可以在任意时刻杀死进程来回收内存，并提供给前面三种类型的进程使用。系统中通常有很多个这样的进程在运行，因此要将这些进程保存在LRU 列表中，以确保当内存不足时用户最近看到的进程最后一个被杀掉。 </li>
              <li><span dir="LTR">空（</span><strong>empty</strong>）进程，不包含任何处于活动状态的应用程序组件。保留这种进程的唯一原因是，当下次应用程序的某个组件需要运行时，不需要重新创建进程，这样可以提高启动速度。 </li>
            </ol>
            <p>系统将以进程中当前处于活动状态组件的重要程度为基础对进程进行分类。请参考Activity, Service 和 BroadcastReceiver文档来获得有关这些组件在进程整个生命期中是如何起作用的详细信息。每个进程类别的文档详细描述了它们是怎样影响应用程序整个生命周期的。进程的优先级可能也会根据该进程与其它进程的依赖关系而增长。例如，如果进程A 通过在进程B中设置Context.BIND_AUTO_CREATE标记或使用ContentProvider被绑定到一个服务（Service），那么进程B在分类时至少要被看成与进程A同等重要。 </p>
            <p>&nbsp;</p>
            <p>翻译： 杨武学 （yangwuxue@tom.com) </p>
          </div>

</div>
</div><!-- end gc-pagecontent -->



<!--start of htmlend-->
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
