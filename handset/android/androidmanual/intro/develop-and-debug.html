<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->

<!--end of htmlmiddle-->



<div class="g-unit" id="gc-pagecontent">


<div id="jd-content">

<div class="jd-descr">
<h1>开发和调试</h1>
<p align="left">这一节将介绍在android上开发调试应用程序。它将教会我们如何创建，编译，运行以及调试android代码。或者，你也可以从Hello Android tutorial.开始</p>
<p>&nbsp;</p>
<h2>主要内容</h2>

<ol class="toc">
<li> I&nbsp;can't&nbsp;compile my app because the build tools generated an expired debug 
certificate.</p>
<h2 id="apidemos">&nbsp;</h2>
<h2>使用ApiDemo示例应用程序 </h2>
<p>Android SDK包含了一套示例程序，他们验证了许多功能以及API的用法。ApiDemos软件包被提前安装在模拟器中，所以你可以启动模拟器，在主画面的应用程序抽屉里打开它。</p>
<p>你也可以在&lt;SDK&gt;/samples/ApiDemos中找到源码，可用看看它，学习Demo的实现方法。</p>
<p>如果你愿意，你还可以将ApiDemo的示例程序作为一个工程加载进来，修改并在模拟器上运行。然而，在这之前你首先要卸载之前已经安装的ApiDemos。如果你没有移除之前安装的版本而直接在开发环境中运行或修改ApiDemos,将会有安装错误。</p>
<p>关于如何卸载和重装ApiDemo，可以参考I&nbsp;can't install ApiDemos 
apps in my IDE because of a signing error.这样你就可以在你的开发环境中工作了。</p>
<a name="debugging" id="debugging"></a>

<h2>调试</h2>
<p>Android有相当广泛的一套工具帮助你调试你的应用程序：</p>
<ul>
  <li>dumpsys and
dumpstate</dd>

<dt>获得模拟器中应用程序状态信息(dumpsys)<a name="dumpsys" id="dumpsys"></a></dt>
<dd>你可以通过Dalvik Debug Monitor Service工具获得dumpsys信息。参考adb中介绍的dumpsys and
dumpstate 。 </dd>

<dt>获得无线连接信息<a name="radioinfo" id="radioinfo"></a></dt>
<dd>你可以通过Dalvik Debug Monitor Service工具获得无线连接信息。在Device菜单中选择&quot;Dump radio state&quot;</dd>
<dt>记录跟踪数据<a name="loggingdata" id="loggingdata"></a></dt>
<dd>你可以在activity中通过调用android.os.Debug.startMethodTracing()来记录函数的调用以及其它跟踪数据。详细的参考<a
href="../reference/traceview.html">Running the Traceview Debugging
Program</a> 。 </dd>
<dt>记录无线数据<a name="logradio" id="logradio"></a></dt>
<dd>&nbsp;</dd>
<dd>
 默认情况下系统不记录无线数据（数据很多）。然而，你可以用下面的命令记录无线数据：
  <pre>
adb shell
logcat -b radio
</pre>
运行adb<a name="adb" id="adb"></a></dd>

<dd>Android 有adb工具，他提供了许多功能，包括移动和同步文件到模拟器上，改变端口，在模拟器上运行 UNIX shell。 详见<a href="../reference/adb.html">Using adb</a>。</dd>
</dl>
<dl><dt>获得模拟器屏幕截图<a name="screencaps" id="screencaps"></a></dt>
  <dd>Dalvik Debug Monitor Server (DDMS)可以抓取模拟器屏幕截图。</dd>
  <dt>&nbsp;</dt>
  <dt>使用调试帮助类<a name="debughelpers"></a></dt>
    <dd>Android为方便使用提供了调试帮助类，例如util.Log 和 Debug</dd>
</dl>
<a name="building"></a>

<h2>编译安装Anroid应用程序</h2>
<p>Android要求专门的编译工具可以正确的编译资源文件和应用程序的其他部分，因此，你必须为你的应用程序建立一个专门的编译环境。</p>
<p>专门Android编译器编译步骤包括，编译XML和其他资源文件并创建合适的输出格式。编译好的Android应用程序是一个.apk压缩文件，它含有<a href="../reference/glossary.html">.dex</a>文件，资源文件，原data文件，以及其他文件。你可以通过scratch,或者源文件构造一个合适的Android工程。</p>
<p>Android目前不支持的在本地代码上开发第三方应用程序。</p>
<p>比较推荐的Andriod应用程序开发方法是<a href="#developingwitheclipse">use Eclipse with the Android plugin</a>，它支持编译，运行，调试Android应用程序。</p>
<p>如果你还有其他IDE，<a href="#otherides">Android 
  provides tools for other IDEs</a> 可以编译运行Android应用程序，但是他们不是很完整。</p>
<a name="uninstalling" id="uninstalling"></a>
<h2>移出一个Android应用程序</h2>
<p>移出一个安装在模拟器上的应用程序，你需要执行adb<a href="../reference/adb.html">run adb</a>删除.apk文件。.apk文件是在安装的时候发送到模拟器上的。使用adb shell进入设备的shell，切换到data/app目录下，用rm命令删除apk文件 ：rm your_app.apk。用法在连接中介绍。 </p>
<a name="tips" id="tips"></a>

	<h2>Eclipse技巧</h2>
	<h3>在Eclipse上执行任意java代码<a name="arbitraryexpressions" id="arbitraryexpressions"></a></h3>
	<p>在Eclipse上，当程序停在断点处时你可以执行任意代码。例如，在一个含有“zip”字符串参数的函数中，你可以获得软件包信息，调用类方法。你也可以执行任意静态方法：如，输入 <code>android.os.Debug.startMethodTracing()</code> ，启动 dmTrace。</p>
	<p>打开代码执行窗口，主菜单中选择<strong>Window</strong>&gt;<strong>Show
        View</strong>&gt;<strong>Display</strong>，打开显示窗口，一个简单的文本编辑器。输入你的代码，高亮显示文字，单击'J'图标（或者CTRL + SHIFT + D）运行代码。代码在被选线程的上下文中运行， 而这个线程必须是停在断点处或者单步停止点。（如果你手动挂去线程，你必须单步执行。线程停在Object.wait()是没有用的）。</p>
	<p>如果你目前是停在断点，你可以简单的按下（CTRL + SHIFT + D）高亮并执行一段代码。</p>
	<p>你可以高亮同一选中区域的文字，通过按下 ALT +SHIFT
	    + 向上/向下箭头来改变所选区域的大小 </p>
	<p>下面是一些例子，输入内容和eclipse 显示窗口的回应信息。</p>
	<table width="100%" border="1">
	    <tr>
	        <th scope="col">Input</th>
	        <th scope="col">Response</th>
	    </tr>
	    <tr>
	        <td><code>zip</code></td>
	        <td><code>(java.lang.String) /work/device/out/linux-x86-debug/android/app/android_sdk.zip</code></td>
	    </tr>
	    <tr>
	        <td><code>zip.endsWith(&quot;.zip&quot;)</code></td>
	        <td><code>(boolean) true</code></td>
	    </tr>
	    <tr>
	        <td><code>zip.endsWith(&quot;.jar&quot;)</code></td>
	        <td><code>(boolean) false</code></td>
	    </tr>
	</table>
	<p>你也可以利用剪贴板在不调试时插入执行代码。在eclipse文档中查找&quot;scrapbook&quot;相关。</p>
	<h3>手动运行DDMS</h3>
		<p>虽然推荐用ADT插件调试程序，但是你也可以手动运行DDMS，配置Eclipse以便在8700端口上调试程序（注意：首先确定你启动了<a href="../reference/ddms.html">DDMS</a>）。</p>
		<h3>增加JUnit测试类</h3>
<p>在Eclipse/ADT ,你可以在程序中添加JUnit测试类，然而，测试运行正常之前你需要设置专门的JUnit 配置，</p>
<p>关于如何设置JUnit配置的详细细节，参看请参见疑难解答专题I can't run a Junit test class in Eclipse。</p>
</div>

</div>
</div><!-- end gc-pagecontent -->



<!--start of htmlend-->
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
