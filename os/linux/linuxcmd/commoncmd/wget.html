<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->

  <h1>
    <!--end of htmlmiddle-->
    
    
    
    
    <!--start of htmlend--> wget
  </h1>
  <p>wget是一个命令行工具——是历史上最快的单线程传输工具，用于下载网站/批量文件，支持HTTP和FTP。 它的任务就是获取互联网。首先，基本上所有的面向个人计算机的Linux都带 wget。</p>
  <p>wget是一个从网络上自动下载文件的自由工具。它支持HTTP，HTTPS和FTP协议，可以使用HTTP代理.</p>
  <p> 所谓的自动下载是指，wget可以在用户退出系统的之后在后台执行。这意味这你可以登录系统，启动一个wget下载任务，然后退出系统，wget将在后台执行直到任务完成，相对于其它大部分浏览器在下载大量数据时需要用户一直的参与，这省去了极大的麻烦。</p>
  <p> wget可以跟踪HTML页面上的链接依次下载来创建远程服务器的本地版本，完全重建原始站点的目录结构。这又常被称作"递归下载"。在递归下载的时候，wget遵循Robot   Exclusion标准(/robots.txt).   wget可以在下载的同时，将链接转换成指向本地文件，以方便离线浏览。</p>
  <p> wget非常稳定,它在带宽很窄的情况下和不稳定网络中有很强的适应性.如果是由于网络的原因下载失败，wget会不断的尝试，直到整个文件下载完毕。如果是服务器打断下载过程，它会再次联到服务器上从停止的地方继续下载。这对从那些限定了链接时间的服务器上下载大文件非常有用</p>
<H2>命令格式</H2><pre class="code">wget [options] [URL]</pre>
<h3>用wget做站点镜像</h3>

<pre class="code">wget -r -p -np -k [url]</pre>
<p>
    # 或者</p>
<pre class="code"> wget -m [url]
</pre>
<h3>
     在不稳定的网络上下载一个部分下载的文件，以及在空闲时段下载</h3>
<pre class="code">wget -t 0 -w 31 -c [url] -o down.log &amp;</pre>
<h3>
  从filelist读入要下载的文件列表</h3>
<pre class="code">wget -t 0 -w 31 -c -B [url] -i filelist.txt -o down.log   &amp;
</pre>
<p>
  上面的代码还可以用来在网络比较空闲的时段进行下载。我的用法是:在mozilla中将不方便当时下载的URL链接拷贝到内存中然后粘贴到文件filelist.txt中，在晚上要出去系统前执行上面代码的第二条。</p>
<h3>
  使用代理下载</h3>
<pre class="code">wget -Y on -p -k [url]</pre>
<p>
  代理可以在环境变量或wgetrc文件中设定</p>
<h3>
  在环境变量中设定代理</h3>
<pre class="code">export   PROXY=http://211.90.168.94:8080/</pre>
<h3>
  在~/.wgetrc中设定代理</h3>
<pre class="code">http_proxy = http://proxy.yoyodyne.com:18023/
ftp_proxy = http://proxy.yoyodyne.com:18023/</pre>
<h2>wget示例</h2>
<p>如果我们想下载ftp里面某个目录里面的所有文件，</p>
<pre class="code">wget -r ftp://10.8.8.8/movie/  </pre>
<p>呵呵，等吧！下完了，发觉有些不对劲，怎么出来个10.8.8.8的目录，进去看看，又是一个movie，哦，wget将目录结构和网站标题都给记录下来了，不要？？没有问题！比如说还是这个例子</p>
<pre class="code">wget -r -nd ftp://10.8.8.8/movie/  </pre>
<p>结果什么目录都没有了，faint！怎么会这样？呵呵，你如果想要这样就让它这样吧，否则使用</p>
<pre class="code">wget -r -nH ftp://10.8.8.8/movie/  </pre>
<p>恩？movie也不要？OK，那就这样</p>
<pre class="code">wget -r -nH --cut-dirs=1 ftp://10.8.8.8/movie/  </pre>
<p>断线了？超时了？ 加个 -c 继续</p>
<pre class="code">wget -c -r -nH --cut-dirs=1 ftp://10.8.8.8/movie/  </pre>
<p>我们下载这里面所有的宏包，呵呵</p>
<pre class="code">wget -r -k http://www.ctan.org/tex-archive/macros/latex/  </pre>
<p>-k表示将连接转换为本地连接。但是现在同样有上面的问题啊，那就把你需要的加上吧，另外也许你根本不需要向下走那么多层，比如，我们就要到第二层，那么</p>
<pre class="code">wget -r -l2 -k http://www.ctan.org/tex-archive/macros/latex/  </pre>
<p>现在新的问题是，由于网页有一个排序功能，很讨厌，因为下载的时候把网页重复了好多次，那么我们可使用-A和-R开关控制下载类型，并且可以使用通配符，呵呵，现在随心所欲了吧</p>
<pre class="code">wget -r -R ".htm\?*" -k http://www.ctan.org/tex-archive/macros/latex/  </pre>
<p>这次没有那种网页了吧？-R的意义在于拒绝下载匹配类型的文件，-A表示仅仅接受的文件类型，如-A  "*.gif"将仅下载gif图片，如果有多个允许或者不允许，可以使用,分开。</p>
<p>那么，我们现在在使用代理服务器，怎么办呢？呵呵，很高兴你选择了wget，你可以使用它的配置文件，环境变量来利用代理。这里推荐使用环境变量，如在 bash里面我们可以把天天用的proxy加到.bash_profile里面，这是Linux标准写法（很多软件都用的，什么apt-get，yum等等）</p>
<pre class="code">export http_proxy=http://10.20.30.40:8080/  </pre>
<p>然后，proxy就默认打开了，如果需要暂时关闭，可以使用</p>
<pre class="code">wget --proxy=off -r -k http://www.ctan.org/tex-archive/macros/latex/  </pre>
<p>当然，写一个.wgetrc文件也可以，该文件可以从/usr/local/etc里面找到，里面有很详细的注释，我就不多说了。</p>
<p>下载网页的时候比较麻烦的事情是，有的网页被同时指向了很多遍，那么为了避免多次下载，我们使用</p>
<pre class="code">wget -nc -r -k http://www.ctan.org/tex-archive/macros/latex/  </pre>
<p>可以避免这件事情。为了不被有的连接指向非http://www.ctan.org/tex-archive/macros/latex/ 内层目录，我们还应该加上</p>
<pre class="code">wget -nc -np -r -k http://www.ctan.org/tex-archive/macros/latex/  </pre>
<p>避免下载非该目录里面的文件，这也避免了到不同的host上面去。当然，如果你希望有这个功能，在多个host之间跳来跳去的下载，可以使用</p>
<pre class="code">wget -nc -np -H -r -k http://www.ctan.org/tex-archive/macros/latex/  </pre>
<p>使得可以在多个host之间span，同时-I和-X可以使得我们仅仅跟踪某些目录或者不跟踪某些目录。如果某些HTML里面你需要的东西不是由这种东西作出来的，你就得使用--follow-tags和--ignore-tags了。</p>
<p>嘿，我有个文件里面都是连接，怎么办？要是不是html你只需要</p>
<pre class="code">wget -i your.file  </pre>
<p>如果是，那也不繁</p>
<pre class="code">wget -F -i your.file  </pre>
<p>下面是补充：</p>
<p>wget  -m ftp://ipaddress/*</p>
<p>-m  做站点镜像时的选项，如果你想做一个站点的镜像，使用这个选项，它将自动设定其他合适的选项以便于站点镜像；等价于 -r -N -l inf -nr.  </p>
<h2>参数类型</h2>
<h3>启动  </h3>
<ol>
  <li>
    -V,  --version           显示wget的版本后退出</li>
  <li>
    -h,  --help                打印语法帮助</li>
  <li>
    -b,  --background        启动后转入后台执行</li>
  <li>
    -e,  --execute=COMMAND     执行`.wgetrc'格式的命令，wgetrc格式参见/etc/wgetrc或~/.wgetrc</li>
</ol>
<h3>
  记录和输入文件</h3>
<ol>
  <li>
    -o,  --output-file=FILE       把记录写到FILE文件中</li>
  <li>
    -a,  --append-output=FILE     把记录追加到FILE文件中</li>
  <li>
    -d,  --debug                打印调试输出</li>
  <li>
    -q,  --quiet                  安静模式(没有输出)</li>
  <li>
    -v,  --verbose              冗长模式(这是缺省设置)</li>
  <li>
    -nv, --non-verbose            关掉冗长模式，但不是安静模式</li>
  <li>
    -i,  --input-file=FILE        下载在FILE文件中出现的URLs</li>
  <li>
    -F,  --force-html             把输入文件当作HTML格式文件对待</li>
  <li>
    -B,  --base=URL             将URL作为在-F   -i参数指定的文件中出现的相对链接的前缀</li>
  <li>
    --sslcertfile=FILE     可选客户端证书</li>
  <li>
    --sslcertkey=KEYFILE   可选客户端证书的KEYFILE</li>
  <li>
    --egd-file=FILE        指定EGD   socket的文件名 </li>
</ol>
<h3>
  下载</h3>
<ol>
  <li>
    --bind-address=ADDRESS     指定本地使用地址(主机名或IP，当本地有多个IP或名字时使用)</li>
  <li>
    -t,  --tries=NUMBER           设定最大尝试链接次数(0   表示无限制).</li>
  <li>
    -O   --output-document=FILE   把文档写到FILE文件中</li>
  <li>
    -nc, --no-clobber               不要覆盖存在的文件或使用.#前缀</li>
  <li>
    -c,  --continue               接着下载没下载完的文件</li>
  <li>
    --progress=TYPE          设定进程条标记</li>
  <li>
    -N,  --timestamping             不要重新下载文件除非比本地文件新</li>
  <li>
    -S,  --server-response        打印服务器的回应</li>
  <li>
    --spider                 不下载任何东西</li>
  <li>
    -T,  --timeout=SECONDS          设定响应超时的秒数</li>
  <li>
    -w,  --wait=SECONDS           两次尝试之间间隔SECONDS秒</li>
  <li>
    --waitretry=SECONDS      在重新链接之间等待1...SECONDS秒</li>
  <li>
    --random-wait              在下载之间等待0...2*WAIT秒</li>
  <li>
    -Y,  --proxy=on/off             打开或关闭代理</li>
  <li>
    -Q,  --quota=NUMBER           设置下载的容量限制</li>
  <li>
    --limit-rate=RATE        限定下载输率 </li>
</ol>
<h3>
  目录</h3>
<ol>
  <li>
    -nd  --no-directories              不创建目录</li>
  <li>
    -x,  --force-directories         强制创建目录</li>
  <li>
    -nH,   --no-host-directories       不创建主机目录</li>
  <li>
    -P,  --directory-prefix=PREFIX     将文件保存到目录 PREFIX/...</li>
  <li>
    --cut-dirs=NUMBER           忽略   NUMBER层远程目录 </li>
</ol>
<h3>
  HTTP 选项</h3>
<ol>
  <li>
    --http-user=USER      设定HTTP用户名为 USER.</li>
  <li>
    --http-passwd=PASS    设定http密码为 PASS.</li>
  <li>
    -C,  --cache=on/off          允许/不允许服务器端的数据缓存 (一般情况下允许).</li>
  <li>
    -E,  --html-extension        将所有text/html文档以.html扩展名保存</li>
  <li>
    --ignore-length       忽略   `Content-Length'头域</li>
  <li>
    --header=STRING       在headers中插入字符串   STRING</li>
  <li>
    --proxy-user=USER     设定代理的用户名为 USER</li>
  <li>
    --proxy-passwd=PASS   设定代理的密码为 PASS</li>
  <li>
    --referer=URL         在HTTP请求中包含   `Referer: URL'头</li>
  <li>
    -s,  --save-headers          保存HTTP头到文件</li>
  <li>
    -U,  --user-agent=AGENT    设定代理的名称为 AGENT而不是   Wget/VERSION.</li>
  <li>
    --no-http-keep-alive  关闭 HTTP活动链接 (永远链接).</li>
  <li>
    --cookies=off         不使用 cookies.</li>
  <li>
    --load-cookies=FILE   在开始会话前从文件 FILE中加载cookie</li>
  <li>
    --save-cookies=FILE     在会话结束后将 cookies保存到 FILE文件中 </li>
</ol>
<h3>
  FTP 选项</h3>
<ol>
  <li>
    -nr,   --dont-remove-listing   不移走 `.listing'文件</li>
  <li>
    -g,  --glob=on/off             打开或关闭文件名的 globbing机制</li>
  <li>
    --passive-ftp           使用被动传输模式 (缺省值).</li>
  <li>
    --active-ftp            使用主动传输模式</li>
  <li>
    --retr-symlinks           在递归的时候，将链接指向文件(而不是目录) </li>
</ol>
<h3>
  递归下载</h3>
<ol>
  <li>
    -r,  --recursive            递归下载－－慎用!</li>
  <li>
    -l,  --level=NUMBER       最大递归深度 (inf 或 0 代表无穷).</li>
  <li>
    --delete-after       在现在完毕后局部删除文件</li>
  <li>
    -k,  --convert-links        转换非相对链接为相对链接</li>
  <li>
    -K,  --backup-converted   在转换文件X之前，将之备份为   X.orig</li>
  <li>
    -m,  --mirror             等价于 -r -N -l inf   -nr.</li>
  <li>
    -p,  --page-requisites    下载显示HTML文件的所有图片 </li>
</ol>
<h3>
  递归下载中的包含和不包含(accept/reject)</h3>
<ol>
  <li>
    -A,  --accept=LIST                  分号分隔的被接受扩展名的列表</li>
  <li>
    -R,  --reject=LIST                  分号分隔的不被接受的扩展名的列表</li>
  <li>
    -D,  --domains=LIST               分号分隔的被接受域的列表</li>
  <li>
    --exclude-domains=LIST       分号分隔的不被接受的域的列表</li>
  <li>
    --follow-ftp                   跟踪HTML文档中的FTP链接</li>
  <li>
    --follow-tags=LIST             分号分隔的被跟踪的HTML标签的列表</li>
  <li>
    -G,  --ignore-tags=LIST             分号分隔的被忽略的HTML标签的列表</li>
  <li>
    -H,  --span-hosts                   当递归时转到外部主机</li>
  <li>
    -L,  --relative                     仅仅跟踪相对链接</li>
  <li>
    -I,  --include-directories=LIST     允许目录的列表</li>
  <li>
    -X,  --exclude-directories=LIST   不被包含目录的列表</li>
  <li>
    -np, --no-parent                    不要追溯到父目录</li>
</ol>
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->