<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->

<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->

<!--end of htmlmiddle-->



<h1>Sys V init 启动方式</h1>
<p>Linux 使用的是基于运行级(run-levels) 概念的称为 SysVinit 的专用启动工具。   它在不同的系统上可能是完全不一样的， 所以不能认为一个脚本在某个 Linux 发行版上工作正常。</p>
<p>System V init的主要思想是定义了不同的&quot;运行级别(runlevel)&quot;。通过配置文件/etc/inittab定义了系统引导时的运行级别, 进入或者切换到一个运行级别时做什么。每个运行级别对应于一个子目录/etc/rc.d/rcX.d。</p>
<p>在etc/inittab中action为sysinit的一行会给初始化脚本传入一个参数，一般为一数字，例如：</p>
<pre class="code">si::sysinit:/etc/rc.d/init.d/rc 5</pre>
<p>rc脚本会合成 /etc/rc.d / rc5.d目录，其中5是传入的参数，并执行其中的脚本来开关服务。</p>
<p>SysVinit(从现在开始我们称之为&quot;init&quot;)以运行级的模式来工作，一般有 7 （从 0 到 6）个运行级   (实际上可以有更多的运行级，但都是用于特殊情况而且一般使用不到。 参见 init(8)以获得更多信息)，每个运行级对应于一套设定好的任务，   当启动一个运行级的时候， 计算机就需要执行相应的任务。 默认的运行级是 3，下面是对不同运行级的描述：</p>
<p>0: 关闭计算机<br />
  1: 单用户模式<br />
  2: 无网络多用户模式<br />
  3: 有网络多用户模式<br />
  4: 保留作自定义，否则同运行级 3 <br />
  5: 同运行级   4，一般用于图形界面(GUI)登录(如 X的 xdm 或 KDE的 kdm) <br />
  6: 重启动计算机 </p>

<p>用来改变运行级别的命令是init &lt;runlevel&gt;，在这里 &lt;runlevel&gt;是目标运行级别。 例如， 要重启计算机， 用户可以执行   init 6 命令，它是 reboot 命令的别名。 同样， init 0 是 halt 命令的别名。 </p>
<p>在 /etc/rc.d 目录下有很多类似 rc?.d (这里 ? 是运行级别的数值) 和 rcsysinit.d 的目录， 里面都包含许多符号链接，其中一些以 K 字母开头，另外一些以 S 字母开头， 这些链接名在首字母后面都跟着两个数字。 这个 K 的含义是停止 (kill)   一个服务， S 的含义是启动一个服务。而数字则确定这些脚本的启动顺序，从 00 到 99(数字越小执行的越早)。 当 init 转换到其它运行级时， 一些相应的服务会停止，   而另一些服务则会启动。</p>
<p>真正的脚本在 /etc/rc.d/init.d 目录下， 它们完成实际工作，   符号链接都是指向它们的。 停止脚本的链接和启动脚本的链接都指向 /etc/rc.d/init.d   目录下的同一个脚本。 这是因为调用这些脚本时可以使用不同的参数，例如 start,   stop, restart, reload, 和 status。 当调用 K 链接时，相应的脚本用 stop参数运行；当调用 S 链接时，相应的脚本用start 参数运行。</p>
<p>上面的说明有一个例外，在 rc0.d 和 rc6.d 目录下以 S 开头的链接不会启动任何东西， 而是用stop参数调用， 来停止某些服务。 这背后的逻辑是， 当用户要重启或关闭系统的时候，   不会要启动什么服务， 只会要系统停止。</p>
<p>以下是脚本参数的描述：</p>
<dt>start</dt>
<dd>
  <p>启动服务。 </p>
</dd>
<dt>stop </dt>
<dd>
  <p>停止服务。 </p>
</dd>
<dt>restart </dt>
<dd>
  <p>关闭服务，然后再启动。 </p>
</dd>
<dt>reload </dt>
<dd>
  <p>该服务的配置已更新。如果修改了某个服务的配置文件，又不必重启这个服务的时候， 可以使用这个参数</p>
</dd>
<dt>status </dt>
<dd>
  <p>显示服务的状态，如果服务正在运行，会显示该服务进程的 PID 。</p>
</dd>
<p>可以参考 <a href="../ch3initrd/26.html">linux文件系统初始化步骤</a>，其中有例子。</p>


<!--start of htmlend-->
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->