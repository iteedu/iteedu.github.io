<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->


<div class="lpindex"><a href="index.html">首页</a><a href="50.html"> 上一页</a><a href="52.html"> 下一页</a></div>
<h1>Java Gossip: 接口（interface）型&#24577;</h1>
<p>表面上看&#26469;，接口有&#28857;像是完全&#27809;有任何方法被&#23454;作的抽象&#31867;&#21035;，但&#23454;&#38469;上&#20004;者在&#35821;&#20041;与&#24212;用上是有差&#21035;的。「&#32487;承某抽象&#31867;&#21035;的&#31867;&#21035;必定是&#35813;&#31867;&#21035;的一&#20010;子&#31867;」，由于同&#23646;一&#20010;&#31867;型，只要父&#31867;&#21035;中也有定&#20041;同名方法，您就可以透&#36807;父&#31867;&#21035;型&#24577;&#26469;操作子&#31867;&#23454;例中被重新定&#20041;的方法，也就是透&#36807;父&#31867;&#21035;型&#24577;&#36827;行多型操作，但「&#23454;作某接口的&#31867;&#21035;并不被&#24402;&#23646;于哪一&#31867;」，一&#20010;&#23545;象上可以&#23454;作多&#20010;接口。<br />
<br />
考&#34385;您有一&#20010;方法doRequest()，您事先并&#26080;法知道什么型&#24577;的&#23545;象&#20250;被&#20256;&#36827;&#26469;，或者是&#36825;&#20010;方法可以接受任何&#31867;型的&#23545;象，您想要操作&#23545;象上的某&#20010;特 定方法，例如doSomething()方法，&#38382;&#39064;是&#20256;&#36827;&#26469;的&#23545;象是任意的，除非您定&#20041;一&#20010;抽象&#31867;&#21035;并宣告doSomething()抽象方法，然后&#35753;所 有的&#31867;&#21035;都&#32487;承&#36825;&#20010;抽象&#31867;&#21035;，否&#21017;的&#35805;您的doRequest()方法似乎&#26080;法&#23454;作出&#26469;，&#23454;&#38469;上&#36825;么作也&#27809;有价值。<br />
<br />
接口的目的在定&#20041;一&#32452;可操作的方法，&#23454;作某接口的&#31867;&#21035;必&#39035;&#23454;作&#35813;接口所定&#20041;的所有方法，只要&#23545;象有&#23454;作某&#20010;接口，就可以透&#36807;&#35813;接口&#26469;操作&#23545;象上&#23545;&#24212;的方法，&#26080;&#35770;&#35813;&#23545;象&#23454;&#38469;上&#23646;于哪一&#20010;&#31867;&#21035;，像上一段所述及的&#38382;&#39064;，就要靠要接口&#26469;解&#20915;。<br />
<br />
接口的宣告是使用&quot;interface&quot;&#20851;&#38190;&#35789;，宣告方式如下：</p>
<pre class="code">interface 接口名称 {
	传回型态 方法(参数列);
	传回型态 方法(参数列);
	// ....
}</pre>
<p> 一 &#20010;宣告界面的例子如下：</p>
<h5>IRequest.java </h5>
<pre class="code">public interface IRequest {
	public void execute();
}</pre>
<p> 接口的&#26435;限都是&quot;public&quot;，所以即使不指定public仍是&#39044;&#35774;&#20026;public，例如下例与上例是相同的：</p>
<h5>IRequest.java </h5>
<pre class="code">interface IRequest {
	void execute();
} </pre>
<p> 接口&#39044;&#35774;都是abstract，有&#26080;加abstract都一&#26679;，以下的宣告作用也是相同：</p>
<h5>IRequest.java </h5>
<pre class="code">public abstract interface IRequest {
	public abstract void execute();
} </pre>
<p>&#24403;定&#20041;&#31867;&#21035;&#26102;，可以使用&quot;implements&quot;&#20851;&#38190;&#35789;&#26469;一并指定要&#23454;作哪&#20010;接口，接口中所有定&#20041;的方法都要&#23454;作，例如： </p>
<h5>HelloRequest.java </h5>
<pre class="code">public class HelloRequest implements IRequest {
	private String name;
	public HelloRequest(String name) {
		this.name = name;
	}
	public void execute() {
		System.out.printf("Hello! %s!%n", name);
	}
}</pre>
<h5>WelcomeRequest.java </h5>
<pre class="code">
public class WelcomeRequest implements IRequest {
	private String place;
	public WelcomeRequest(String place) {
		this.place = place;
	}
	public void execute() {
		System.out.printf("Welcome to %s!%n", place);
	}
}</pre>
<p> 由于接口中的方法&#39044;&#35774;都是public，所以&#23454;作接口的&#31867;&#21035;中，方法必&#39035;宣告&#20026;public，否&#21017;&#26080;法通&#36807;&#32534;&#35793;。<br />
<br />
&#26469;&#20889;一&#20010;&#27979;&#35797;程序：</p>
<h5>Test.java </h5>
<pre class="code">
public class Test {
	public static void main(String[] args) {
		for(int i = 0; i < 10; i++) {
			int n = (int) (Math.random() * 10) % 2;
			switch (n) {
				case 0:
				doRequest(
				new HelloRequest("caterpillar"));
				break;
				case 1:
				doRequest(new WelcomeRequest("PmWiki"));
			}
		}
	}
	public static void doRequest(IRequest request) {
		request.execute();
	}
}</pre>
<p> 在&#36825;&#20010;程序中，即使doRequest()并不知道&#20256;入的&#23545;象是哪一种&#31867;&#21035;的&#23454;例，但它只要知道&#36825;&#20010;&#23545;象的操作接口就可以正确的&#25191;行&#35831;求，&#36825;是界面&#23454;作的一&#20010;&#23454;&#38469;&#24212;用，也是很常&#35265;到的一种&#24212;用。<br />
<br />
在C++中可以使用多重&#32487;承，但在Java中只能&#21333;一&#32487;承，也就是一次只能&#25193;充一&#20010;&#31867;&#21035;，Java使用interface&#26469;&#36798;到某些多重&#32487;承的目的，您可 以一次&#23454;作多&#20010;接口，就像是同&#26102;&#32487;承多&#20010;抽象&#31867;&#21035;（&#23454;&#38469;上&#36825;是C++中多重&#32487;承的一&#20010;&#23454;&#38469;&#36816;用方式），&#23454;作多&#20010;接口的方式如下： </p>
<pre class="code">public class 类别名称 implements 接口1, 接口2, 接口3 { 
	// 界面实作 
}</pre>
<p>&#24403;您&#23454;作多&#20010;接口&#26102;，&#35760;得您必&#39035;&#23454;作每一&#20010;接口中所定&#20041;的方法，由于您&#23454;作了多&#20010;接口，所以要操作&#23545;象&#26102;，必要&#26102;您必&#39035;作「接口&#36716;&#25442;」，如此程序才能知道如何正确的操作&#23545;象，例如假&#35774;someObject&#23454;作了ISomeInterface1与ISomeInterface2&#20004;&#20010;接口，&#21017;我&#20204;可以如下&#23545;&#23545;象&#36827;行接口&#36716;&#25442;与操作：</p>
<pre class="code">ISomeInterface1 obj1 = (ISomeInterface1) someObject;
obj1.doSomeMethodOfISomeInterface1();


ISomeInterface2 obj2 = (ISomeInterface2) someObject;
obj2.doSomeMethodOfISomeInterface2();</pre>
<p>&nbsp;
&#24403; <a
href="49.html">抽象&#31867;&#21035;</a> 中的所有方法都是抽象方法&#26102;，它的作用就与接口有些&#31867;似（像在C++中，并&#27809;有&#21306;分抽象&#31867;&#21035;与接口），但&#35760;得在Java中只允&#35768;&#21333;一&#32487;承，所以您不能同&#26102; &#32487;承多&#20010;抽象方法。<br />
<br />
事&#23454;上在Java里，抽象&#31867;&#21035;中并不&#20250;全是抽象方法，&#36825;么使用并不适&#24403;，在Java中&#21306;分抽象&#31867;&#21035;与接口，其在&#35821;&#20041;上是有所不同的，例如抽象&#31867;&#21035;中允&#35768;您 先&#23454;作某些方法，而保留一些抽象方法不&#23454;作，其&#24212;用&#22330;合之一是像 Template Method
模式 中介&#32461;的接口定&#20041;中的方法&#21017;是完全不&#23454;作，它只定&#20041;方法名&#31216;，接口常用于&#35268;范&#32479;一的操作界面，其&#24212;用&#22330;合之一是像 Command 模式 中介&#32461;的，接口定&#20041;一&#32452;&#21327;&#35758;，所有&#23454;作它的&#31867;&#21035;都必&#39035;遵守的&#21327;&#35758;，接口可以保&#35777;&#23454;作它的&#31867;&#21035;一定&#20250;&#23454;作所定&#20041;的方法。 <br />
<br />
接口也可以&#36827;行&#32487;承的&#21160;作，同&#26679;也是使用&quot;extends&quot;&#20851;&#38190;&#35789;，例如：</p>
<pre class="code">public interface 名称 extends 接口1, 接口2 { 
	// ... 
} </pre>
<p> 不同于&#31867;&#21035;的是，接口可以同&#26102;&#32487;承多&#20010;接口，&#36825;也可以&#36798;到&#31867;似C++中多重&#32487;承的功能，而&#23454;作子接口的&#31867;&#21035;必&#39035;&#23558;所有在父接口和子接口中所定&#20041;的方法&#23454;做出&#26469;。</p>
<ul>
 <li>多型（Polymorphism）操作的&#24212;用太多了，&#20174; &#35774; &#35745;模式 &#24320;始&#23398;&#20064;&#20250;是&#20010;不&#38169;的&#36873;&#25321;。 </li>
 <li>在宣告接口的名&#31216;&#26102;，一&#20010;常&#35265;的&#24815;例是在名&#31216;前加上 'I' ，&#36825;明&#26174;表示&#36825;是一&#20010;接口。</li>
 <li>我喜&#27426;用接口&#36716;&#25442;，而不是用&#36716;型（Cast），&#20026;&#23545;象&#36716;&#25442;一&#20010;操作接口，而不是&#23558;&#23545;象&#36716;型。</li>
</ul>

<div class="rpindex"><a href="52.html"> 下一页</a><a href="50.html"> 上一页</a><a href="index.html">首页</a></div>



<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
