<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->


<div class="lpindex"><a href="index.html">首页</a><a href="96.html"> 上一页</a><a href="98.html"> 下一页</a></div>
<h1>第12章_模板
  </p>
  </h1>
<p>教学目标
  </p>
</p>
<p>
     
  ●用函数模板生成相关(重载)函数组</p><p>
       
  ●区分函数模板与模板函数</p><p>
     
  ●用类模板生成相关类型组</p><p>
     
  ●区分类楼板与模板类</p><p>
     
  ●了解如何重载模板函数</p><p>
       
  ●了解模板、友元、继承与静态成员之间的关系</p>
  <h2>
    12．1 简介</h2>
  <p>
     
  本章介绍C++最强大的特性之一 ——   模板。模板使我们可以用一个代码段指定一组相关(重载)函数(称为模板函数)或一组相关类(称为模板类)。</p><p>
       
  我们可以对数组排序函数编写一个函数模板，然后Cc++自动生成模板函数，可以对int数组、float数组和字符串数组等等进行排序。</p><p>
       
  第3章介绍了函数模板。如果读者没有阅读该章，则这里再提供一些介绍和例子。</p><p>
       
  我们可以对堆栈类编写一个类模板，然后让C++自动生成如int、float和string堆栈类的类模板。</p><p>
       
  注意区分函数摸板与模板函数：函数模板和类模板像是具有各种形状的模板，而模板函数和模板类则相当于按照模板描绘，其形状都是相同的．只是画上不同的颜色。</p>
  <h5>
    软件工程视点12. 1</h5>
  <p>
     
  模板是C++的软件复用的功能之一。</p>
  <p>
  本章介绍一些函数模板和类模板的例子，并介绍模扳与其他C++特性(如重载、继承、友元和static成员)之间的关系。</p>
  <p>
       
  这里介绍的模扳机制的设计和细节基于Bjarne Stroustrup的论文《Parameterized Types for   C++》，发表于1988年10月在科罗拉多州丹佛举办的USENIX C++会议上(Proceedings of the USENIX C++   Conference)。</p><p>
       
  本章只是关于模板问题的简介，第20章“标准模板库(STL)”将深入介绍模板容器类、迭代器和STL算法。第20章有几十个基于摸板的“有生命力的代码”，演示了更复杂的模板编程技术。</p>
  <h2>
    <a name="12.2" id="12.2"></a>12．2 函数模板</h2>
  <p>
       
  重载函数通常是基于不同的数据类型完成类似的操作。如果对每种数据类型的操作是相同的，那么用函数模扳完成这项工作更为简洁和方便。程序员对函数模板的定义只编写一次。基于调用函数时提供的参数类型，C++自动产生单独的目标代码函数来正确地处理每种类型的调用。在C浯言中，这个任务是用预处理指令#define建立的宏完成的(见第17章)。但是，宏可能会产生副作用，并且使编译器不能进行类型检查。函数模板和宏一样的简洁，并且还能让编译器进行全面的类型检查。</p>
  <h5>
    测试与调试提示12．1</h5>
  <p>
       
  函数模板和宏一样允许软件复用。但与宏不同的是，函数模板还可以消除许多类型错误，因为C++提供了安全的全面类型检查。</p>
  <p>
  所有的函数模板定义都是用关键字template开始的，该关键字之后是用尖括号&lt;&gt;括起来的形式参数表。每一个形式参数之前都有关健字class，例如：</p>
  <pre class="code">template<class T>
或
template<class ElementType>
或
template<class BorderType，class FillType></pre>
  <p>
  内部类型和自定义类型可用来指定传递给函数的参数类型、函数返回类型和声明函数中变量，函数模板中的形式参数的用法与之类似。该函数定义的方式与定义其他函数类似。注意关键字class指定函数模板类型参数，实际上表示“任何内部类型或用户自定义类型”。</p>
  <h5>
    常见编程错误12．1</h5>
  <p>
     
  函数模板的每个形式类型参数之前不放置关键字class(或新的关键字typename)。</p><p>
       
  下面看看图12．1的printArray函数模板，这个函数的用法见图12．2的完整程序。</p><pre class="code">void printArray( const int*, const int );<br />void printArray( const double*, const int );<br />void printArray( const char*, const int );<br /> // Fig 12.2: fig12_02.cpp<br /> // Using template functions<br /> #include &lt;iostream.h&gt;<br /> template&lt; class T &gt;<br /> void printArray( const T *array, const int count )<br /> {<br />   for (int i = 0; i &lt; count; i++ )<br />     cout &lt;&lt; array[ i ] &lt;&lt;&quot; &quot;;<br />   cout &lt;&lt; endl;<br />}<br /> int main()<br /> {<br />   const int aCount = 5, bCount = 7, cCount = 6;<br />   int a[ aCount ] = { 1, 2, 3, 4, 5 };<br />   double b[ bCount ] = { 1.1, 2.2, 3.3, 4.4, 6.5, 6.6, 7.7 };<br />   char c[ cCount ] = &quot;HELLO&quot;;  // 6th position for null<br />   cout &lt;&lt; &quot;Array a contains:&quot; &lt;&lt; endl;<br />   printArray( a, aCount );  // integer template function<br />   cout &lt;&lt; &quot;Array b contains:&quot; &lt;&lt; endl;<br />   printArray( b, bCount );  // double template function<br />   cout &lt;&lt; &quot;Array c contains:&quot; &lt;&lt; endl;<br />   printArray( c, cCount );  // character template function<br />   return 0;<br /> }<br />&nbsp;</pre>
  <p>
  输出结果：</p><p>
  Array a contains:</p><p>
  1 2 3 4 5</p><p>
  Array b   contains:</p><p>
  1.1 2.2 3.3 4.4 5.5 6.6 7.7</p><p>
  Array c contains:</p><p>
  H E L L   O</p><p>
                               
  图 12.2 使用模板函数</p>
  <h5>
    
    性能提示 12. 1</h5>
  <p>
       
  模板提供了软件复用的好处。请记住，尽管模板只编写一次，但程序中仍然实例化多个模板类的副本。这些副本会占用大量内存。</p>
  <div class="rpindex"><a href="98.html"> 下一页</a><a href="96.html"> 上一页</a><a href="index.html">首页</a></div>


<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
