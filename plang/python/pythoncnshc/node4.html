<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->


<DIV CLASS="navigation">
<div id='top-navigation-panel' xml:id='top-navigation-panel'>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="1. 开胃菜 Whetting Your"
  href="node3.html"><img src='icons/previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></A></td>
<td class='online-navigation'><a rel="parent" title="Python Tutorial"
  href="tut.html"><img src='icons/up.png'
  border='0' height='32'  alt='Up One Level' width='32' /></A></td>
<td class='online-navigation'><a rel="next" title="3. Python简介 An Informal"
  href="node5.html"><img src='icons/next.png'
  border='0' height='32'  alt='Next Page' width='32' /></A></td>
<td align="center" width="100%" class='online-navigation'>Python Tutorial</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="node2.html"><img src='icons/contents.png'
  border='0' height='32'  alt='Contents' width='32' /></A></td>
<td class='online-navigation'><img src='icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node3.html">1. 开胃菜 Whetting Your</A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="tut.html">Python Tutorial</A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="node5.html">3. Python简介 An Informal</A>
</div>
<hr /></div>
</DIV>
<!--End of Navigation Panel-->
<div class='online-navigation'>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></a>

<UL CLASS="ChildLinks">
<LI><A href="node4.html#SECTION004100000000000000000">2.1 调用解释器 Invoking the Interpreter</a>
<UL>
<LI><A href="node4.html#SECTION004110000000000000000">2.1.1 参数传递 Argument Passing</a>
<LI><A href="node4.html#SECTION004120000000000000000">2.1.2 交互模式 Interactive Mode</a>
</ul>
<LI><A href="node4.html#SECTION004200000000000000000">2.2 解释器及其环境 The Interpreter and Its Environment</a>
<UL>
<LI><A href="node4.html#SECTION004210000000000000000">2.2.1 错误处理 Error Handling</a>
<LI><A href="node4.html#SECTION004220000000000000000">2.2.2 执行Python脚本 Executable Python Scripts</a>
<LI><A href="node4.html#SECTION004230000000000000000">2.2.3 源程序编码 Source Code Encoding</a>
<LI><A href="node4.html#SECTION004240000000000000000">2.2.4 交互式环境的启动文件 The Interactive Startup File</a>
</ul></ul>
<!--End of Table of Child-Links-->
</div>
<HR>

<H1><A NAME="SECTION004000000000000000000"></A><A NAME="using"></A>
<BR>
2. 使用Python解释器 Using the Python Interpreter 
</H1>

<P>

<H1><A NAME="SECTION004100000000000000000"></A><A NAME="invoking"></A>
<BR>
2.1 调用解释器 Invoking the Interpreter</H1>

<P>
通常 Python 的解释器被安装在目标机器的
<span class="file">/usr/local/bin/python</span> 目录下；把 <span class="file">/usr/local/bin</span>
目录放进你的<span class="Unix">Unix</span> Shell 的搜索路径里，确保它可以通过输入

<P>
<div class="verbatim">
<pre>
python</pre></div>

<P>
来启动。因为安装路径是可选的，所以也有可能安装在其它位置，你可以与安装
Python
的用户或系统管理员联系。（例如，<span class="file">/usr/local/python</span>就是一个很常见的选择）
<P>
输入一个文件结束符（<span class="Unix">Unix</span>
上是<kbd>Ctrl+D</kbd>，Windows上是<kbd>Ctrl+Z</kbd>）解释器会以0值退出（就是说，没有什么错误，正常退出－－译者）。如果这没有起作用，你可以输入以下命令退出："<tt class="samp">import
sys; sys.exit()</tt>"。
<P>
解释器的行编辑功能并不很复杂。装在<span class="Unix">Unix</span>上的解释器可能会有GNU
readline
库支持，这样就可以额外得到精巧的交互编辑和历史记录功能。可能检查命令行编辑器支持能力最方便的方式是在主提示符下输入Ctrl-P。如果有嘟嘟声（计算机扬声器），说明你可以使用命令行编辑功能，从附录
A 
可以查到快捷键的介绍。如果什么也没有发声，或者<code>P</code>显示了出来，说明命令行编辑功能不可用，你只有用退格键删掉输入的命令了。

<P>
解释器的操作有些像 <span class="Unix">Unix</span>
Shell：使用终端设备做为标准输入来调用它时，解释器交互的解读和执行命令，通过文件名参数或以文件做为标准输入设备时，它从文件中解读并执行<em>脚本</em>。
<P> 启动解释器的第二个方法是"<tt class="samp"><b class="program">python</b> <b class="programopt">-c</b>
    <var>command</var> [arg]
...</tt>"，这种方法可以在命令行中直接执行语句，等同于Shell的 <b class="programopt">-c</b>选项。因为Python语句通常会包括空格之类的特殊字符，所以最好把整个<var>语句</var>用双引号包起来。
<P> 注意"<tt class="samp">python file</tt>"和"<tt class="samp">python
&lt;file</tt>"是有区别的。对于后一种情况，程序中类似于调用 <tt class="function">input()</tt><tt class="function">raw_input()</tt>
这样的输入请求，来自于确定的<em>文件</em>。因为在解析器开始执行之前，文件已经完全读入，所以程序指向文件尾。在前一种情况（这通常是你需要的）它们从来自于任何联接到
Python 解释器的标准输入，无论它们是文件还是其它设备。
<P>
使用脚本文件时，经常会运行脚本然后进入交互模式。这也可以通过在脚本之前加上
  <b class="programopt">-i</b>
参数来实现。（如果脚本来自标准输入，就不能这样运行，与前一段提到的原因一样。）
<P>

<H2><A NAME="SECTION004110000000000000000"></A><A NAME="argPassing"></A>
<BR>
2.1.1 参数传递 Argument Passing 
</H2>

<P>
调用解释器时，脚本名和附加参数之传入一个名为 <code>sys.argv</code>
的字符串列表。没有脚本和参数时，它至少也有一个元素：
<code>sys.argv[0]</code> 此时为空字符串。脚本名指定为 <code>'-'</code>
（表示标准输入）时， <code>sys.argv[0]</code>被设置为<code>'-'</code>，使用
<b class="programopt">-c</b> <var>指令</var> 时， <code>sys.argv[0]</code>
被设定为<code>'-c'</code>。 <b class="programopt">-c</b> <var>命令</var>之后的参数不会被
Python 解释器的选项处理机制所截获，而是留在<code>sys.argv</code>
中，供脚本命令操作。
<H2><A NAME="SECTION004120000000000000000"></A><A NAME="interactive"></A>
<BR>
2.1.2 交互模式 Interactive Mode 
</H2>

<P>
从 tty 读取命令时，我们称解释器工作于 <em>交互模式</em>
。这种模式下它根据 <em>主提示符</em> 来执行，主提示符通常标识为三个大于号（ "<tt class="samp">&gt;<code>&gt;</code>&gt;&nbsp;</tt>"
）；继续的部分被称为 <em>从属提示符</em> ，由三个点标识（
"<tt class="samp">...&nbsp;</tt>"
）。在第一行之前，解释器打印欢迎信息、版本号和授权提示：
<P>
<div class="verbatim"><pre>
python
Python 1.5.2b2 (#1, Feb 28 1999, 00:02:06)  [GCC 2.8.1] on sunos5
Copyright 1991-1995 Stichting Mathematisch Centrum, Amsterdam
&gt;&gt;&gt;
</pre></div>

<P>
输入多行结构时需要从属提示符了，例如，下面这个  <tt class="keyword">if</tt>
语句：
<P>
<div class="verbatim"><pre>
&gt;&gt;&gt; the_world_is_flat = 1
&gt;&gt;&gt; if the_world_is_flat:
...     print "Be careful not to fall off!"
...
Be careful not to fall off!
</pre></div>

<P>

<H1><A NAME="SECTION004200000000000000000"></A><A NAME="interp"></A>
<BR>
2.2 解释器及其环境 The Interpreter and Its Environment 
</H1>

<P>

<H2><A NAME="SECTION004210000000000000000"></A><A NAME="error"></A>
<BR>
2.2.1 错误处理 Error Handling 
</H2>

<P>
有错误发生时，解释器打印一个错误信息和栈跟踪器。交互模式下，它返回主提示符，如果从文件输入执行，它在打印栈跟踪器后以非零状态退出。（异常可以由
  <tt class="keyword">try</tt> 语句中的 <tt class="keyword">except</tt>
子句来控制，这样就不会出现上文中的错误信息）有一些非常致命的错误会导致非零状态下退出，这由通常由内部矛盾和内存溢出造成。所有的错误信息都写入标准错误流；命令中执行的普通输出写入标准输出。
<P>
在主提示符或附属提示符输入中断符（通常是Control-C or
DEL）就会取消当前输入，回到主命令行。 <A NAME="tex2html2"
  HREF="#foot135"><SUP>2.2</SUP></A>.执行命令时输入一个中断符会抛出一个
<tt class="exception">KeyboardInterrupt</tt> 异常，它可以被 <tt class="keyword">try</tt>
句截获。
<H2><A NAME="SECTION004220000000000000000"></A><A NAME="scripts"></A>
<BR>
2.2.2 执行Python脚本 Executable Python Scripts 
</H2>

<P>
On BSD'ish <span class="Unix">Unix</span> systems, Python scripts can be made directly
executable, like shell scripts, by putting the line

<P>
BSD类的 <span class="Unix">Unix</span>系统中，Python 脚本可以像 Shell
脚本那样直接执行。只要在脚本文件开头写一行命令，指定文件和模式：

<P>
<div class="verbatim"><pre>
#! /usr/bin/env python
</pre></div>

<P> (将用户路径通知解释器) "<tt class="samp">#!</tt>"
  必须是文件的前两个字符，在某些平台上，第一行必须以 <span class="Unix">Unix</span> 风格的行结束符（"<tt class="character">&#92;n</tt>"）结束，不能用Mac（"<tt class="character">&#92;
  r</tt>"）或Windows（"<tt class="character">&#92;r&#92;
  n</tt>"）的结束符。注意，"<tt class="character">#</tt>"是Python中是行注释的起始符。
<P>
脚本可以通过 <b class="program">chmod</b> 命令指定执行模式和许可权。
<P>
<div class="verbatim"><pre>
$ chmod +x myscript.py
</pre></div> 
<P>

<H2><A NAME="SECTION004230000000000000000">
2.2.3 源程序编码 Source Code Encoding</A>
</H2>

<P>
Python 的源文件可以通过编码使用 ASCII 以外的字符集。
最好的做法是在 <code>#!</code> 行后面用一个特殊的注释行来定义字符集。
<P>
<div class="verbatim"><pre>
# -*- coding: iso-8859-1 -*-
</pre></div>

<P>
根据这个声明，Python 会将文件中的字符尽可能的从指定的编码转为
Unicode，在本例中，这个字符集是 iso-8859-1 。在
  <em class="citetitle">Python 库参考手册</em> 中
  <tt class="module">codecs</tt>部份可以找到可用的编码列表（根据个人经验，推荐使用
cp-936或utf-8处理中文－－译者注）。
<P>
如果你的文件编辑器支持 <code>UTF-8</code> 格式，并且可以保存
<code>UTF-8</code> 标记（<em>aka BOM - Byte Order
Mark</em>），你可以用这个来代替编码声明。IDLE可以通过设定<code>Options/General/Default
Source Encoding/UTF-8</code>
来支持它。需要注意的是旧版Python不支持这个标记（Python
2.2或更早的版本），同样支持<code>#!</code>文件的操作系统也不会支持它（即<code>#!</code>和
# -*- coding: -*- 二者必择其一——译者）。
<P>
使用 UTF-8
内码（无论是用标记还是编码声明），我们可以在字符串和注释中使用世界上的大部分语言。标识符中不能使用非
ASCII
字符集。为了正确显示所有的字符，你一定要在编辑器中将文件保存为
UTF-8 格式，而且要使用支持文件中所有字符的字体。
<H2><A NAME="SECTION004240000000000000000"></A><A NAME="startup"></A>
<BR>
2.2.4 交互式环境的启动文件 The Interactive Startup File 
</H2>

<P>
使用 Python
解释器的时候，我们可能需要在每次解释器启动时执行一些命令。你可以在一个文件中包含你想要执行的命令，设定一个名为
  <a class="envvar" id='l2h-3' xml:id='l2h-3'>PYTHONSTARTUP</a> 的环境变量来指定这个文件。这类似于 Unix
shell的 <span class="file">.profile</span> 文件。
<P>
这个文件在交互会话期是只读的，当 Python 从脚本中解读文件或以终端
  <span class="file">/dev/tty</span>
做为外部命令源时则不会如此（尽管它们的行为很像是处在交互会话期。）它与解释器执行的命令处在同一个命名空间，所以由它定义或引用的一切可以在解释器中不受限制的使用。你也可以在这个文件中改变
<code>sys.ps1</code> 和 <code>sys.ps2</code> 指令。
<P> 如果你想要在当前目录中执行附加的启动文件，可以在全局启动文件中加入类似以下的代码：
"<tt class="samp">if os.path.isfile('.pythonrc.py'):
execfile('.pythonrc.py')</tt>"。
如果你想要在某个脚本中使用启动文件，必须要在脚本中写入这样的语句：
<P>
<div class="verbatim"><pre>
import os
filename = os.environ.get('PYTHONSTARTUP')
if filename and os.path.isfile(filename):
    execfile(filename)
</pre></div>

<P>
<BR><HR><H4>Footnotes</H4>
<DL>
<DT><A NAME="foot135">...
DEL）就会取消当前输入，回到主命令行。</A><A
 HREF="node4.html#tex2html2"><SUP>2.2</SUP></A></DT>
<DD>GNU readline
包的一个错误可能会造成无法正常工作。</DD>
</DL>
<DIV CLASS="navigation">
<div class='online-navigation'>
  <hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="1. 开胃菜 Whetting Your"
  href="node3.html"><img src='icons/previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></A></td>
<td class='online-navigation'><a rel="parent" title="Python Tutorial"
  href="tut.html"><img src='icons/up.png'
  border='0' height='32'  alt='Up One Level' width='32' /></A></td>
<td class='online-navigation'><a rel="next" title="3. Python简介 An Informal"
  href="node5.html"><img src='icons/next.png'
  border='0' height='32'  alt='Next Page' width='32' /></A></td>
<td align="center" width="100%" class='online-navigation'>Python Tutorial</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="node2.html"><img src='icons/contents.png'
  border='0' height='32'  alt='Contents' width='32' /></A></td>
<td class='online-navigation'><img src='icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node3.html">1. 开胃菜 Whetting Your</A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="tut.html">Python Tutorial</A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="node5.html">3. Python简介 An Informal</A>
</div>
</div>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
</ADDRESS>
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
