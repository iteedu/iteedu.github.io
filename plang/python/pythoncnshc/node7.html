<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->


<DIV CLASS="navigation">
<div id='top-navigation-panel' xml:id='top-navigation-panel'>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="4. 深入流程控制 More Control"
  href="node6.html"><img src='icons/previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></A></td>
<td class='online-navigation'><a rel="parent" title="Python Tutorial"
  href="tut.html"><img src='icons/up.png'
  border='0' height='32'  alt='Up One Level' width='32' /></A></td>
<td class='online-navigation'><a rel="next" title="6. 模块 Modules"
  href="node8.html"><img src='icons/next.png'
  border='0' height='32'  alt='Next Page' width='32' /></A></td>
<td align="center" width="100%" class='online-navigation'>Python Tutorial</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="node2.html"><img src='icons/contents.png'
  border='0' height='32'  alt='Contents' width='32' /></A></td>
<td class='online-navigation'><img src='icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node6.html">4. 深入流程控制 More Control</A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="tut.html">Python Tutorial</A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="node8.html">6. 模块 Modules</A>
</div>
<hr /></div>
</DIV>
<!--End of Navigation Panel-->
<div class='online-navigation'>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></a>

<UL CLASS="ChildLinks">
<LI><A href="node7.html#SECTION007100000000000000000">5.1 深入链表 More on Lists</a>
<UL>
<LI><A href="node7.html#SECTION007110000000000000000">5.1.1 把链表当作堆栈使用 Using Lists as Stacks</a>
<LI><A href="node7.html#SECTION007120000000000000000">5.1.2 把链表当作队列使用 Using Lists as Queues</a>
<LI><A href="node7.html#SECTION007130000000000000000">5.1.3 函数化编程工具 Functional Programming Tools</a>
<LI><A href="node7.html#SECTION007140000000000000000">5.1.4 链表推导式 List Comprehensions</a>
</ul>
<LI><A href="node7.html#SECTION007200000000000000000">5.2 <tt class="keyword">del</tt> 语句</a>
<LI><A href="node7.html#SECTION007300000000000000000">5.3 元组（Tuples）和序列（Sequences ）Tuples and Sequences</a>
<LI><A href="node7.html#SECTION007400000000000000000">5.4 Dictionaries 字典</a>
<LI><A href="node7.html#SECTION007500000000000000000">5.5 循环技巧 Looping Techniques</a>
<LI><A href="node7.html#SECTION007600000000000000000">5.6 深入条件控制 More on Conditions</a>
<LI><A href="node7.html#SECTION007700000000000000000">5.7 比较序列和其它类型 Comparing Sequences and Other Types</a>
</ul>
<!--End of Table of Child-Links-->
</div>
<HR>

<H1><A NAME="SECTION007000000000000000000"></A><A NAME="structures"></A>
<BR>
5. 数据结构 Data Structures 
</H1>

<P>本章节深入讲述一些你已经学习过的东西，并且还加入了新的内容。

<H1><A NAME="SECTION007100000000000000000"></A><A NAME="moreLists"></A>
<BR>
5.1 深入链表 More on Lists 
</H1>

<P>链表类型有很多方法，这里是链表类型的所有方法：

<table cellpadding="0" cellspacing="0">
  <tr valign="baseline">
    <td><nobr><b><tt id='l2h-15' xml:id='l2h-15' class="method">append</tt></b>(</nobr></td>
    <td><var>x</var>)</td>
  </tr>
</table>
<p>一个元素添加到链表的结尾，相当于 <code>a[len(a):] = [x]</code></p>
<table cellpadding="0" cellspacing="0">
  <tr valign="baseline">
    <td><nobr><b><tt id='l2h-16' xml:id='l2h-16' class="method">extend</tt></b>(</nobr></td>
    <td><var>L</var>)</td>
  </tr>
</table>
<p>过添加指定链表的所有元素来扩充链表，相当于 <code>a[len(a):] = L</code>。</p>
<table cellpadding="0" cellspacing="0">
  <tr valign="baseline">
    <td><nobr><b><tt id='l2h-17' xml:id='l2h-17' class="method">insert</tt></b>(</nobr></td>
    <td><var>i, x</var>)</td>
  </tr>
</table>
<P> 在指定位置插入一个元素。第一个参数是准备插入到其前面的那个元素的索引，例如<code>a.insert(0, x)</code> 会插入到整个链表之前，而<code>a.insert(len(a), x)</code> 相当于 <code>a.append(x)</code>。
<table cellpadding="0" cellspacing="0">
  <tr valign="baseline">
    <td><nobr><b><tt id='l2h-18' xml:id='l2h-18' class="method">remove</tt></b>(</nobr></td>
    <td><var>x</var>)</td>
  </tr>
</table>
<p>除链表中值为<var>x</var>的第一个元素。如果没有这样的元素，就会返回一个错误。</p>
<table cellpadding="0" cellspacing="0">
  <tr valign="baseline">
    <td><nobr><b><tt id='l2h-19' xml:id='l2h-19' class="method">pop</tt></b>(</nobr></td>
    <td><big>[</big><var>i</var><big>]</big>)</td>
  </tr>
</table>
<P> 从链表的指定位置删除元素，并将其返回。如果没有指定索引，<code>a.pop()</code>返回最后一个元素。元素随即从链表中被删除。（方法中<var>i</var>两边的方括号表示这个参数是可选的，而不是要求你输入一对方括号，你会经常在<em class="citetitle">Python 库参考手册</em>中遇到这样的标记。）
<table cellpadding="0" cellspacing="0">
  <tr valign="baseline">
    <td><nobr><b><tt id='l2h-20' xml:id='l2h-20' class="method">index</tt></b>(</nobr></td>
    <td><var>x</var>)</td>
  </tr>
</table>
<p>回链表中第一个值为<var>x</var>的元素的索引。如果没有匹配的元素就会返回一个错误。</p>
<table cellpadding="0" cellspacing="0">
  <tr valign="baseline">
    <td><nobr><b><tt id='l2h-21' xml:id='l2h-21' class="method">count</tt></b>(</nobr></td>
    <td><var>x</var>)</td>
  </tr>
</table>
 <p>回<var>x</var>在链表中出现的次数。</p>
  <dt>
   <table cellpadding="0" cellspacing="0">
     <tr valign="baseline">
       <td><nobr><b><tt id='l2h-22' xml:id='l2h-22' class="method">sort</tt></b>(</nobr></td>
       <td>)</td>
     </tr>
   </table>
 </dt>
 &nbsp;
<dt>链表中的元素进行适当的排序。 </dt>
 <P>
 <dt>
   <table cellpadding="0" cellspacing="0">
     <tr valign="baseline">
       <td><nobr><b><tt id='l2h-23' xml:id='l2h-23' class="method">reverse</tt></b>(</nobr></td>
       <td>)</td>
     </tr>
   </table>
 </dt>
 <P> 倒排链表中的元素。
<P>
下面这个示例演示了链表的大部分方法：

<P>
<div class="verbatim"><pre>
&gt;&gt;&gt; a = [66.6, 333, 333, 1, 1234.5]
&gt;&gt;&gt; print a.count(333), a.count(66.6), a.count('x')
2 1 0
&gt;&gt;&gt; a.insert(2, -1)
&gt;&gt;&gt; a.append(333)
&gt;&gt;&gt; a
[66.6, 333, -1, 333, 1, 1234.5, 333]
&gt;&gt;&gt; a.index(333)
1
&gt;&gt;&gt; a.remove(333)
&gt;&gt;&gt; a
[66.6, -1, 333, 1, 1234.5, 333]
&gt;&gt;&gt; a.reverse()
&gt;&gt;&gt; a
[333, 1234.5, 1, 333, -1, 66.6]
&gt;&gt;&gt; a.sort()
&gt;&gt;&gt; a
[-1, 1, 66.6, 333, 333, 1234.5]
</pre></div>

<P>

<H2><A NAME="SECTION007110000000000000000"></A><A NAME="lists-as-stacks"></A>
<BR>
5.1.1 把链表当作堆栈使用 Using Lists as Stacks</H2>

<P>
链表方法使得链表可以很方便的做为一个堆栈来使用，堆栈作为特定的数据结构，最先进入的元素最后一个被释放（后进先出）。用<tt class="method">append()</tt> 方法可以把一个元素添加到堆栈顶。用不指定索引的<tt class="method">pop()</tt> 方法可以把一个元素从堆栈顶释放出来。例如：

<P>
<div class="verbatim"><pre>
&gt;&gt;&gt; stack = [3, 4, 5]
&gt;&gt;&gt; stack.append(6)
&gt;&gt;&gt; stack.append(7)
&gt;&gt;&gt; stack
[3, 4, 5, 6, 7]
&gt;&gt;&gt; stack.pop()
7
&gt;&gt;&gt; stack
[3, 4, 5, 6]
&gt;&gt;&gt; stack.pop()
6
&gt;&gt;&gt; stack.pop()
5
&gt;&gt;&gt; stack
[3, 4]
</pre></div>

<P>

<H2><A NAME="SECTION007120000000000000000"></A><A NAME="lists-as-queues"></A>
<BR>
5.1.2 把链表当作队列使用 Using Lists as Queues</H2>

<P>
你也可以把链表当做队列使用，队列作为特定的数据结构，最先进入的元素最先释放（先进先出）。使用
<tt class="method">append()</tt>方法可以把元素添加到队列最后，以0为参数调用
<tt class="method">pop()</tt> 方法可以把最先进入的元素释放出来。例如：

<P>
<div class="verbatim"><pre>
&gt;&gt;&gt; queue = ["Eric", "John", "Michael"]
&gt;&gt;&gt; queue.append("Terry")           # Terry arrives
&gt;&gt;&gt; queue.append("Graham")          # Graham arrives
&gt;&gt;&gt; queue.pop(0)
'Eric'
&gt;&gt;&gt; queue.pop(0)
'John'
&gt;&gt;&gt; queue
['Michael', 'Terry', 'Graham']
</pre></div>

<P>

<H2><A NAME="SECTION007130000000000000000"></A><A NAME="functional"></A>
<BR>
5.1.3 函数化编程工具 Functional Programming Tools</H2>

<P>
对于链表来讲，有三个内置函数非常有用：<tt class="function">filter()</tt>，
<tt class="function">map()</tt>， 和 <tt class="function">reduce()</tt>。

<P>
"<tt class="samp">filter(function, sequence)</tt>"返回一个序列（<var>sequence</var>），包括了给定序列中所有调用<code><var>function</var>(<var>item</var>)</code>后返回值为true的元素。（如果可能的话，会返回相同的类型）。例如，以下程序可以计算部分素数：

<P>
<div class="verbatim"><pre>
&gt;&gt;&gt; def f(x): return x % 2 != 0 and x % 3 != 0
...
&gt;&gt;&gt; filter(f, range(2, 25))
[5, 7, 11, 13, 17, 19, 23]</pre></div>

<P>
"<tt class="samp">map(<var>function</var>, <var>sequence</var>)</tt>" 为每一个元素依次调用<code><var>function</var>(<var>item</var>)</code>并将返回值组成一个链表返回。例如，以下程序计算立方：

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; def cube(x): return x*x*x
...
&gt;&gt;&gt; map(cube, range(1, 11))
[1, 8, 27, 64, 125, 216, 343, 512, 729, 1000]
</pre></div>

<P>
可以传入多个序列，函数也必须要有对应数量的参数，执行时会依次用各序列上对应的元素来调用函数（如果某些序列比其它的短，就用<code>None</code>来代替）。如果把None做为一个函数传入，则直接返回参数做为替代。例如：

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; seq = range(8)
&gt;&gt;&gt; def add(x, y): return x+y
...
&gt;&gt;&gt; map(add, seq, seq)
[0, 2, 4, 6, 8, 10, 12, 14]"<tt class="samp">reduce(<var>func</var>, <var>sequence</var>)</tt>"
  返回一个单值，它是这样构造的：首先以序列的前两个元素调用函数，再以返回值和第三个参数调用，依次执行下去。例如，以下程序计算1到10的整数之和：
</pre></div>

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; def add(x,y): return x+y
...
&gt;&gt;&gt; reduce(add, range(1, 11))
55
</pre></div>

<P>
如果序列中只有一个元素，就返回它，如果序列是空的，就抛出一个异常。
<P>
可以传入第三个参数做为初始值。如果序列是空的，就返回初始值，否则函数会先接收初始值和序列的第一个元素，然后是返回值和下一个元素，依此类推。例如：

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; def sum(seq):
...     def add(x,y): return x+y
...     return reduce(add, seq, 0)
...
&gt;&gt;&gt; sum(range(1, 11))
55
&gt;&gt;&gt; sum([])
0
</pre></div>

<P>
不要像示例中这样定义<tt class="function">sum()</tt>：因为合计数值是一个通用的需求，在2.3版中，提供了内置的<code>sum(<var>sequence</var>)</code> 函数。

<span class="versionnote">New in version 2.3.</span>

<P>

<H2><A NAME="SECTION007140000000000000000">
5.1.4 链表推导式 List Comprehensions</A></H2>

<P>
链表推导式提供了一个创建链表的简单途径，无需使用<tt class="function">map()</tt>， <tt class="function">filter()</tt> 以及 <tt class="keyword">lambda</tt>。返回链表的定义通常要比创建这些链表更清晰。每一个链表推导式包括在一个<tt class="keyword">for</tt> 语句之后的表达式，零或多个 <tt class="keyword">for</tt>或 <tt class="keyword">if</tt> 语句。返回值是由 <tt class="keyword">for</tt> 或 <tt class="keyword">if</tt>子句之后的表达式得到的元素组成的链表。如果想要得到一个元组，必须要加上括号。

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; freshfruit = ['  banana', '  loganberry ', 'passion fruit  ']
&gt;&gt;&gt; [weapon.strip() for weapon in freshfruit]
['banana', 'loganberry', 'passion fruit']
&gt;&gt;&gt; vec = [2, 4, 6]
&gt;&gt;&gt; [3*x for x in vec]
[6, 12, 18]
&gt;&gt;&gt; [3*x for x in vec if x &gt; 3]
[12, 18]
&gt;&gt;&gt; [3*x for x in vec if x &lt; 2]
[]
&gt;&gt;&gt; [[x,x**2] for x in vec]
[[2, 4], [4, 16], [6, 36]]
&gt;&gt;&gt; [x, x**2 for x in vec]  # error - parens required for tuples
  File "&lt;stdin&gt;", line 1, in ?
    [x, x**2 for x in vec]
               ^
SyntaxError: invalid syntax
&gt;&gt;&gt; [(x, x**2) for x in vec]
[(2, 4), (4, 16), (6, 36)]
&gt;&gt;&gt; vec1 = [2, 4, 6]
&gt;&gt;&gt; vec2 = [4, 3, -9]
&gt;&gt;&gt; [x*y for x in vec1 for y in vec2]
[8, 6, -18, 16, 12, -36, 24, 18, -54]
&gt;&gt;&gt; [x+y for x in vec1 for y in vec2]
[6, 5, -7, 8, 7, -5, 10, 9, -3]
&gt;&gt;&gt; [vec1[i]*vec2[i] for i in range(len(vec1))]
[8, 12, -54]
</pre></div>

<P>
链表推导式比 <tt class="function">map()</tt>更复杂，可调用多个参数和嵌套函数。

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; [str(round(355/113.0, i)) for i in range(1,6)]
['3.1', '3.14', '3.142', '3.1416', '3.14159']

</pre></div>

<H1><A NAME="SECTION007200000000000000000"></A><A NAME="del"></A>
<BR>
5.2 <tt class="keyword">del</tt> 语句</H1>

<P>
有一个方法可从链表中删除指定索引的元素：<tt class="keyword">del</tt> 语句。这个方法也可以从链表中删除切片（之前我们是把一个空链表赋给切片）。例如：

<P>
<div class="verbatim"><pre>
&gt;&gt;&gt; a = [-1, 1, 66.6, 333, 333, 1234.5]
&gt;&gt;&gt; del a[0]
&gt;&gt;&gt; a
[1, 66.6, 333, 333, 1234.5]
&gt;&gt;&gt; del a[2:4]
&gt;&gt;&gt; a
[1, 66.6, 1234.5]</pre></div>

<P>
<tt class="keyword">del</tt> 也可以用于删除整个变量：

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; del a
</pre></div>

<P>
此后再引用这个名字会发生错误（至少要到给它赋另一个值为止）。后面我们还会发现<tt class="keyword">del</tt>的其它用法。

<P>

<H1><A NAME="SECTION007300000000000000000"></A><A NAME="tuples"></A>
<BR>
5.3 元组（Tuples）和序列（Sequences ）Tuples and Sequences</H1>

<P>
我们知道链表和字符串有很多通用的属性，例如索引和切片操作。它们是序列类型中的两种。因为Python是一个在不停进化的语言，也可能会加入其它的
<pre>
&gt;&gt;&gt; t = 12345, 54321, 'hello!'
&gt;&gt;&gt; t[0]
12345
&gt;&gt;&gt; t
(12345, 54321, 'hello!')
&gt;&gt;&gt; # Tuples may be nested:
... u = t, (1, 2, 3, 4, 5)
&gt;&gt;&gt; u
((12345, 54321, 'hello!'), (1, 2, 3, 4, 5))

</pre>
<P>
如你所见，元组在输出时总是有括号的，以便于正确表达嵌套结构。在输入时可能有或没有括号都可以，不过经常括号都是必须的（如果元组是一个更大的表达式的一部分）。
<P>
元组有很多用途。例如(x, y)坐标点，数据库中的员工记录等等。元组就像字符串，不可改变：不能给元组的一个独立的元素赋值（尽管你可以通过联接和切片来模仿）。也可以通过包含可变对象来创建元组，例如链表。
<P>
一个特殊的问题是构造包含零个或一个元素的元组：为了适应这种情况，语法上有一些额外的改变。一对空的括号可以创建空元组；要创建一个单元素元组可以在值后面跟一个逗号（在括号中放入一个单值是不够的）。丑陋，但是有效。例如：

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; empty = ()
&gt;&gt;&gt; singleton = 'hello',    # &lt;-- note trailing comma
&gt;&gt;&gt; len(empty)
0
&gt;&gt;&gt; len(singleton)
1
&gt;&gt;&gt; singleton
('hello',)
</pre></div>

<P>
语句 t = 12345, 54321, 'hello!' 是元组封装（sequence packing）的一个例子：值 12345， 54321 和 'hello!' 被封装进元组。其逆操作可能是这样：

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; x, y, z = t
</pre></div>

<P>
这个调用被称为<em>序列拆封</em>非常合适。序列拆封要求左侧的变量数目与序列的元素个数相同。要注意的是可变参数（multiple
assignment ）其实只是元组封装和序列拆封的一个结合！

<P>
There is a small bit of asymmetry here:  packing multiple values
always creates a tuple, and unpacking works for any sequence.

<P>
这里有一点不对称：封装多重参数通常会创建一个元组，而拆封操作可以作用于任何序列。

<P>

<H1><A NAME="SECTION007400000000000000000"></A><A NAME="dictionaries"></A>
<BR>
5.4 Dictionaries 字典</H1>

<P>
另一个非常有用的Python内建数据类型是<em>字典</em>。字典在某些语言中可能称为“联合内存”（``associative memories''）或“联合数组”（``associative arrays''）。序列是以连续的整数为索引，与此不同的是，字典以<em>关键字</em>为索引，关键字可以是任意不可变类型，通常用字符串或数值。如果元组中只包含字符串和数字，它可以做为关键字，如果它直接或间接的包含了可变对象，就不能当做关键字。不能用链表做关键字，因为链表可以用它们的<tt class="method">append()</tt> 和 <tt class="method">extend()</tt>方法，或者用切片、或者通过检索变量来即时改变。
<P>
理解字典的最佳方式是把它看做无序的<em>关键字：值</em> 对（key:value pairs）集合，关键字必须是互不相同的（在同一个字典之内）。一对大括号创建一个空的字典：<code>{}</code>。初始化链表时，在大括号内放置一组逗号分隔的关键字：值对，这也是字典输出的方式。
<P>
字典的主要操作是依据关键字来存储和析取值。也可以用 <code>del</code>来删除关键字：值对。如果你用一个已经存在的关键字存储值，以前为该关键字分配的值就会被遗忘。试图析取从一个不存在的关键字中读取值会导致错误。
<P>
字典的 <tt class="method">keys()</tt>方法返回由所有关键字组成的链表，该链表的顺序不定（如果你需要它有序，只能调用关键字链表的<tt class="method">sort()</tt> 方法）。使用字典的 <tt class="method">has_key()</tt>方法可以检查字典中是否存在某一关键字。
<P>
这是一个关于字典应用的小示例：

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; tel = {'jack': 4098, 'sape': 4139}
&gt;&gt;&gt; tel['guido'] = 4127
&gt;&gt;&gt; tel
{'sape': 4139, 'guido': 4127, 'jack': 4098}
&gt;&gt;&gt; tel['jack']
4098
&gt;&gt;&gt; del tel['sape']
&gt;&gt;&gt; tel['irv'] = 4127
&gt;&gt;&gt; tel
{'guido': 4127, 'irv': 4127, 'jack': 4098}
&gt;&gt;&gt; tel.keys()
['guido', 'irv', 'jack']
&gt;&gt;&gt; tel.has_key('guido')
True
</pre></div>

<P>
链表中存储关键字-值对元组的话，<tt class="function">字典</tt>可以从中直接构造。关键字-值对来自一个模式时，可以用链表推导式简单的表达关键字-值链表。

<P>
<div class="verbatim"><pre>
&gt;&gt;&gt; dict([('sape', 4139), ('guido', 4127), ('jack', 4098)])
{'sape': 4139, 'jack': 4098, 'guido': 4127}
&gt;&gt;&gt; dict([(x, x**2) for x in vec])     # use a list comprehension
{2: 4, 4: 16, 6: 36}
</pre></div>

<P>

<H1><A NAME="SECTION007500000000000000000"></A><A NAME="loopidioms"></A>
<BR>
5.5 循环技巧 Looping Techniques</H1>

<P>
在字典中循环时，关键字和对应的值可以使用 <tt class="method">iteritems()</tt>方法同时解读出来。

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; knights = {'gallahad': 'the pure', 'robin': 'the brave'}
&gt;&gt;&gt; for k, v in knights.iteritems():
...     print k, v
...
gallahad the pure
robin the brave
</pre></div>

<P>
在序列中循环时，索引位置和对应值可以使用<tt class="function">enumerate()</tt>函数同时得到。

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; for i, v in enumerate(['tic', 'tac', 'toe']):
...     print i, v
...
0 tic
1 tac
2 toe
</pre></div>

<P>
同时循环两个或更多的序列，可以使用 <tt class="function">zip()</tt> 整体解读。

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; questions = ['name', 'quest', 'favorite color']
&gt;&gt;&gt; answers = ['lancelot', 'the holy grail', 'blue']
&gt;&gt;&gt; for q, a in zip(questions, answers):
...     print 'What is your %s?  It is %s.' % (q, a)
...
What is your name?  It is lancelot.
What is your quest?  It is the holy grail.
What is your favorite color?  It is blue.

</pre></div>

<H1><A NAME="SECTION007600000000000000000"></A><A NAME="conditions"></A>
<BR>
5.6 深入条件控制 More on Conditions</H1>

<P>
用于 <code>while</code> 和 <code>if</code> 语句的条件包括了比较之外的操作符。
<P>
<code>in</code> 和 <code>not in</code> 比较操作符审核值是否在一个区间之内。操作符 <code>is</code> <code>is not</code> 和比较两个对象是否相同；这只和诸如链表这样的可变对象有关。所有的比较操作符具有相同的优先级，低于所有的数值操作。
<P>
比较操作可以传递。例如 <code>a &lt; b == c</code> 审核是否 <code>a</code> 小于 <code>b</code> 并 <code>b</code> 等于<code>c</code>。
<P>
比较操作可以通过逻辑操作符 <code>and</code> 和 <code>or</code> 组合，比较的结果可以用 <code>not</code> 来取反义。这些操作符的优先级又低于比较操作符，在它们之中，<code>not</code> 具有最高的优先级， <code>or</code> 优先级最低，所以<code>A and not B or C</code> 等于 <code>(A and (not B)) or C</code>。当然，表达式可以用期望的方式表示。
<P>
逻辑操作符 <code>and</code> 和 <code>or</code> 也称作<em>短路</em>操作符：它们的参数从左向右解析，一旦结果可以确定就停止。例如，如果 <code>A</code> 和 <code>C</code> 为真而 <code>B</code> 为假， <code>A and B and C</code> 不会解析 <code>C</code>。作用于一个普通的非逻辑值时，短路操作符的返回值通常是最后一个变量
<P>
可以把比较或其它逻辑表达式的返回值赋给一个变量，例如：

<P>
<div class="verbatim">
<pre>
&gt;&gt;&gt; string1, string2, string3 = '', 'Trondheim', 'Hammer Dance'
&gt;&gt;&gt; non_null = string1 or string2 or string3
&gt;&gt;&gt; non_null
'Trondheim'
</pre></div>

<P>
需要注意的是Python与C不同，在表达式内部不能赋值。C 程序员经常对此抱怨，不过它避免了一类在 C 程序中司空见惯的错误：想要在解析式中使 <code>==</code> 时误用了 <code>=</code> 操作符。

<P>

<H1><A NAME="SECTION007700000000000000000"></A><A NAME="comparing"></A>
<BR>
5.7 比较序列和其它类型 Comparing Sequences and Other Types</H1>

<P>
序列对象可以与相同类型的其它对象比较。比较操作按 <em>字典序</em> 进行：首先比较前两个元素，如果不同，就决定了比较的结果；如果相同，就比较后两个元素，依此类推，直到所有序列都完成比较。如果两个元素本身就是同样类型的序列，就递归字典序比较。如果两个序列的所有子项都相等，就认为序列相等。如果一个序列是另一个序列的初始子序列，较短的一个序列就小于另一个。字符串的字典序按照单字符的 ASCII 顺序。下面是同类型序列之间比较的一些例子：

<P>
<div class="verbatim">
<pre>
(1, 2, 3)              &lt; (1, 2, 4)
[1, 2, 3]              &lt; [1, 2, 4]
'ABC' &lt; 'C' &lt; 'Pascal' &lt; 'Python'
(1, 2, 3, 4)           &lt; (1, 2, 4)
(1, 2)                 &lt; (1, 2, -1)
(1, 2, 3)             == (1.0, 2.0, 3.0)
(1, 2, ('aa', 'ab'))   &lt; (1, 2, ('abc', 'a'), 4)
</pre></div>

<P>
需要注意的是不同类型的对象比较是合法的。输出结果是确定而非任意的：类型按它们的名字排序。因而，一个链表（list）总是小于一个字符串（string），一个字符串（string）总是小于一个元组（tuple）等等。数值类型比较时会统一它们的数据类型，所以0等于0.0，等等。<A NAME="tex2html6"
  HREF="#foot952"><SUP>5.2</SUP></A>
<P>
<BR><HR><H4>Footnotes</H4>
<DT><A NAME="foot952">...需要注意的是不同类型的对象比较是合法的。输出结果是确定而非任意的：类型按它们的名字排序。因而，一个链表（list）总是小于一个字符串（string），一个字符串（string）总是小于一个元组（tuple）等等。数值类型比较时会统一它们的数据类型，所以0等于0.0，等等。</A><A
 HREF="node7.html#tex2html6"><SUP>5.2</SUP></A></DT>
不同类型对象的比较规则不依赖于此，它们有可能会在Python语言的后继版本中改变。
<DIV CLASS="navigation">
<div class='online-navigation'>
  <hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="4. 深入流程控制 More Control"
  href="node6.html"><img src='icons/previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></A></td>
<td class='online-navigation'><a rel="parent" title="Python Tutorial"
  href="tut.html"><img src='icons/up.png'
  border='0' height='32'  alt='Up One Level' width='32' /></A></td>
<td class='online-navigation'><a rel="next" title="6. 模块 Modules"
  href="node8.html"><img src='icons/next.png'
  border='0' height='32'  alt='Next Page' width='32' /></A></td>
<td align="center" width="100%" class='online-navigation'>Python Tutorial</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="node2.html"><img src='icons/contents.png'
  border='0' height='32'  alt='Contents' width='32' /></A></td>
<td class='online-navigation'><img src='icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='icons/blank.png'
  border='0' height='32'  alt='' width='32' /></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node6.html">4. 深入流程控制 More Control</A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="tut.html">Python Tutorial</A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="node8.html">6. 模块 Modules</A>
</div>
</div>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
</ADDRESS>
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
