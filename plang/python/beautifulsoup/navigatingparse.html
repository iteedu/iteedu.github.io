<!--hmt-->
<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end --><!--end of htmlheader-->


<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->

<!--end of htmlmiddle-->

<h1>Navigating剖析树</h1>
<p><code>Tag</code> 对象都有如下含有所有的成员的列表(尽管，某些实际的成员值可能为<code>None</code>). <code>NavigableString</code>对象也有下面这些成员，除了<code>contents</code>和 <code>string</code>成员。 </p>
<h3><a name="parent" id="parent"><code>parent</code></a></h3>
<p>上面那个 <a href="parsetree.html#The document above">例子</a>中, 
  &lt;HEAD&gt; <code>Tag</code>的parent是&lt;HTML&gt; <code>Tag</code>. &lt;HTML&gt; <code>Tag</code> 的parent是<code>BeautifulSoup</code> 剖析对象自己。 剖析对象的parent是<code>None</code>. 
  利用<code>parent</code>，你可以向前遍历剖析树。 </p>
<pre class="code">soup.head.parent.name
# <samp>u'html'</samp>
soup.head.parent.parent.__class__.__name__
# <samp>'BeautifulSoup'</samp>
soup.parent == None
# <samp>True</samp>
</pre>
<h3><a name="contents" id="contents"><code>contents</code></a></h3>
<p>使用<code>parent</code>向前遍历树。使用<code>contents</code>向后遍历树。 <code>contents</code>是<code>Tag</code>的有序列表， <code>NavigableString</code> 对象包含在一个页面元素内。只有最高层的剖析对象和 <code>Tag</code> 对象有<code>contents</code>。 <code>NavigableString</code> 只有strings，不能包含子元素，因此他们也没有<code>contents</code>. </p>
<p>在上面的<a href="parsetree.html#The document above">例子</a>中， <code>contents</code> 的第一个&lt;P&gt; <code>Tag</code>是个列表，包含一个 <code>NavigableString</code> (&quot;This is paragraph &quot;), 一个&lt;B&gt; <code>Tag</code>, 和其它的 <code>NavigableString</code> (&quot;.&quot;)。而<code>contents</code> 的&lt;B&gt; <code>Tag</code>:
  包含一个<code>NavigableString</code> (&quot;one&quot;)的列表。 </p>
<pre class="code">pTag = soup.p
pTag.contents
# <samp>[u'This is paragraph ', &lt;b&gt;one&lt;/b&gt;, u'.']</samp>
pTag.contents[1].contents
# <samp>[u'one']</samp>
pTag.contents[0].contents
# <samp>AttributeError: 'NavigableString' object has no attribute 'contents'</samp>
</pre>
<h3><a name="string" id="string"><code>string</code></a></h3>
<p>为了方便，如果一个标签只有一个子节点且是字符串类型，这个自己可以这样访问 <code>tag.string</code>，等同于<code>tag.contents[0]</code>的形式。
  
  在上面的<a href="parsetree.html#The document above">例子</a>中， <code>soup.b.string</code>是个<code>NavigableString</code>对象，它的值是Unicode字符串&quot;one&quot;.
  这是剖析树中&lt;B&gt;<code>Tag</code> 的第一个string。 </p>
<pre class="code">soup.b.string
# <samp>u'one'</samp>
soup.b.contents[0]
# <samp>u'one'</samp>
</pre>
<p>但是<code>soup.p.string</code>是<code>None</code>, 剖析中的第一个&lt;P&gt; <code>Tag</code> 拥有多个子元素。<code>soup.head.string</code>也为<code>None</code>,
  虽然&lt;HEAD&gt; Tag只有一个子节点，但是这个子节点是<code>Tag</code>类型 (&lt;TITLE&gt; <code>Tag</code>)，
  不是<code>NavigableString</code>。 </p>
<pre class="code">soup.p.string == None
# <samp>True</samp>
soup.head.string == None
# <samp>True</samp>
</pre>
<h3><a name="nextSibling and previousSibling" id="nextSibling and previousSibling"><code>nextSibling</code>和<code>previousSibling</code></a></h3>
<p>使用它们你可以跳往在剖析树中同等层次的下一个元素。
  在上面的<a href="parsetree.html#The document above">文档中</a>，
  &lt;HEAD&gt; <code>Tag</code>的<code>nextSibling</code> 是&lt;BODY&gt; <code>Tag</code>，
  因为&lt;BODY&gt; <code>Tag</code>是在&lt;html&gt; <code>Tag</code>的下一层。
  &lt;BODY&gt;标签的<code>nextSibling</code>为<code>None</code>, 
  因为&lt;HTML&gt;下一层没有标签是直接的在它之后。 </p>
<pre class="code">soup.head.nextSibling.name
# <samp>u'body'</samp>
soup.html.nextSibling == None
# <samp>True</samp>
</pre>
<p>相应的&lt;BODY&gt; <code>Tag</code>的<code>previousSibling</code>是&lt;HEAD&gt;标签，
  &lt;HEAD&gt; <code>Tag</code>的<code>previousSibling</code>为<code>None</code>： </p>
<pre class="code">soup.body.previousSibling.name
# <samp>u'head'</samp>
soup.head.previousSibling == None
# <samp>True</samp>
</pre>
<p>更多例子：&lt;P&gt; <code>Tag</code>的第一个<code>nextSibling</code>是第二个
  &lt;P&gt; <code>Tag</code>。
  第二个&lt;P&gt;<code>Tag<code>里的&lt;B&gt;<code>Tag</code>的<code>previousSibling</code>是 <code>NavigableString</code>&quot;This is paragraph&quot;。
  这个<code>NavigableString</code>的<code>previousSibling</code>是<code>None</code>, 
  不会是第一个&lt;P&gt; <code>Tag</code>里面的任何元素。 </p>
<pre class="code">soup.p.nextSibling
# <samp>&lt;p id=&quot;secondpara&quot; align=&quot;blah&quot;&gt;This is paragraph &lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;</samp>

secondBTag = soup.findAlll('b')[1]
secondBTag.previousSibling
# <samp>u'This is paragraph'</samp>
secondBTag.previousSibling.previousSibling == None
# <samp>True</samp>
</pre>
<h3><a name="next and previous" id="next and previous"><code>next</code>和<code>previous</code></a></h3>
<p>使用它们可以按照soup处理文档的次序遍历整个文档，而不是它们在剖析树中看到那种次序。
  例如&lt;HEAD&gt; <code>Tag</code>的<code>next</code>是&lt;TITLE&gt;<code>Tag</code>,
  而不是&lt;BODY&gt; <code>Tag</code>。
  这是因为在<a href="parsetree.html#The document above">原始文档</a>中，&lt;TITLE&gt;
  tag 直接在&lt;HEAD&gt;标签之后。 </p>
<pre class="code">soup.head.next
# <samp>u'title'</samp>
soup.head.nextSibling.name
# <samp>u'body'</samp>
soup.head.previous.name
# <samp>u'html'</samp>
</pre>
<p>Where <code>next</code> and <code>previous</code> are concerned, a <code>Tag</code>'s <code>contents</code> come
  before its <code>nextSibling</code>. 
  通常不会用到这些成员，但有时使用它们能够非常方便地从剖析树获得不易找到的信息。 </p>
<h3><a name="Iterating over a Tag" id="Iterating over a Tag">遍历一个标签(Iterating over a Tag)</a></h3>
<p>你可以像遍历list一样遍历一个标签(<code>Tag</code>)的<code>contents</code> 。
  这非常有用。类似的，一个Tag的有多少child可以直接使用len(tag)而不必使用len(tag.contents)来获得。
  以上面那个<a href="parsetree.html#The document above">文档</a>中的为例： </p>
<pre class="code">for i in soup.body:
    print i
# <samp>&lt;p id=&quot;firstpara&quot; align=&quot;center&quot;&gt;This is paragraph &lt;b&gt;one&lt;/b&gt;.&lt;/p&gt;</samp>
# <samp>&lt;p id=&quot;secondpara&quot; align=&quot;blah&quot;&gt;This is paragraph &lt;b&gt;two&lt;/b&gt;.&lt;/p&gt;</samp>

len(soup.body)
# <samp>2</samp>
len(soup.body.contents)
# <samp>2</samp>
</pre>
<h3><a name="Using tag names as members" id="Using tag names as members">使用标签(tag)名作为成员</a></h3>
<p>像剖析对象或Tag对象的成员一样使用Tag名可以很方便的操作剖析树。
  前面一些例子我们已经用到了这种方式。以上述<a href="parsetree.html#The document above">文档</a>为例， <code>soup.head</code>获得文档第一个&lt;HEAD&gt;标签： </p>
<pre class="code">soup.head
# <samp>&lt;head&gt;&lt;title&gt;Page title&lt;/title&gt;&lt;/head&gt;</samp>
</pre>
<p>通常，调用<code>mytag.foo</code>获得的是<code>mytag</code>的第一个child，同时必须是一个&lt;FOO&gt; <code>标签</code>。
  如果在<code>mytag</code>中没有&lt;FOO&gt; <code>标签</code>，<code>mytag.foo</code>返回一个<code>None</code>。
  你可以使用这中方法快速的读取剖析树： </p>
<pre class="code">soup.head.title
# <samp>&lt;title&gt;Page title&lt;/title&gt;</samp>

soup.body.p.b.string
# <samp>u'one'</samp>
</pre>
<p>你也可以使用这种方法快速的跳到剖析树的某个特定位置。例如，如果你担心&lt;TITLE&gt; tags会离奇的在&lt;HEAD&gt; tag之外，
  你可以使用<code>soup.title</code>去获得一个HTML文档的标题(title)，而不必使用<code>soup.head.title</code>: </p>
<pre class="code">soup.title.string
# <samp>u'Page title'</samp>
</pre>
<p><code>soup.p</code>跳到文档中的第一个 &lt;P&gt; tag，不论它在哪里。 <code>soup.table.tr.td</code> 跳到文档总第一个table的第一列第一行。 </p>
<p>这些成员实际上是下面<code>first</code> 方法的别名，<a href="searchingparse.html">这里</a>更多介绍。
  这里提到是因为别名使得一个定位(zoom)一个结构良好剖析树变得异常容易。 </p>
<p>获得第一个&lt;FOO&gt; 标签另一种方式是使用<code>.fooTag</code> 而不是 <code>.foo</code>。
  例如，<code>soup.table.tr.td</code>可以表示为<code>soup.tableTag.trTag.tdTag</code>，甚至为<code>soup.tableTag.tr.tdTag</code>。
  如果你喜欢更明确的知道表示的意义，或者你在剖析一个标签与Beautiful Soup的方法或成员有冲突的XML文档是，使用这种方式非常有用。 </p>
<pre class="code">from BeautifulSoup import BeautifulStoneSoup
xml = '&lt;person name=&quot;Bob&quot;&gt;&lt;parent rel=&quot;mother&quot; name=&quot;Alice&quot;&gt;'
xmlSoup = BeautifulStoneSoup(xml)

xmlSoup.person.parent                      # A Beautiful Soup member
# <samp>&lt;person name=&quot;Bob&quot;&gt;&lt;parent rel=&quot;mother&quot; name=&quot;Alice&quot;&gt;&lt;/parent&gt;&lt;/person&gt;</samp>
xmlSoup.person.parentTag                   # A tag name
# <samp>&lt;parent rel=&quot;mother&quot; name=&quot;Alice&quot;&gt;&lt;/parent&gt;</samp>
</pre>
<p>如果你要找的标签名不是有效的Python标识符，(例如<code>hyphenated-name</code>)，你就需要使用<code>first</code>方法了。 </p>


<!--start of htmlend-->
<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->