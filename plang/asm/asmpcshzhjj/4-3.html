<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->


  <div  class="lpindex"><a href="index.html">目录</a> <a href="4-22.html">上一页</a> <a href="4-4.html">下一页</a> </div>
  <h2>4．3 数字的表示</h2>
  <p>第一章中已经讲过一些二进制数与十六进制数的知识，现在我们要对已有的知识做些扩充，最重要的一个问题就是二进制数是如何表示&quot;符号&quot;的。</p>
  <p> 这个问题并不复杂，表示一个带符号的整数常用的方法有三种：原码、反码表示法和补码表示法。先来看看原码表示法。在计算机中，数的符号是用一个数位来表示的，一般用数的最高位。正号用0表示，负号用1表示。所谓原码，就是简单地遵循这一规定的一种表示法。例如我们用原码表示＋1，可以写成00000001，其最高位是0，表明这个数的符号是&quot;+&quot;。如果表示－1，则可以写成&quot;10000001&quot;，最高位的&quot;1&quot;就表示其符号为&quot;―&quot;。这种表示带符号数的方法法就是原码表示法。</p>
  <p>反码比原码复杂一些，它规定若一个数值为正，则它的反码和原码形式相同。如＋1仍写成&quot;00000001&quot;；若一个数值为负，则反码的符号位为1，其余各位对原码取反。如－1写成&quot;11111110&quot;；这两种方法在计算机中很少采用，原因很简单，原码和反码不便于运算。举个例子：用原码计算－1＋1＝？</p>
  <p>问题似乎不难，但需要考虑的事情很多。假如只是简单地在&quot;10000001&quot;的最低位加上1，那么将得到结果--10000010，根据原码的规定，这个结果是－2。<br />
    要想得到正确结果，我们必须首先要考虑将符号位置0，同时最低位也不能加1，而要减1。即使采用反码计算，也要单独处理其符号。这样计算不仅对我们自己，就是对CPU来说也是不方便的。因此，多数机器都采用补码表示法。</p>
  <p>在补码表示法中对于负数的表达要比反码麻烦一些，负数X用&quot;2n－｜X｜&quot;表示，其中&quot;n&quot;是数的位数。对于八位二进制数来讲n＝8，因此用八位二进制补码表示－1就是28－1＝11111111，也就是十六进制数0FFH。正数的表示方法和原码一样，＋1也写成&quot;00000001&quot;。 </p>
  <p>由此我们可以发现正负数之间具有这样一种转换关系：将＋1的所有位取反得到&quot;11111110&quot;，再在最低位上加1就得到&quot;11111111&quot;，也就是－1。同时我们也能看出补码表示法中关于符号位的规定和原码是一样的。</p>
  <p> 那么&quot;10000001&quot;在补码表示法中是哪个数呢？按照刚才发现的规律，将它的各个位取反，得&quot;01111110&quot;，再加上1，得&quot;01111111&quot;，即十进制的＋127，也就是说&quot;10000001&quot;表示－127。</p>
  <p>为什么要用这样的表示法，这主要是因为补码便于计算。我们可以用补码重新计算－1＋1＝？</p>
  <p>由于－1的补码是&quot;11111111&quot;，将其加1，会得到&quot;100000000&quot;，这是一个九位二进制数，如果舍掉最高位，就得到正确的结果--00000000。</p>
  <p>这似乎有点不讲理，凭什么舍去最高位呢？道理其实很简单，我们先来看看是否真有这样的现象，启动DEBUG输入下面两条指令： </p>
  <pre class="code">C:\ASM\&gt;DEBUG[Enter] 
    -a100[Enter] 
    0F6A:0100 mov al,ff 
    0F6A:0102 add   al,1 
    0F6A:0104 [Enter] 

-r
AX=0000 BX=0000 CX=0000 DX=0000 SP=FFEE BP=0000 SI=0000 DI=0000
DS=0F6A ES=0F6A SS=0F6A CS=0F6A IP=0100 NV UP EI PL NZ NA PO NC
0F6A:0100 B0FF MOV AL,FF

-t
AX=00FF BX=0000 CX=0000 DX=0000 SP=FFEE BP=0000 SI=0000 DI=0000
DS=0F6A ES=0F6A SS=0F6A CS=0F6A IP=0102 NV UP EI PL NZ NA PO NC
0F6A:0102 0401 ADD AL,01

-t
AX=0000 BX=0000 CX=0000 DX=0000 SP=FFEE BP=0000 SI=0000 DI=0000
DS=0F6A ES=0F6A SS=0F6A CS=0F6A IP=0104 NV UP EI PL NZ AC PO CY
0F6A:0104 56 PUSH SI
</pre>
  <p>可以看到将FF（-1）加1之后AL确实成了0。AL是八位寄存器，它不可以记录第九位，因而在AL寄存器中只保留了低八位。</p>
  <p> 那么是不是多出的一位就无影无踪了呢？并非如此，如果仔细观察DEBUG显示出的内容，就会发现标志寄存器中有一些位发生了变化：AF（辅助进位标志）和CF（借位/进位标志）被置成1了。</p>
  <p> 由于我们采用了八位寄存器，运算结果产生了第九位，这一位作为进位送入了CF标志位。至于AF，它记录了AL寄存器低&quot;四&quot;位的进位情况。请看下面的实例： </p>
  <pre class="code">C:\ASM\&gt;DEBUG[Enter] 
    -a100[Enter] 
    0B0B:0100 mov al,f 
    0B0B:0102 inc   al 
    0B0B:0104 

-r
AX=0000 BX=0000 CX=0000 DX=0000 SP=FFEE BP=0000 SI=0000 DI=0000
DS=0B0B ES=0B0B SS=0B0B CS=0B0B IP=0100 NV UP EI PL NZ NA PO NC
0B0B:0100 B00F MOV AL,0F

-t
AX=00FF BX=0000 CX=0000 DX=0000 SP=FFEE BP=0000 SI=0000 DI=0000
DS=0B0B ES=0B0B SS=0B0B CS=0B0B IP=0102 NV UP EI PL NZ NA PO NC
0B0B:0102 FEC0 INC AL

-t
AX=0000 BX=0000 CX=0000 DX=0000 SP=FFEE BP=0000 SI=0000 DI=0000
DS=0B0B ES=0B0B SS=0B0B CS=0B0B IP=0104 NV UP EI PL NZ AC PO NC
0B0B:0104 7463 JZ 0169
</pre>
  <p>低四位产生进位的情况由AF反映出来。</p>
  <p> 采用补码表示法还有一个好处，它可以把加、减法统一成加法，很容易看出1－1和1＋FF（－1）的实际结果是一样的。至于补码的乘除法运算这里不再多讲，查阅有关书籍即可掌握。</p>
  <p> 明白了数字的表示方法，那么我们在前面讨论的移位与乘除法的问题也就迎刃而解了。用&quot;SHL/SHR&quot;指令移位会使符号位发生变化，所以负数无法用这两条指令完成乘除计算。</p>
  <p> 现在我们从&quot;带符号数&quot;的角度来看0F0H与0FFF0H这两个数，可以看出它们的确是相等的。在计算机技术中数的符号是一个比较微妙的问题，就拿0FFH这个数来说，作为一个&quot;无符号数&quot;（最高位不表示符号）它是+255，而作为&quot;带符号数&quot;它就成了-1。那么计算机究竟把它当成什么呢？这个问题现在讨论它还为时过早，在后面的章节里会对这个问题做补充说明。总之，补码的知识是很重要的，大家应该熟练地掌握。 </p>
  <div  class="rpindex"><a href="4-4.html">下一页</a><a href="4-22.html">上一页</a><a href="index.html">目录</a> </div>


<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
