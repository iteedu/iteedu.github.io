<!-- header-start -->
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="/include/js/jquery.min.js" language="javascript"></script>
<script src="/include/js/jquery-ui.min.js" language="javascript"></script>
<link href="/include/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="/include/css/main.css" rel="stylesheet" type="text/css" />

<SCRIPT>
	$(document).ready(function() {
		$( "#menu" ).menu({ position: { my: "left top", at: "right-100 top+35" } });
	});
</SCRIPT>

<!-- header-end -->
<!-- middle-start -->
﻿
<base target="_blank" />
</head>
<body>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https'){
   bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
  bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!-- topmenu-start -->
<header>
    <section id="global-nav">
        <nav>
            <ul class="projects">
                    <li><a href="/">ITeedu.com</a></li>
            </ul>
            <ul class="links">
                    <li><a>快捷导航</a>
                        <ul>
                            <li><a href="/plang/">编程语言</a></li>
                            <li><a href="/webtech/">WEB开发</a></li>
                            <li><a href="/handset/">手机开发</a></li>
                            <li><a href="/database/">数据库</a></li>
                            <li><a href="/os/">操作系统</a></li>
                            <li><a href="/embed/">嵌入式</a></li>
                            <li><a href="/opensource/">开源软件</a></li>
                            <li><a href="/works/">作品</a></li>

                        </ul>
                    </li>
                    <li><a href="/plang/asm/">编辑语言</a>
                        <ul>
                                <li><a href="/plang/asm/">汇编</a></li>
                                <li><a href="/plang/ccpp/">C/C++</a> </li>
                                <li><a href="/plang/java/">JAVA</a> </li>
                                <li><a href="/plang/python/">Python</a> </li>
                                <li><a href="/plang/ruby/">Ruby</a></li>
                        </ul>
                    </li>
                    <li><a href="/webtech/">WEB开发</a>
                        <ul>
                            <li><a href="/webtech/javascript/">javascript</a> </li>
                            <li><a href="/webtech/j2ee/">J2EE</a> </li>
                            <li><a href="/webtech/php/">PHP</a> </li>
                            <li><a href="/webtech/python/djangocn2/">Django</a> </li>
                        </ul>
                    </li>
					<li><a href="/me/contactme.htm">关于</a></li>
            </ul>
        </nav>
    </section>
</header>
<!-- topmenu-end -->

<div id="container" style="margin: 35px 120px 0px 120px;">
	<div id="logo-wapper">
		<div style="float:left;width:150px;" ><h1 class="logo">ITEEDU</h1></div>
		<div style="float:right;width:760px">

		</div>
		<div style="clear:both;"></div>
	</div>
<nav id="main-nav">
<!-- menunav-start -->
<div id="menu">
    <li><a href="/plang/">编程语言</a>
        <ul>
            <LI><a href="/plang/asm/">汇编</a></LI>
            <LI><a href="/plang/ccpp/">C/C++</a> </LI>
            <LI><a href="/plang/java/">JAVA</a> </LI>
            <LI><a href="/plang/python/">Python</a> </LI>
            <LI><a href="/plang/ruby/">Ruby</a></LI>
        </ul>
    </li>
    <li><a href="/webtech/index.php">WEB开发</a>
        <ul>
            <LI><a href="/webtech/j2ee/">J2EE</a></LI>
            <LI><a href="/webtech/php/">PHP</a> </LI>
            <LI><a href="/webtech/python/djangocn2/">djangocn2</a> </LI>
        </ul>
    </li>
    <li><a href="/handset/index.php">手机开发</a>
        <ul>
            <LI><a href="/handset/android/">android</a></LI>
            <LI><a href="/handset/iphone/">iphone</a> </LI>
        </ul>
    </li>
    <li><a href="/database/index.php">数据库</a>
        <ul>
            <LI><a href="/database/mysql/">MYSQL</a></LI>
            <LI><a href="/database/sqlite/">sqlite</a></LI>
    	</ul>
    </li>
    <li><a href="/os/">操作系统</a>
        <ul>
        	<LI><a href="/os/linux/">Linux</a></LI>
        	<LI><a href="/os/grub/">GRUB</a></LI>
    	</ul>
     </li>
     <li><a href="/embed/">嵌入式</a></li>
     <li><a href="/opensource/">开源软件</a></li>
</div>
<!-- menunav-end -->
</nav>
<div id="content-wrapper">
<div id="file-wrapper">


<!-- middle-end -->


  <div  class="lpindex"><a href="index.html">目录</a> <a href="5-2.html">上一页</a> <a href="5-3.html">下一页</a> </div>
  <p>除了部分调用之外，过程还可以对其自身进行调用，这就是所谓的递归调用，而这样的过程称为递归过程。采用递归算法往往能编制出效率较高的程序，但要注意一点--待解决的问题要有递归定义。请看这样一个问题：如何将任意字符串按逆序印出？<br />
    问题十分简单，通常的方法是用BX（或其它）寄存器作为指针，指向最后一个字符，而后让指针递减，依次取出每个字符打印出来。下面的程序就是按这种思路编制的：</p>
  <h5>DISP.ASM</h5>
  <pre class="code">        data  segment   
              assume    ds:data
mess	db'Welcome to PC world!',0dh,0ah,24h		
        data  ends

        code  segment   cs:code
              assume    far
        main  proc      ax,data
              mov       ds,ax			；初始化DS寄存器指向数据区
              mov
              mov       dx,offset mess	；DX寄存器指向字符串MESS
              mov       ah,9
              int       21h				；显示字符串MESS

              mov       cx,22			；处理22个字符
              mov       bx,offset mess+21	；BX寄存器指向字符串的末尾一个字符

      loop1:  mov       dl,byte ptr [bx]	；取得末尾一个字符
              mov       ah,2			；显示这个字符
              int       21h
              dec       bx				；BX指向前一个字符
              loop      loop1			；循环至LOOP1显示前一个字符

              mov       ah,4ch			；结束进程
              int       21h
        main  endp
        code  ends
              end       main
</pre>
  <p>这种解决问题的方法显得有点儿累，它不适合逆序显示任意长度的字符串。下面我们换一种思路来考虑这个问题。</p>
  <p> 这个问题可以分成两种情况：（1）字符串只有一个字符；（2）字符串有一个以上的字符。</p>
  <p> 对于第一种情况，我们只要将此字符显示出来即可，对于第二种情况，我们可以将多字符组成的字符串分解成&quot;首字符＋其余字符组成的新字串&quot;，那么逆序显示这个字符串的问题就变成了&quot;先逆序显示'其余字符组成的新字串'，再显示'首字符'&quot;。图5－2描绘出这个算法：</p>
  <p><img src="figures/F5_2.gif"  height="412" /></p>
  <h4><br />
    图5-2 字符串逆序输出算法</h4>
  <p>　程序DISP2.ASM就是据此思路编制出的：</p>
  <h5>DISP2.ASM</h5>
  <pre class="code">        data  segment
              assume    ds:data
        mess  db        'Welco	me to PC world',0dh,0ah,24h
        data  ends

        code  segment
              assume    cs:code
        main  proc      far
              mov       ax,data	；初始化DS寄存器指向数据段
              mov       ds,ax
              mov       dx,offset mess	；DX寄存器指向字符串
              mov       ah,9	；显示这个字符串
              int       21h
              push      dx		；字符串首地址压入堆栈
              call      disp	；调用DISP子过程进行逆序显示

              mov       ah,4ch	；结束进程
              int       21h
        main  endp

        disp  proc      near	；DISP子过程入口
              push      bp		；保存BP寄存器
              mov       bp,sp	；堆栈指针送入BP寄存器
              mov       bx,[bp+4]			；从堆栈中取得字符串指针
              cmp       byte ptr [bx+1],'$'	；判断指针指向的字符是否为最后一个
              jnz       not_end				；不是最后一个则转NOT_END
;#1部分	－－－－	显示最后一个字符－－－	
              mov       dl,byte ptr [bx]	；最后一个字符送入DL寄存器
              mov       ah,2				；显示这个字符
              int       21h
              pop       bp					；恢复BP寄存器
              ret      						 ；返回（实际将返回RETN_ADDR处）
;－－－－	－－－－		
    not_end:
              inc       bx			；字符串指针指向下一个字符
              push      bx			；字符串指针压入堆栈
              call      disp		；调用DISP子过程逆序显示剩余字符
;#2部分	－－－－显示上一个字符－－－	
retn_addr			
              pop       bx			；取回字符串指针
              dec       bx			；BX指向前一个字符
              mov       dl,byte ptr [bx]	；取得前一个字符
              mov       ah,2		；显示前一个字符
              int       21h
              pop       bp			；恢复BP寄存器
              ret       		；返回（反复返回至RETN_ADDR处，最后返
;－－－－－－－－				；回至主过程）
        disp  endp
        code  ends
              end       main
</pre>
  <p>&quot;DISP&quot;是这个程序的核心。主过程调用&quot;DISP&quot;之前先在堆栈中压入了一个指向字符串首的指针，&quot;DISP&quot;过程取得指针后首先判断此指针是否指向字符串的最后一个字符，若不是则将指针加一后压入堆栈并调用其自身。反复几次后堆栈中将形成如图5-3所示的一系列数据组。<br />
    我们把一次调用在堆栈中保存的数据称为一帧。当指针最终指向最后一个字符时，DISP将按第一种情况处理--执行&quot;#1部分&quot;程序显示最后这个字符。这部分程序结束时的RET指令使CPU返回至&quot;#2部分&quot;继续执行程序。这部分程序负责由堆栈中取回指针并将其减1，使其指向前一个字符，然后将这个字符显示出来。这一段程序结束时的RET指令仍然使CPU返回至&quot;RETN＿ADDR&quot;处，直至堆栈中所有数据帧处理完毕后DISP才真正返回到主过程。 </p>
  <p><img src="figures/F5_3.gif"  height="295" /></p>
  <h4>图5-3 递归调用的堆栈结构</h4>
  <div  class="rpindex"><a href="5-3.html">下一页</a><a href="5-2.html">上一页</a> <a href="index.html">目录</a> </div>


<!-- tail-start -->
﻿
<div style="clear:both;"></div>

</div>
<!--end of file-wrpper-->
</div>
<!--end of content-wrapper-->
</div>
<!--end of container-->


<footer>
<p class="copyright">版权所有 2014 <a href="http://www.iteedu.com">ITEEDU</a>, 京ICP备16069454号</p>
</footer>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<!--百度统计js-->
<p style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fa5213b08a76d4fc6b8a80eb382490e0b' type='text/javascript'%3E%3C/script%3E"));
</script>
</p>

</body>

</html>


<!-- tail-end -->
